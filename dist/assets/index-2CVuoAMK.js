var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(e&&(t=e(e=0)),t),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),c=e=>{let n={};for(var r in e)t(n,r,{get:e[r],enumerable:!0});return n},l=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},u=(n,r,a)=>(a=n==null?{}:e(i(n)),l(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),d=e=>l(t({},`__esModule`,{value:!0}),e);(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e){if(t.type!==`childList`)continue;for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var f=s((exports=>{var t=Symbol.for(`react.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.provider`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.iterator;function p(e){return typeof e!=`object`||!e?null:(e=f&&e[f]||e[`@@iterator`],typeof e==`function`?e:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`setState(...): takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function v(){}v.prototype=_.prototype;function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}var b=y.prototype=new v;b.constructor=y,h(b,_.prototype),b.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,C={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function w(e,n,r){var i,a={},o=null,s=null;if(n!=null)for(i in n.ref!==void 0&&(s=n.ref),n.key!==void 0&&(o=``+n.key),n)S.call(n,i)&&!ee.hasOwnProperty(i)&&(a[i]=n[i]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)a[i]===void 0&&(a[i]=c[i]);return{$$typeof:t,type:e,key:o,ref:s,props:a,_owner:C.current}}function te(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function ne(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function re(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var ie=/\/+/g;function ae(e,t){return typeof e==`object`&&e&&e.key!=null?re(``+e.key):t.toString(36)}function oe(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0}}if(c)return c=e,o=o(c),e=a===``?`.`+ae(c,0):a,x(o)?(i=``,e!=null&&(i=e.replace(ie,`$&/`)+`/`),oe(o,r,i,``,function(e){return e})):o!=null&&(ne(o)&&(o=te(o,i+(!o.key||c&&c.key===o.key?``:(``+o.key).replace(ie,`$&/`)+`/`)+e)),r.push(o)),1;if(c=0,a=a===``?`.`:a+`:`,x(e))for(var l=0;l<e.length;l++){s=e[l];var u=a+ae(s,l);c+=oe(s,r,i,u,o)}else if(u=p(e),typeof u==`function`)for(e=u.call(e),l=0;!(s=e.next()).done;)s=s.value,u=a+ae(s,l++),c+=oe(s,r,i,u,o);else if(s===`object`)throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`);return c}function se(e,t,n){if(e==null)return e;var r=[],i=0;return oe(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ce(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var le={current:null},ue={transition:null},de={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:ue,ReactCurrentOwner:C};function fe(){throw Error(`act(...) is not supported in production builds of React.`)}exports.Children={map:se,forEach:function(e,t,n){se(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return se(e,function(){t++}),t},toArray:function(e){return se(e,function(e){return e})||[]},only:function(e){if(!ne(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}},exports.Component=_,exports.Fragment=r,exports.Profiler=a,exports.PureComponent=y,exports.StrictMode=i,exports.Suspense=l,exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,exports.act=fe,exports.cloneElement=function(e,n,r){if(e==null)throw Error(`React.cloneElement(...): The argument must be a React element, but you passed `+e+`.`);var i=h({},e.props),a=e.key,o=e.ref,s=e._owner;if(n!=null){if(n.ref!==void 0&&(o=n.ref,s=C.current),n.key!==void 0&&(a=``+n.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in n)S.call(n,l)&&!ee.hasOwnProperty(l)&&(i[l]=n[l]===void 0&&c!==void 0?c[l]:n[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:t,type:e.type,key:a,ref:o,props:i,_owner:s}},exports.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o,_context:e},e.Consumer=e},exports.createElement=w,exports.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},exports.createRef=function(){return{current:null}},exports.forwardRef=function(e){return{$$typeof:c,render:e}},exports.isValidElement=ne,exports.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ce}},exports.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},exports.startTransition=function(e){var t=ue.transition;ue.transition={};try{e()}finally{ue.transition=t}},exports.unstable_act=fe,exports.useCallback=function(e,t){return le.current.useCallback(e,t)},exports.useContext=function(e){return le.current.useContext(e)},exports.useDebugValue=function(){},exports.useDeferredValue=function(e){return le.current.useDeferredValue(e)},exports.useEffect=function(e,t){return le.current.useEffect(e,t)},exports.useId=function(){return le.current.useId()},exports.useImperativeHandle=function(e,t,n){return le.current.useImperativeHandle(e,t,n)},exports.useInsertionEffect=function(e,t){return le.current.useInsertionEffect(e,t)},exports.useLayoutEffect=function(e,t){return le.current.useLayoutEffect(e,t)},exports.useMemo=function(e,t){return le.current.useMemo(e,t)},exports.useReducer=function(e,t,n){return le.current.useReducer(e,t,n)},exports.useRef=function(e){return le.current.useRef(e)},exports.useState=function(e){return le.current.useState(e)},exports.useSyncExternalStore=function(e,t,n){return le.current.useSyncExternalStore(e,t,n)},exports.useTransition=function(){return le.current.useTransition()},exports.version=`18.3.1`})),p=s(((exports,t)=>{t.exports=f()})),m=s((exports=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(typeof performance==`object`&&typeof performance.now==`function`){var a=performance;exports.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();exports.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=typeof setTimeout==`function`?setTimeout:null,_=typeof clearTimeout==`function`?clearTimeout:null,v=typeof setImmediate<`u`?setImmediate:null;typeof navigator<`u`&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function b(e){if(h=!1,y(e),!m)if(n(c)!==null)m=!0,se(x);else{var t=n(l);t!==null&&ce(b,t.startTime-e)}}function x(t,i){m=!1,h&&(h=!1,_(ee),ee=-1),p=!0;var a=f;try{for(y(i),d=n(c);d!==null&&(!(d.expirationTime>i)||t&&!ne());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=i);i=exports.unstable_now(),typeof s==`function`?d.callback=s:d===n(c)&&r(c),y(i)}else r(c);d=n(c)}if(d!==null)var u=!0;else{var g=n(l);g!==null&&ce(b,g.startTime-i),u=!1}return u}finally{d=null,f=a,p=!1}}var S=!1,C=null,ee=-1,w=5,te=-1;function ne(){return!(exports.unstable_now()-te<w)}function re(){if(C!==null){var t=exports.unstable_now();te=t;var n=!0;try{n=C(!0,t)}finally{n?ie():(S=!1,C=null)}}else S=!1}var ie;if(typeof v==`function`)ie=function(){v(re)};else if(typeof MessageChannel<`u`){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=re,ie=function(){oe.postMessage(null)}}else ie=function(){g(re,0)};function se(e){C=e,S||(S=!0,ie())}function ce(t,n){ee=g(function(){t(exports.unstable_now())},n)}exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(e){e.callback=null},exports.unstable_continueExecution=function(){m||p||(m=!0,se(x))},exports.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},exports.unstable_getCurrentPriorityLevel=function(){return f},exports.unstable_getFirstCallbackNode=function(){return n(c)},exports.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=function(){},exports.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},exports.unstable_scheduleCallback=function(r,i,a){var o=exports.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(_(ee),ee=-1):h=!0,ce(b,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,se(x))),r},exports.unstable_shouldYield=ne,exports.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),h=s(((exports,t)=>{t.exports=m()})),g=s((exports=>{var t=p(),n=h();function r(e){for(var t=`https://reactjs.org/docs/error-decoder.html?invariant=`+e,n=1;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n]);return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}var i=new Set,a={};function o(e,t){s(e,t),s(e+`Capture`,t)}function s(e,t){for(a[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(e){return l.call(f,e)?!0:l.call(d,e)?!1:u.test(e)?f[e]=!0:(d[e]=!0,!1)}function g(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case`function`:case`symbol`:return!0;case`boolean`:return r?!1:n===null?(e=e.toLowerCase().slice(0,5),e!==`data-`&&e!==`aria-`):!n.acceptsBooleans;default:return!1}}function _(e,t,n,r){if(t==null||g(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function v(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};`children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style`.split(` `).forEach(function(e){y[e]=new v(e,0,!1,e,null,!1,!1)}),[[`acceptCharset`,`accept-charset`],[`className`,`class`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`]].forEach(function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)}),[`contentEditable`,`draggable`,`spellCheck`,`value`].forEach(function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),[`autoReverse`,`externalResourcesRequired`,`focusable`,`preserveAlpha`].forEach(function(e){y[e]=new v(e,2,!1,e,null,!1,!1)}),`allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope`.split(` `).forEach(function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),[`checked`,`multiple`,`muted`,`selected`].forEach(function(e){y[e]=new v(e,3,!0,e,null,!1,!1)}),[`capture`,`download`].forEach(function(e){y[e]=new v(e,4,!1,e,null,!1,!1)}),[`cols`,`rows`,`size`,`span`].forEach(function(e){y[e]=new v(e,6,!1,e,null,!1,!1)}),[`rowSpan`,`start`].forEach(function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}`accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height`.split(` `).forEach(function(e){var t=e.replace(b,x);y[t]=new v(t,1,!1,e,null,!1,!1)}),`xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type`.split(` `).forEach(function(e){var t=e.replace(b,x);y[t]=new v(t,1,!1,e,`http://www.w3.org/1999/xlink`,!1,!1)}),[`xml:base`,`xml:lang`,`xml:space`].forEach(function(e){var t=e.replace(b,x);y[t]=new v(t,1,!1,e,`http://www.w3.org/XML/1998/namespace`,!1,!1)}),[`tabIndex`,`crossOrigin`].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v(`xlinkHref`,1,!1,`xlink:href`,`http://www.w3.org/1999/xlink`,!0,!1),[`src`,`href`,`action`,`formAction`].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function S(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(i===null?r||!(2<t.length)||t[0]!==`o`&&t[0]!==`O`||t[1]!==`n`&&t[1]!==`N`:i.type!==0)&&(_(t,n,i,r)&&(n=null),r||i===null?m(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,``+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:``:n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&!0===n?``:``+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for(`react.element`),w=Symbol.for(`react.portal`),te=Symbol.for(`react.fragment`),ne=Symbol.for(`react.strict_mode`),re=Symbol.for(`react.profiler`),ie=Symbol.for(`react.provider`),ae=Symbol.for(`react.context`),oe=Symbol.for(`react.forward_ref`),se=Symbol.for(`react.suspense`),ce=Symbol.for(`react.suspense_list`),le=Symbol.for(`react.memo`),ue=Symbol.for(`react.lazy`),de=Symbol.for(`react.offscreen`),fe=Symbol.iterator;function pe(e){return typeof e!=`object`||!e?null:(e=fe&&e[fe]||e[`@@iterator`],typeof e==`function`?e:null)}var T=Object.assign,me;function he(e){if(me===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);me=t&&t[1]||``}return`
`+me+e}var ge=!1;function _e(e,t){if(!e||ge)return``;ge=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&typeof t.stack==`string`){for(var i=t.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(` at new `,` at `);return e.displayName&&c.includes(`<anonymous>`)&&(c=c.replace(`<anonymous>`,e.displayName)),c}while(1<=o&&0<=s);break}}}finally{ge=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:``)?he(e):``}function ve(e){switch(e.tag){case 5:return he(e.type);case 16:return he(`Lazy`);case 13:return he(`Suspense`);case 19:return he(`SuspenseList`);case 0:case 2:case 15:return e=_e(e.type,!1),e;case 11:return e=_e(e.type.render,!1),e;case 1:return e=_e(e.type,!0),e;default:return``}}function ye(e){if(e==null)return null;if(typeof e==`function`)return e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case te:return`Fragment`;case w:return`Portal`;case re:return`Profiler`;case ne:return`StrictMode`;case se:return`Suspense`;case ce:return`SuspenseList`}if(typeof e==`object`)switch(e.$$typeof){case ae:return(e.displayName||`Context`)+`.Consumer`;case ie:return(e._context.displayName||`Context`)+`.Provider`;case oe:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case le:return t=e.displayName||null,t===null?ye(e.type)||`Memo`:t;case ue:t=e._payload,e=e._init;try{return ye(e(t))}catch{}}return null}function be(e){var t=e.type;switch(e.tag){case 24:return`Cache`;case 9:return(t.displayName||`Context`)+`.Consumer`;case 10:return(t._context.displayName||`Context`)+`.Provider`;case 18:return`DehydratedFragment`;case 11:return e=t.render,e=e.displayName||e.name||``,t.displayName||(e===``?`ForwardRef`:`ForwardRef(`+e+`)`);case 7:return`Fragment`;case 5:return t;case 4:return`Portal`;case 3:return`Root`;case 6:return`Text`;case 16:return ye(t);case 8:return t===ne?`StrictMode`:`Mode`;case 22:return`Offscreen`;case 12:return`Profiler`;case 21:return`Scope`;case 13:return`Suspense`;case 19:return`SuspenseList`;case 25:return`TracingMarker`;case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t==`function`)return t.displayName||t.name||null;if(typeof t==`string`)return t}return null}function xe(e){switch(typeof e){case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Ce(e){var t=Se(e)?`checked`:`value`,n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=``+e[t];if(!e.hasOwnProperty(t)&&n!==void 0&&typeof n.get==`function`&&typeof n.set==`function`){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function we(e){e._valueTracker||=Ce(e)}function Te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Se(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Ee(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}function De(e,t){var n=t.checked;return T({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Oe(e,t){var n=t.defaultValue==null?``:t.defaultValue,r=t.checked==null?t.defaultChecked:t.checked;n=xe(t.value==null?n:t.value),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type===`checkbox`||t.type===`radio`?t.checked!=null:t.value!=null}}function ke(e,t){t=t.checked,t!=null&&S(e,`checked`,t,!1)}function Ae(e,t){ke(e,t);var n=xe(t.value),r=t.type;if(n!=null)r===`number`?(n===0&&e.value===``||e.value!=n)&&(e.value=``+n):e.value!==``+n&&(e.value=``+n);else if(r===`submit`||r===`reset`){e.removeAttribute(`value`);return}t.hasOwnProperty(`value`)?Me(e,t.type,n):t.hasOwnProperty(`defaultValue`)&&Me(e,t.type,xe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function je(e,t,n){if(t.hasOwnProperty(`value`)||t.hasOwnProperty(`defaultValue`)){var r=t.type;if(!(r!==`submit`&&r!==`reset`||t.value!==void 0&&t.value!==null))return;t=``+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==``&&(e.name=``),e.defaultChecked=!!e._wrapperState.initialChecked,n!==``&&(e.name=n)}function Me(e,t,n){(t!==`number`||Ee(e.ownerDocument)!==e)&&(n==null?e.defaultValue=``+e._wrapperState.initialValue:e.defaultValue!==``+n&&(e.defaultValue=``+n))}var Ne=Array.isArray;function Pe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+xe(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Fe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(r(91));return T({},t,{value:void 0,defaultValue:void 0,children:``+e._wrapperState.initialValue})}function Ie(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(r(92));if(Ne(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}t??=``,n=t}e._wrapperState={initialValue:xe(n)}}function Le(e,t){var n=xe(t.value),r=xe(t.defaultValue);n!=null&&(n=``+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=``+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==``&&t!==null&&(e.value=t)}function ze(e){switch(e){case`svg`:return`http://www.w3.org/2000/svg`;case`math`:return`http://www.w3.org/1998/Math/MathML`;default:return`http://www.w3.org/1999/xhtml`}}function Be(e,t){return e==null||e===`http://www.w3.org/1999/xhtml`?ze(t):e===`http://www.w3.org/2000/svg`&&t===`foreignObject`?`http://www.w3.org/1999/xhtml`:e}var Ve,He=function(e){return typeof MSApp<`u`&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==`http://www.w3.org/2000/svg`||`innerHTML`in e)e.innerHTML=t;else{for(Ve||=document.createElement(`div`),Ve.innerHTML=`<svg>`+t.valueOf().toString()+`</svg>`,t=Ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ge=[`Webkit`,`ms`,`Moz`,`O`];Object.keys(We).forEach(function(e){Ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),We[t]=We[e]})});function Ke(e,t,n){return t==null||typeof t==`boolean`||t===``?``:n||typeof t!=`number`||t===0||We.hasOwnProperty(e)&&We[e]?(``+t).trim():t+`px`}function qe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=n.indexOf(`--`)===0,i=Ke(n,t[n],r);n===`float`&&(n=`cssFloat`),r?e.setProperty(n,i):e[n]=i}}var Je=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ye(e,t){if(t){if(Je[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(r(60));if(typeof t.dangerouslySetInnerHTML!=`object`||!(`__html`in t.dangerouslySetInnerHTML))throw Error(r(61))}if(t.style!=null&&typeof t.style!=`object`)throw Error(r(62))}}function Xe(e,t){if(e.indexOf(`-`)===-1)return typeof t.is==`string`;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Ze=null;function Qe(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $e=null,et=null,tt=null;function nt(e){if(e=ua(e)){if(typeof $e!=`function`)throw Error(r(280));var t=e.stateNode;t&&(t=fa(t),$e(e.stateNode,e.type,t))}}function rt(e){et?tt?tt.push(e):tt=[e]:et=e}function it(){if(et){var e=et,t=tt;if(tt=et=null,nt(e),t)for(e=0;e<t.length;e++)nt(t[e])}}function at(e,t){return e(t)}function ot(){}var st=!1;function ct(e,t,n){if(st)return e(t,n);st=!0;try{return at(e,t,n)}finally{st=!1,(et!==null||tt!==null)&&(ot(),it())}}function lt(e,t){var n=e.stateNode;if(n===null)return null;var i=fa(n);if(i===null)return null;n=i[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(i=!i.disabled)||(e=e.type,i=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!i;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(r(231,t,typeof n));return n}var ut=!1;if(c)try{var dt={};Object.defineProperty(dt,`passive`,{get:function(){ut=!0}}),window.addEventListener(`test`,dt,dt),window.removeEventListener(`test`,dt,dt)}catch{ut=!1}function ft(e,t,n,r,i,a,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var pt=!1,mt=null,ht=!1,gt=null,_t={onError:function(e){pt=!0,mt=e}};function E(e,t,n,r,i,a,o,s,c){pt=!1,mt=null,ft.apply(_t,arguments)}function vt(e,t,n,i,a,o,s,c,l){if(E.apply(this,arguments),pt){if(pt){var u=mt;pt=!1,mt=null}else throw Error(r(198));ht||(ht=!0,gt=u)}}function yt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bt(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xt(e){if(yt(e)!==e)throw Error(r(188))}function St(e){var t=e.alternate;if(!t){if(t=yt(e),t===null)throw Error(r(188));return t===e?e:null}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return xt(a),e;if(o===i)return xt(a),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,i=o;break}if(c===i){s=!0,i=a,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,i=a;break}if(c===i){s=!0,i=o,n=a;break}c=c.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function Ct(e){return e=St(e),e===null?null:wt(e)}function wt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wt(e);if(t!==null)return t;e=e.sibling}return null}var Tt=n.unstable_scheduleCallback,Et=n.unstable_cancelCallback,Dt=n.unstable_shouldYield,Ot=n.unstable_requestPaint,kt=n.unstable_now,At=n.unstable_getCurrentPriorityLevel,jt=n.unstable_ImmediatePriority,Mt=n.unstable_UserBlockingPriority,Nt=n.unstable_NormalPriority,Pt=n.unstable_LowPriority,Ft=n.unstable_IdlePriority,It=null,Lt=null;function Rt(e){if(Lt&&typeof Lt.onCommitFiberRoot==`function`)try{Lt.onCommitFiberRoot(It,e,void 0,(e.current.flags&128)==128)}catch{}}var zt=Math.clz32?Math.clz32:Ht,Bt=Math.log,Vt=Math.LN2;function Ht(e){return e>>>=0,e===0?32:31-(Bt(e)/Vt|0)|0}var Ut=64,Wt=4194304;function Gt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kt(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s===0?(a&=o,a!==0&&(r=Gt(a))):r=Gt(s)}else o=n&~i,o===0?a!==0&&(r=Gt(a)):r=Gt(o);if(r===0)return 0;if(t!==0&&t!==r&&(t&i)===0&&(i=r&-r,a=t&-t,i>=a||i===16&&a&4194240))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),i=1<<n,r|=e[n],t&=~i;return r}function qt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jt(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-zt(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=qt(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function Yt(e){return e=e.pendingLanes&-1073741825,e===0?e&1073741824?1073741824:0:e}function Xt(){var e=Ut;return Ut<<=1,!(Ut&4194240)&&(Ut=64),e}function D(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zt(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function Qt(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-zt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function $t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var O=0;function en(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tn,nn,rn,an,on,sn=!1,cn=[],ln=null,un=null,dn=null,fn=new Map,pn=new Map,mn=[],hn=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit`.split(` `);function gn(e,t){switch(e){case`focusin`:case`focusout`:ln=null;break;case`dragenter`:case`dragleave`:un=null;break;case`mouseover`:case`mouseout`:dn=null;break;case`pointerover`:case`pointerout`:fn.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:pn.delete(t.pointerId)}}function _n(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ua(t),t!==null&&nn(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vn(e,t,n,r,i){switch(t){case`focusin`:return ln=_n(ln,e,t,n,r,i),!0;case`dragenter`:return un=_n(un,e,t,n,r,i),!0;case`mouseover`:return dn=_n(dn,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return fn.set(a,_n(fn.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,pn.set(a,_n(pn.get(a)||null,e,t,n,r,i)),!0}return!1}function yn(e){var t=la(e.target);if(t!==null){var n=yt(t);if(n!==null){if(t=n.tag,t===13){if(t=bt(n),t!==null){e.blockedOn=t,on(e.priority,function(){rn(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=An(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ze=r,n.target.dispatchEvent(r),Ze=null}else return t=ua(n),t!==null&&nn(t),e.blockedOn=n,!1;t.shift()}return!0}function xn(e,t,n){bn(e)&&n.delete(t)}function Sn(){sn=!1,ln!==null&&bn(ln)&&(ln=null),un!==null&&bn(un)&&(un=null),dn!==null&&bn(dn)&&(dn=null),fn.forEach(xn),pn.forEach(xn)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,sn||(sn=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Sn)))}function wn(e){function t(t){return Cn(t,e)}if(0<cn.length){Cn(cn[0],e);for(var n=1;n<cn.length;n++){var r=cn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ln!==null&&Cn(ln,e),un!==null&&Cn(un,e),dn!==null&&Cn(dn,e),fn.forEach(t),pn.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)yn(n),n.blockedOn===null&&mn.shift()}var k=C.ReactCurrentBatchConfig,Tn=!0;function En(e,t,n,r){var i=O,a=k.transition;k.transition=null;try{O=1,On(e,t,n,r)}finally{O=i,k.transition=a}}function Dn(e,t,n,r){var i=O,a=k.transition;k.transition=null;try{O=4,On(e,t,n,r)}finally{O=i,k.transition=a}}function On(e,t,n,r){if(Tn){var i=An(e,t,n,r);if(i===null)Fi(e,t,r,kn,n),gn(e,r);else if(vn(i,e,t,n,r))r.stopPropagation();else if(gn(e,r),t&4&&-1<hn.indexOf(e)){for(;i!==null;){var a=ua(i);if(a!==null&&tn(a),a=An(e,t,n,r),a===null&&Fi(e,t,r,kn,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Fi(e,t,r,null,n)}}var kn=null;function An(e,t,n,r){if(kn=null,e=Qe(r),e=la(e),e!==null)if(t=yt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bt(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kn=e,null}function jn(e){switch(e){case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 1;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`toggle`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 4;case`message`:switch(At()){case jt:return 1;case Mt:return 4;case Nt:case Pt:return 16;case Ft:return 536870912;default:return 16}default:return 16}}var Mn=null,Nn=null,Pn=null;function Fn(){if(Pn)return Pn;var e,t=Nn,n=t.length,r,i=`value`in Mn?Mn.value:Mn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Pn=i.slice(e,1<r?1-r:void 0)}function A(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function In(){return!0}function Ln(){return!1}function Rn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?In:Ln,this.isPropagationStopped=Ln,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=In)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=In)},persist:function(){},isPersistent:In}),t}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bn=Rn(zn),Vn=T({},zn,{view:0,detail:0}),Hn=Rn(Vn),Un,Wn,Gn,Kn=T({},Vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Gn&&(Gn&&e.type===`mousemove`?(Un=e.screenX-Gn.screenX,Wn=e.screenY-Gn.screenY):Wn=Un=0,Gn=e),Un)},movementY:function(e){return`movementY`in e?e.movementY:Wn}}),qn=Rn(Kn),Jn=T({},Kn,{dataTransfer:0}),Yn=Rn(Jn),Xn=T({},Vn,{relatedTarget:0}),Zn=Rn(Xn),Qn=T({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),$n=Rn(Qn),er=T({},zn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}}),tr=Rn(er),nr=T({},zn,{data:0}),rr=Rn(nr),ir={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},ar={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},or={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=or[e])?!!t[e]:!1}function cr(){return sr}var lr=T({},Vn,{key:function(e){if(e.key){var t=ir[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=A(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?ar[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(e){return e.type===`keypress`?A(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?A(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}}),ur=Rn(lr),dr=T({},Kn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fr=Rn(dr),pr=T({},Vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),mr=Rn(pr),hr=T({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gr=Rn(hr),_r=T({},Kn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vr=Rn(_r),yr=[9,13,27,32],br=c&&`CompositionEvent`in window,xr=null;c&&`documentMode`in document&&(xr=document.documentMode);var Sr=c&&`TextEvent`in window&&!xr,Cr=c&&(!br||xr&&8<xr&&11>=xr),wr=` `,Tr=!1;function Er(e,t){switch(e){case`keyup`:return yr.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function Dr(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Or=!1;function kr(e,t){switch(e){case`compositionend`:return Dr(t);case`keypress`:return t.which===32?(Tr=!0,wr):null;case`textInput`:return e=t.data,e===wr&&Tr?null:e;default:return null}}function Ar(e,t){if(Or)return e===`compositionend`||!br&&Er(e,t)?(e=Fn(),Pn=Nn=Mn=null,Or=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Cr&&t.locale!==`ko`?null:t.data;default:return null}}var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!jr[e.type]:t===`textarea`}function Nr(e,t,n,r){rt(r),t=Li(t,`onChange`),0<t.length&&(n=new Bn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var Pr=null,Fr=null;function Ir(e){ki(e,0)}function Lr(e){var t=da(e);if(Te(t))return e}function Rr(e,t){if(e===`change`)return t}var zr=!1;if(c){var Br;if(c){var Vr=`oninput`in document;if(!Vr){var Hr=document.createElement(`div`);Hr.setAttribute(`oninput`,`return;`),Vr=typeof Hr.oninput==`function`}Br=Vr}else Br=!1;zr=Br&&(!document.documentMode||9<document.documentMode)}function Ur(){Pr&&(Pr.detachEvent(`onpropertychange`,Wr),Fr=Pr=null)}function Wr(e){if(e.propertyName===`value`&&Lr(Fr)){var t=[];Nr(t,Fr,e,Qe(e)),ct(Ir,t)}}function Gr(e,t,n){e===`focusin`?(Ur(),Pr=t,Fr=n,Pr.attachEvent(`onpropertychange`,Wr)):e===`focusout`&&Ur()}function Kr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return Lr(Fr)}function qr(e,t){if(e===`click`)return Lr(t)}function Jr(e,t){if(e===`input`||e===`change`)return Lr(t)}function Yr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Xr=typeof Object.is==`function`?Object.is:Yr;function Zr(e,t){if(Xr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!l.call(t,i)||!Xr(e[i],t[i]))return!1}return!0}function Qr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $r(e,t){var n=Qr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Qr(n)}}function ei(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ei(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ti(){for(var e=window,t=Ee();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ee(e.document)}return t}function ni(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}function ri(e){var t=ti(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ei(n.ownerDocument.documentElement,n)){if(r!==null&&ni(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),`selectionStart`in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=$r(n,a);var o=$r(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus==`function`&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ii=c&&`documentMode`in document&&11>=document.documentMode,ai=null,oi=null,si=null,ci=!1;function li(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ci||ai==null||ai!==Ee(r)||(r=ai,`selectionStart`in r&&ni(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),si&&Zr(si,r)||(si=r,r=Li(oi,`onSelect`),0<r.length&&(t=new Bn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=ai)))}function ui(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var di={animationend:ui(`Animation`,`AnimationEnd`),animationiteration:ui(`Animation`,`AnimationIteration`),animationstart:ui(`Animation`,`AnimationStart`),transitionend:ui(`Transition`,`TransitionEnd`)},fi={},pi={};c&&(pi=document.createElement(`div`).style,`AnimationEvent`in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),`TransitionEvent`in window||delete di.transitionend.transition);function mi(e){if(fi[e])return fi[e];if(!di[e])return e;var t=di[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pi)return fi[e]=t[n];return e}var hi=mi(`animationend`),gi=mi(`animationiteration`),_i=mi(`animationstart`),vi=mi(`transitionend`),yi=new Map,bi=`abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);function xi(e,t){yi.set(e,t),o(t,[e])}for(var Si=0;Si<bi.length;Si++){var Ci=bi[Si],wi=Ci.toLowerCase(),Ti=Ci[0].toUpperCase()+Ci.slice(1);xi(wi,`on`+Ti)}xi(hi,`onAnimationEnd`),xi(gi,`onAnimationIteration`),xi(_i,`onAnimationStart`),xi(`dblclick`,`onDoubleClick`),xi(`focusin`,`onFocus`),xi(`focusout`,`onBlur`),xi(vi,`onTransitionEnd`),s(`onMouseEnter`,[`mouseout`,`mouseover`]),s(`onMouseLeave`,[`mouseout`,`mouseover`]),s(`onPointerEnter`,[`pointerout`,`pointerover`]),s(`onPointerLeave`,[`pointerout`,`pointerover`]),o(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),o(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),o(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),o(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),o(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),o(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var Ei=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Di=new Set(`cancel close invalid load scroll toggle`.split(` `).concat(Ei));function Oi(e,t,n){var r=e.type||`unknown-event`;e.currentTarget=n,vt(r,t,void 0,e),e.currentTarget=null}function ki(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;Oi(i,s,l),a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;Oi(i,s,l),a=c}}}if(ht)throw e=gt,ht=!1,gt=null,e}function Ai(e,t){var n=t[oa];n===void 0&&(n=t[oa]=new Set);var r=e+`__bubble`;n.has(r)||(Pi(t,e,2,!1),n.add(r))}function ji(e,t,n){var r=0;t&&(r|=4),Pi(n,e,r,t)}var Mi=`_reactListening`+Math.random().toString(36).slice(2);function Ni(e){if(!e[Mi]){e[Mi]=!0,i.forEach(function(t){t!==`selectionchange`&&(Di.has(t)||ji(t,!1,e),ji(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,ji(`selectionchange`,!1,t))}}function Pi(e,t,n,r){switch(jn(t)){case 1:var i=En;break;case 4:i=Dn;break;default:i=On}n=i.bind(null,t,n,e),i=void 0,!ut||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Fi(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=la(s),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue a}s=s.parentNode}}r=r.return}ct(function(){var r=a,i=Qe(n),o=[];a:{var s=yi.get(e);if(s!==void 0){var c=Bn,l=e;switch(e){case`keypress`:if(A(n)===0)break a;case`keydown`:case`keyup`:c=ur;break;case`focusin`:l=`focus`,c=Zn;break;case`focusout`:l=`blur`,c=Zn;break;case`beforeblur`:case`afterblur`:c=Zn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:c=qn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:c=Yn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:c=mr;break;case hi:case gi:case _i:c=$n;break;case vi:c=gr;break;case`scroll`:c=Hn;break;case`wheel`:c=vr;break;case`copy`:case`cut`:case`paste`:c=tr;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:c=fr}var u=(t&4)!=0,d=!u&&e===`scroll`,f=u?s===null?null:s+`Capture`:s;u=[];for(var p=r,m;p!==null;){m=p;var h=m.stateNode;if(m.tag===5&&h!==null&&(m=h,f!==null&&(h=lt(p,f),h!=null&&u.push(Ii(p,h,m)))),d)break;p=p.return}0<u.length&&(s=new c(s,l,null,n,i),o.push({event:s,listeners:u}))}}if(!(t&7)){a:{if(s=e===`mouseover`||e===`pointerover`,c=e===`mouseout`||e===`pointerout`,s&&n!==Ze&&(l=n.relatedTarget||n.fromElement)&&(la(l)||l[aa]))break a;if((c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(l=n.relatedTarget||n.toElement,c=r,l=l?la(l):null,l!==null&&(d=yt(l),l!==d||l.tag!==5&&l.tag!==6)&&(l=null)):(c=null,l=r),c!==l)){if(u=qn,h=`onMouseLeave`,f=`onMouseEnter`,p=`mouse`,(e===`pointerout`||e===`pointerover`)&&(u=fr,h=`onPointerLeave`,f=`onPointerEnter`,p=`pointer`),d=c==null?s:da(c),m=l==null?s:da(l),s=new u(h,p+`leave`,c,n,i),s.target=d,s.relatedTarget=m,h=null,la(i)===r&&(u=new u(f,p+`enter`,l,n,i),u.target=m,u.relatedTarget=d,h=u),d=h,c&&l)b:{for(u=c,f=l,p=0,m=u;m;m=Ri(m))p++;for(m=0,h=f;h;h=Ri(h))m++;for(;0<p-m;)u=Ri(u),p--;for(;0<m-p;)f=Ri(f),m--;for(;p--;){if(u===f||f!==null&&u===f.alternate)break b;u=Ri(u),f=Ri(f)}u=null}else u=null;c!==null&&zi(o,s,c,u,!1),l!==null&&d!==null&&zi(o,d,l,u,!0)}}a:{if(s=r?da(r):window,c=s.nodeName&&s.nodeName.toLowerCase(),c===`select`||c===`input`&&s.type===`file`)var g=Rr;else if(Mr(s))if(zr)g=Jr;else{g=Kr;var _=Gr}else (c=s.nodeName)&&c.toLowerCase()===`input`&&(s.type===`checkbox`||s.type===`radio`)&&(g=qr);if(g&&=g(e,r)){Nr(o,g,n,i);break a}_&&_(e,s,r),e===`focusout`&&(_=s._wrapperState)&&_.controlled&&s.type===`number`&&Me(s,`number`,s.value)}switch(_=r?da(r):window,e){case`focusin`:(Mr(_)||_.contentEditable===`true`)&&(ai=_,oi=r,si=null);break;case`focusout`:si=oi=ai=null;break;case`mousedown`:ci=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:ci=!1,li(o,n,i);break;case`selectionchange`:if(ii)break;case`keydown`:case`keyup`:li(o,n,i)}var v;if(br)b:{switch(e){case`compositionstart`:var y=`onCompositionStart`;break b;case`compositionend`:y=`onCompositionEnd`;break b;case`compositionupdate`:y=`onCompositionUpdate`;break b}y=void 0}else Or?Er(e,n)&&(y=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(y=`onCompositionStart`);y&&(Cr&&n.locale!==`ko`&&(Or||y!==`onCompositionStart`?y===`onCompositionEnd`&&Or&&(v=Fn()):(Mn=i,Nn=`value`in Mn?Mn.value:Mn.textContent,Or=!0)),_=Li(r,y),0<_.length&&(y=new rr(y,e,null,n,i),o.push({event:y,listeners:_}),v?y.data=v:(v=Dr(n),v!==null&&(y.data=v)))),(v=Sr?kr(e,n):Ar(e,n))&&(r=Li(r,`onBeforeInput`),0<r.length&&(i=new rr(`onBeforeInput`,`beforeinput`,null,n,i),o.push({event:i,listeners:r}),i.data=v))}ki(o,t)})}function Ii(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Li(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=lt(e,n),a!=null&&r.unshift(Ii(e,a,i)),a=lt(e,t),a!=null&&r.push(Ii(e,a,i))),e=e.return}return r}function Ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zi(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&l!==null&&(s=l,i?(c=lt(n,a),c!=null&&o.unshift(Ii(n,c,s))):i||(c=lt(n,a),c!=null&&o.push(Ii(n,c,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Bi=/\r\n?/g,Vi=/\u0000|\uFFFD/g;function Hi(e){return(typeof e==`string`?e:``+e).replace(Bi,`
`).replace(Vi,``)}function Ui(e,t,n){if(t=Hi(t),Hi(e)!==t&&n)throw Error(r(425))}function Wi(){}var Gi=null,Ki=null;function qi(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ji=typeof setTimeout==`function`?setTimeout:void 0,Yi=typeof clearTimeout==`function`?clearTimeout:void 0,Xi=typeof Promise==`function`?Promise:void 0,Zi=typeof queueMicrotask==`function`?queueMicrotask:Xi===void 0?Ji:function(e){return Xi.resolve(null).then(e).catch(Qi)};function Qi(e){setTimeout(function(){throw e})}function $i(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`){if(r===0){e.removeChild(i),wn(t);return}r--}else n!==`$`&&n!==`$?`&&n!==`$!`||r++;n=i}while(n);wn(t)}function ea(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`)break;if(t===`/$`)return null}}return e}function ta(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`){if(t===0)return e;t--}else n===`/$`&&t++}e=e.previousSibling}return null}var na=Math.random().toString(36).slice(2),ra=`__reactFiber$`+na,ia=`__reactProps$`+na,aa=`__reactContainer$`+na,oa=`__reactEvents$`+na,sa=`__reactListeners$`+na,ca=`__reactHandles$`+na;function la(e){var t=e[ra];if(t)return t;for(var n=e.parentNode;n;){if(t=n[aa]||n[ra]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ta(e);e!==null;){if(n=e[ra])return n;e=ta(e)}return t}e=n,n=e.parentNode}return null}function ua(e){return e=e[ra]||e[aa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function da(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function fa(e){return e[ia]||null}var pa=[],ma=-1;function ha(e){return{current:e}}function ga(e){0>ma||(e.current=pa[ma],pa[ma]=null,ma--)}function _a(e,t){ma++,pa[ma]=e.current,e.current=t}var va={},ya=ha(va),ba=ha(!1),xa=va;function Sa(e,t){var n=e.type.contextTypes;if(!n)return va;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ca(e){return e=e.childContextTypes,e!=null}function wa(){ga(ba),ga(ya)}function Ta(e,t,n){if(ya.current!==va)throw Error(r(168));_a(ya,t),_a(ba,n)}function Ea(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!=`function`)return n;for(var a in i=i.getChildContext(),i)if(!(a in t))throw Error(r(108,be(e)||`Unknown`,a));return T({},n,i)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||va,xa=ya.current,_a(ya,e),_a(ba,ba.current),!0}function Oa(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Ea(e,t,xa),i.__reactInternalMemoizedMergedChildContext=e,ga(ba),ga(ya),_a(ya,e)):ga(ba),_a(ba,n)}var ka=null,Aa=!1,ja=!1;function Ma(e){ka===null?ka=[e]:ka.push(e)}function Na(e){Aa=!0,Ma(e)}function Pa(){if(!ja&&ka!==null){ja=!0;var e=0,t=O;try{var n=ka;for(O=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ka=null,Aa=!1}catch(t){throw ka!==null&&(ka=ka.slice(e+1)),Tt(jt,Pa),t}finally{O=t,ja=!1}}return null}var Fa=[],Ia=0,La=null,Ra=0,za=[],Ba=0,Va=null,Ha=1,Ua=``;function Wa(e,t){Fa[Ia++]=Ra,Fa[Ia++]=La,La=e,Ra=t}function Ga(e,t,n){za[Ba++]=Ha,za[Ba++]=Ua,za[Ba++]=Va,Va=e;var r=Ha;e=Ua;var i=32-zt(r)-1;r&=~(1<<i),n+=1;var a=32-zt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ha=1<<32-zt(t)+i|n<<i|r,Ua=a+e}else Ha=1<<a|n<<i|r,Ua=e}function Ka(e){e.return!==null&&(Wa(e,1),Ga(e,1,0))}function qa(e){for(;e===La;)La=Fa[--Ia],Fa[Ia]=null,Ra=Fa[--Ia],Fa[Ia]=null;for(;e===Va;)Va=za[--Ba],za[Ba]=null,Ua=za[--Ba],za[Ba]=null,Ha=za[--Ba],za[Ba]=null}var Ja=null,Ya=null,Xa=!1,Za=null;function Qa(e,t){var n=Eu(5,null,null,0);n.elementType=`DELETED`,n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $a(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t===null?!1:(e.stateNode=t,Ja=e,Ya=ea(t.firstChild),!0);case 6:return t=e.pendingProps===``||t.nodeType!==3?null:t,t===null?!1:(e.stateNode=t,Ja=e,Ya=null,!0);case 13:return t=t.nodeType===8?t:null,t===null?!1:(n=Va===null?null:{id:Ha,overflow:Ua},e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Eu(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ja=e,Ya=null,!0);default:return!1}}function eo(e){return(e.mode&1)!=0&&(e.flags&128)==0}function to(e){if(Xa){var t=Ya;if(t){var n=t;if(!$a(e,t)){if(eo(e))throw Error(r(418));t=ea(n.nextSibling);var i=Ja;t&&$a(e,t)?Qa(i,n):(e.flags=e.flags&-4097|2,Xa=!1,Ja=e)}}else{if(eo(e))throw Error(r(418));e.flags=e.flags&-4097|2,Xa=!1,Ja=e}}}function no(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ja=e}function ro(e){if(e!==Ja)return!1;if(!Xa)return no(e),Xa=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!==`head`&&t!==`body`&&!qi(e.type,e.memoizedProps)),t&&=Ya){if(eo(e))throw io(),Error(r(418));for(;t;)Qa(e,t),t=ea(t.nextSibling)}if(no(e),e.tag===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(r(317));a:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`){if(t===0){Ya=ea(e.nextSibling);break a}t--}else n!==`$`&&n!==`$!`&&n!==`$?`||t++}e=e.nextSibling}Ya=null}}else Ya=Ja?ea(e.stateNode.nextSibling):null;return!0}function io(){for(var e=Ya;e;)e=ea(e.nextSibling)}function ao(){Ya=Ja=null,Xa=!1}function oo(e){Za===null?Za=[e]:Za.push(e)}var so=C.ReactCurrentBatchConfig;function co(e,t,n){if(e=n.ref,e!==null&&typeof e!=`function`&&typeof e!=`object`){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var a=i,o=``+e;return t!==null&&t.ref!==null&&typeof t.ref==`function`&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;e===null?delete t[o]:t[o]=e},t._stringRef=o,t)}if(typeof e!=`string`)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function lo(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e))}function uo(e){var t=e._init;return t(e._payload)}function fo(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;t!==null;)t.key===null?e.set(t.index,t):e.set(t.key,t),t=t.sibling;return e}function a(e,t){return e=ku(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=2,n):(r=r.index,r<n?(t.flags|=2,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=2),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=Nu(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===te?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===ue&&uo(i)===t.type)?(r=a(t,n.props),r.ref=co(e,t,n),r.return=e,r):(r=Au(n.type,n.key,n.props,null,e.mode,r),r.ref=co(e,t,n),r.return=e,r)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Pu(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=ju(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`)return t=Nu(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case ee:return n=Au(t.type,t.key,t.props,null,e.mode,n),n.ref=co(e,null,t),n.return=e,n;case w:return t=Pu(t,e.mode,n),t.return=e,t;case ue:var r=t._init;return f(e,r(t._payload),n)}if(Ne(t)||pe(t))return t=ju(t,e.mode,n,null),t.return=e,t;lo(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case ee:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?u(e,t,n,r):null;case ue:return i=n._init,p(e,t,i(n._payload),r)}if(Ne(n)||pe(n))return i===null?d(e,t,n,r,null):null;lo(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case ee:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case w:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case ue:var a=r._init;return m(e,t,n,a(r._payload),i)}if(Ne(r)||pe(r))return e=e.get(n)||null,d(t,e,r,i,null);lo(t,r)}return null}function h(r,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(r,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(r,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(r,d),Xa&&Wa(r,h),l;if(d===null){for(;h<s.length;h++)d=f(r,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return Xa&&Wa(r,h),l}for(d=i(r,d);h<s.length;h++)g=m(d,r,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(r,e)}),Xa&&Wa(r,h),l}function g(a,s,c,l){var u=pe(c);if(typeof u!=`function`)throw Error(r(150));if(c=u.call(c),c==null)throw Error(r(151));for(var d=u=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),Xa&&Wa(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return Xa&&Wa(a,g),u}for(h=i(a,h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),Xa&&Wa(a,g),u}function _(e,r,i,o){if(typeof i==`object`&&i&&i.type===te&&i.key===null&&(i=i.props.children),typeof i==`object`&&i){switch(i.$$typeof){case ee:a:{for(var c=i.key,l=r;l!==null;){if(l.key===c){if(c=i.type,c===te){if(l.tag===7){n(e,l.sibling),r=a(l,i.props.children),r.return=e,e=r;break a}}else if(l.elementType===c||typeof c==`object`&&c&&c.$$typeof===ue&&uo(c)===l.type){n(e,l.sibling),r=a(l,i.props),r.ref=co(e,l,i),r.return=e,e=r;break a}n(e,l);break}else t(e,l);l=l.sibling}i.type===te?(r=ju(i.props.children,e.mode,o,i.key),r.return=e,e=r):(o=Au(i.type,i.key,i.props,null,e.mode,o),o.ref=co(e,r,i),o.return=e,e=o)}return s(e);case w:a:{for(l=i.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),r=a(r,i.children||[]),r.return=e,e=r;break a}else{n(e,r);break}else t(e,r);r=r.sibling}r=Pu(i,e.mode,o),r.return=e,e=r}return s(e);case ue:return l=i._init,_(e,r,l(i._payload),o)}if(Ne(i))return h(e,r,i,o);if(pe(i))return g(e,r,i,o);lo(e,i)}return typeof i==`string`&&i!==``||typeof i==`number`?(i=``+i,r!==null&&r.tag===6?(n(e,r.sibling),r=a(r,i),r.return=e,e=r):(n(e,r),r=Nu(i,e.mode,o),r.return=e,e=r),s(e)):n(e,r)}return _}var po=fo(!0),mo=fo(!1),ho=ha(null),go=null,_o=null,vo=null;function yo(){vo=_o=go=null}function bo(e){var t=ho.current;ga(ho),e._currentValue=t}function xo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function So(e,t){go=e,vo=_o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(pc=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(vo!==e)if(e={context:e,memoizedValue:t,next:null},_o===null){if(go===null)throw Error(r(308));_o=e,go.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var wo=null;function To(e){wo===null?wo=[e]:wo.push(e)}function Eo(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Oo=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,M&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Do(e,n)}return i=r.interleaved,i===null?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Do(e,n)}function No(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194240)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$t(e,n)}}function Po(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Oo=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane,p=s.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});a:{var m=e,h=s;switch(f=t,p=n,h.tag){case 1:if(m=h.payload,typeof m==`function`){d=m.call(p,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=h.payload,f=typeof m==`function`?m.call(p,d,f):m,f==null)break a;d=T({},d,f);break a;case 2:Oo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);kl|=o,e.lanes=o,e.memoizedState=d}}function Io(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!=`function`)throw Error(r(191,a));a.call(i)}}}var Lo={},Ro=ha(Lo),zo=ha(Lo),Bo=ha(Lo);function Vo(e){if(e===Lo)throw Error(r(174));return e}function Ho(e,t){switch(_a(Bo,t),_a(zo,e),_a(Ro,Lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,``);break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Be(t,e)}ga(Ro),_a(Ro,t)}function Uo(){ga(Ro),ga(zo),ga(Bo)}function Wo(e){Vo(Bo.current);var t=Vo(Ro.current),n=Be(t,e.type);t!==n&&(_a(zo,e),_a(Ro,n))}function Go(e){zo.current===e&&(ga(Ro),ga(zo))}var Ko=ha(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===`$?`||n.data===`$!`))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function Yo(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var Xo=C.ReactCurrentDispatcher,Zo=C.ReactCurrentBatchConfig,Qo=0,$o=null,es=null,ts=null,ns=!1,rs=!1,os=0,ss=0;function cs(){throw Error(r(321))}function ls(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xr(e[n],t[n]))return!1;return!0}function us(e,t,n,i,a,o){if(Qo=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=e===null||e.memoizedState===null?qs:Js,e=n(i,a),rs){o=0;do{if(rs=!1,os=0,25<=o)throw Error(r(301));o+=1,ts=es=null,t.updateQueue=null,Xo.current=Ys,e=n(i,a)}while(rs)}if(Xo.current=Ks,t=es!==null&&es.next!==null,Qo=0,ts=es=$o=null,ns=!1,t)throw Error(r(300));return e}function ds(){var e=os!==0;return os=0,e}function fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ts===null?$o.memoizedState=ts=e:ts=ts.next=e,ts}function ps(){if(es===null){var e=$o.alternate;e=e===null?null:e.memoizedState}else e=es.next;var t=ts===null?$o.memoizedState:ts.next;if(t!==null)ts=t,es=e;else{if(e===null)throw Error(r(310));es=e,e={memoizedState:es.memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},ts===null?$o.memoizedState=ts=e:ts=ts.next=e}return ts}function ms(e,t){return typeof t==`function`?t(e):t}function hs(e){var t=ps(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=es,a=i.baseQueue,o=n.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,i=i.baseState;var c=s=null,l=null,u=o;do{var d=u.lane;if((Qo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=f,s=i):l=l.next=f,$o.lanes|=d,kl|=d}u=u.next}while(u!==null&&u!==o);l===null?s=i:l.next=c,Xr(i,t.memoizedState)||(pc=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){a=e;do o=a.lane,$o.lanes|=o,kl|=o,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gs(e){var t=ps(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Xr(o,t.memoizedState)||(pc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function _s(){}function vs(e,t){var n=$o,i=ps(),a=t(),o=!Xr(i.memoizedState,a);if(o&&(i.memoizedState=a,pc=!0),i=i.queue,As(xs.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||ts!==null&&ts.memoizedState.tag&1){if(n.flags|=2048,Ts(9,bs.bind(null,n,i,a,t),void 0,null),Sl===null)throw Error(r(349));Qo&30||ys(n,t,a)}return a}function ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$o.updateQueue,t===null?(t={lastEffect:null,stores:null},$o.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bs(e,t,n,r){t.value=n,t.getSnapshot=r,Ss(t)&&Cs(e)}function xs(e,t,n){return n(function(){Ss(t)&&Cs(e)})}function Ss(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xr(e,n)}catch{return!0}}function Cs(e){var t=Do(e,1);t!==null&&Yl(t,e,1,-1)}function ws(e){var t=fs();return typeof e==`function`&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=Hs.bind(null,$o,e),[t.memoizedState,e]}function Ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$o.updateQueue,t===null?(t={lastEffect:null,stores:null},$o.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Es(){return ps().memoizedState}function Ds(e,t,n,r){var i=fs();$o.flags|=e,i.memoizedState=Ts(1|t,n,void 0,r===void 0?null:r)}function Os(e,t,n,r){var i=ps();r=r===void 0?null:r;var a=void 0;if(es!==null){var o=es.memoizedState;if(a=o.destroy,r!==null&&ls(r,o.deps)){i.memoizedState=Ts(t,n,a,r);return}}$o.flags|=e,i.memoizedState=Ts(1|t,n,a,r)}function ks(e,t){return Ds(8390656,8,e,t)}function As(e,t){return Os(2048,8,e,t)}function js(e,t){return Os(4,2,e,t)}function Ms(e,t){return Os(4,4,e,t)}function Ns(e,t){if(typeof t==`function`)return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ps(e,t,n){return n=n==null?null:n.concat([e]),Os(4,4,Ns.bind(null,t,e),n)}function Fs(){}function Is(e,t){var n=ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ls(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ls(e,t){var n=ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ls(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rs(e,t,n){return Qo&21?(Xr(n,t)||(n=Xt(),$o.lanes|=n,kl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pc=!0),e.memoizedState=n)}function zs(e,t){var n=O;O=n!==0&&4>n?n:4,e(!0);var r=Zo.transition;Zo.transition={};try{e(!1),t()}finally{O=n,Zo.transition=r}}function Bs(){return ps().memoizedState}function Vs(e,t,n){var r=Jl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e))Ws(t,n);else if(n=Eo(e,t,n,r),n!==null){var i=ql();Yl(n,e,r,i),Gs(n,t,r)}}function Hs(e,t,n){var r=Jl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))Ws(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xr(s,o)){var c=t.interleaved;c===null?(i.next=i,To(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}n=Eo(e,t,i,r),n!==null&&(i=ql(),Yl(n,e,r,i),Gs(n,t,r))}}function Us(e){var t=e.alternate;return e===$o||t!==null&&t===$o}function Ws(e,t){rs=ns=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gs(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$t(e,n)}}var Ks={readContext:Co,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useInsertionEffect:cs,useLayoutEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useMutableSource:cs,useSyncExternalStore:cs,useId:cs,unstable_isNewReconciler:!1},qs={readContext:Co,useCallback:function(e,t){return fs().memoizedState=[e,t===void 0?null:t],e},useContext:Co,useEffect:ks,useImperativeHandle:function(e,t,n){return n=n==null?null:n.concat([e]),Ds(4194308,4,Ns.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ds(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ds(4,2,e,t)},useMemo:function(e,t){var n=fs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fs();return t=n===void 0?t:n(t),r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vs.bind(null,$o,e),[r.memoizedState,e]},useRef:function(e){var t=fs();return e={current:e},t.memoizedState=e},useState:ws,useDebugValue:Fs,useDeferredValue:function(e){return fs().memoizedState=e},useTransition:function(){var e=ws(!1),t=e[0];return e=zs.bind(null,e[1]),fs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=$o,a=fs();if(Xa){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Sl===null)throw Error(r(349));Qo&30||ys(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,ks(xs.bind(null,i,o,e),[e]),i.flags|=2048,Ts(9,bs.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=fs(),t=Sl.identifierPrefix;if(Xa){var n=Ua,r=Ha;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=`:`+t+`R`+n,n=os++,0<n&&(t+=`H`+n.toString(32)),t+=`:`}else n=ss++,t=`:`+t+`r`+n.toString(32)+`:`;return e.memoizedState=t},unstable_isNewReconciler:!1},Js={readContext:Co,useCallback:Is,useContext:Co,useEffect:As,useImperativeHandle:Ps,useInsertionEffect:js,useLayoutEffect:Ms,useMemo:Ls,useReducer:hs,useRef:Es,useState:function(){return hs(ms)},useDebugValue:Fs,useDeferredValue:function(e){var t=ps();return Rs(t,es.memoizedState,e)},useTransition:function(){var e=hs(ms)[0],t=ps().memoizedState;return[e,t]},useMutableSource:_s,useSyncExternalStore:vs,useId:Bs,unstable_isNewReconciler:!1},Ys={readContext:Co,useCallback:Is,useContext:Co,useEffect:As,useImperativeHandle:Ps,useInsertionEffect:js,useLayoutEffect:Ms,useMemo:Ls,useReducer:gs,useRef:Es,useState:function(){return gs(ms)},useDebugValue:Fs,useDeferredValue:function(e){var t=ps();return es===null?t.memoizedState=e:Rs(t,es.memoizedState,e)},useTransition:function(){var e=gs(ms)[0],t=ps().memoizedState;return[e,t]},useMutableSource:_s,useSyncExternalStore:vs,useId:Bs,unstable_isNewReconciler:!1};function Xs(e,t){if(e&&e.defaultProps){for(var n in t=T({},t),e=e.defaultProps,e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:T({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qs={isMounted:function(e){return(e=e._reactInternals)?yt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ql(),i=Jl(e),a=jo(r,i);a.payload=t,n!=null&&(a.callback=n),t=Mo(e,a,i),t!==null&&(Yl(t,e,i,r),No(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ql(),i=Jl(e),a=jo(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Mo(e,a,i),t!==null&&(Yl(t,e,i,r),No(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ql(),r=Jl(e),i=jo(n,r);i.tag=2,t!=null&&(i.callback=t),t=Mo(e,i,r),t!==null&&(Yl(t,e,r,n),No(t,e,r))}};function $s(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Zr(n,r)||!Zr(i,a):!0}function ec(e,t,n){var r=!1,i=va,a=t.contextType;return typeof a==`object`&&a?a=Co(a):(i=Ca(t)?xa:ya.current,r=t.contextTypes,a=(r=r!=null)?Sa(e,i):va),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function tc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qs.enqueueReplaceState(t,t.state,null)}function nc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ko(e);var a=t.contextType;typeof a==`object`&&a?i.context=Co(a):(a=Ca(t)?xa:ya.current,i.context=Sa(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a==`function`&&(Zs(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps==`function`||typeof i.getSnapshotBeforeUpdate==`function`||typeof i.UNSAFE_componentWillMount!=`function`&&typeof i.componentWillMount!=`function`||(t=i.state,typeof i.componentWillMount==`function`&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount==`function`&&i.UNSAFE_componentWillMount(),t!==i.state&&Qs.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount==`function`&&(e.flags|=4194308)}function rc(e,t){try{var n=``,r=t;do n+=ve(r),r=r.return;while(r);var i=n}catch(e){i=`
Error generating stack: `+e.message+`
`+e.stack}return{value:e,source:t,stack:i,digest:null}}function ic(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ac(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var oc=typeof WeakMap==`function`?WeakMap:Map;function sc(e,t,n){n=jo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,Rl=r),ac(e,t)},n}function cc(e,t,n){n=jo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r==`function`){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ac(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch==`function`&&(n.callback=function(){ac(e,t),typeof r!=`function`&&(zl===null?zl=new Set([this]):zl.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:n===null?``:n})}),n}function lc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oc;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=bu.bind(null,e,t,n),t.then(e,e))}function uc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t===null?!0:t.dehydrated!==null),t)return e;e=e.return}while(e!==null);return null}function dc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jo(-1,1),t.tag=2,Mo(n,t,1))),n.lanes|=1),e)}var fc=C.ReactCurrentOwner,pc=!1;function mc(e,t,n,r){t.child=e===null?mo(t,null,n,r):po(t,e.child,n,r)}function hc(e,t,n,r,i){n=n.render;var a=t.ref;return So(t,i),r=us(e,t,n,r,a,i),n=ds(),e!==null&&!pc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fc(e,t,i)):(Xa&&n&&Ka(t),t.flags|=1,mc(e,t,r,i),t.child)}function gc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!Du(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,_c(e,t,a,r,i)):(e=Au(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,(e.lanes&i)===0){var o=a.memoizedProps;if(n=n.compare,n=n===null?Zr:n,n(o,r)&&e.ref===t.ref)return Fc(e,t,i)}return t.flags|=1,e=ku(a,r),e.ref=t.ref,e.return=t,t.child=e}function _c(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Zr(a,r)&&e.ref===t.ref)if(pc=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(pc=!0);else return t.lanes=e.lanes,Fc(e,t,i)}return bc(e,t,n,r,i)}function vc(e,t,n){var r=t.pendingProps,i=r.children,a=e===null?null:e.memoizedState;if(r.mode===`hidden`)if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(El,Tl),Tl|=n;else{if(!(n&1073741824))return e=a===null?n:a.baseLanes|n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(El,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a===null?n:a.baseLanes,_a(El,Tl),Tl|=r}else a===null?r=n:(r=a.baseLanes|n,t.memoizedState=null),_a(El,Tl),Tl|=r;return mc(e,t,i,n),t.child}function yc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bc(e,t,n,r,i){var a=Ca(n)?xa:ya.current;return a=Sa(t,a),So(t,i),n=us(e,t,n,r,a,i),r=ds(),e!==null&&!pc?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fc(e,t,i)):(Xa&&r&&Ka(t),t.flags|=1,mc(e,t,n,i),t.child)}function xc(e,t,n,r,i){if(Ca(n)){var a=!0;Da(t)}else a=!1;if(So(t,i),t.stateNode===null)Pc(e,t),ec(t,n,r),nc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,l=n.contextType;typeof l==`object`&&l?l=Co(l):(l=Ca(n)?xa:ya.current,l=Sa(t,l));var u=n.getDerivedStateFromProps,d=typeof u==`function`||typeof o.getSnapshotBeforeUpdate==`function`;d||typeof o.UNSAFE_componentWillReceiveProps!=`function`&&typeof o.componentWillReceiveProps!=`function`||(s!==r||c!==l)&&tc(t,o,r,l),Oo=!1;var f=t.memoizedState;o.state=f,Fo(t,r,o,i),c=t.memoizedState,s!==r||f!==c||ba.current||Oo?(typeof u==`function`&&(Zs(t,n,u,r),c=t.memoizedState),(s=Oo||$s(t,n,s,r,f,c,l))?(d||typeof o.UNSAFE_componentWillMount!=`function`&&typeof o.componentWillMount!=`function`||(typeof o.componentWillMount==`function`&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount==`function`&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount==`function`&&(t.flags|=4194308)):(typeof o.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=s):(typeof o.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ao(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Xs(t.type,s),o.props=l,d=t.pendingProps,f=o.context,c=n.contextType,typeof c==`object`&&c?c=Co(c):(c=Ca(n)?xa:ya.current,c=Sa(t,c));var p=n.getDerivedStateFromProps;(u=typeof p==`function`||typeof o.getSnapshotBeforeUpdate==`function`)||typeof o.UNSAFE_componentWillReceiveProps!=`function`&&typeof o.componentWillReceiveProps!=`function`||(s!==d||f!==c)&&tc(t,o,r,c),Oo=!1,f=t.memoizedState,o.state=f,Fo(t,r,o,i);var m=t.memoizedState;s!==d||f!==m||ba.current||Oo?(typeof p==`function`&&(Zs(t,n,p,r),m=t.memoizedState),(l=Oo||$s(t,n,l,r,f,m,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!=`function`&&typeof o.componentWillUpdate!=`function`||(typeof o.componentWillUpdate==`function`&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate==`function`&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate==`function`&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof o.componentDidUpdate!=`function`||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!=`function`||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=l):(typeof o.componentDidUpdate!=`function`||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!=`function`||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Sc(e,t,n,r,a,i)}function Sc(e,t,n,r,i,a){yc(e,t);var o=(t.flags&128)!=0;if(!r&&!o)return i&&Oa(t,n,!1),Fc(e,t,a);r=t.stateNode,fc.current=t;var s=o&&typeof n.getDerivedStateFromError!=`function`?null:r.render();return t.flags|=1,e!==null&&o?(t.child=po(t,e.child,null,a),t.child=po(t,null,s,a)):mc(e,t,s,a),t.memoizedState=r.state,i&&Oa(t,n,!0),t.child}function Cc(e){var t=e.stateNode;t.pendingContext?Ta(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ta(e,t.context,!1),Ho(e,t.containerInfo)}function wc(e,t,n,r,i){return ao(),oo(i),t.flags|=256,mc(e,t,n,r),t.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function Ec(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dc(e,t,n){var r=t.pendingProps,i=Ko.current,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!=0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_a(Ko,i&1),e===null)return to(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data===`$!`?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:`hidden`,children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Mu(o,r,0,null),e=ju(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ec(n),t.memoizedState=Tc,e):Oc(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Ac(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:`hidden`,children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ku(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s===null?(a=ju(a,o,n,null),a.flags|=2):a=ku(s,a),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Ec(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Tc,r}return a=e.child,e=a.sibling,r=ku(a,{mode:`visible`,children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Oc(e,t){return t=Mu({mode:`visible`,children:t},e.mode,0,null),t.return=e,e.child=t}function kc(e,t,n,r){return r!==null&&oo(r),po(t,e.child,null,n),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ac(e,t,n,i,a,o,s){if(n)return t.flags&256?(t.flags&=-257,i=ic(Error(r(422))),kc(e,t,s,i)):t.memoizedState===null?(o=i.fallback,a=t.mode,i=Mu({mode:`visible`,children:i.children},a,0,null),o=ju(o,a,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&po(t,e.child,null,s),t.child.memoizedState=Ec(s),t.memoizedState=Tc,o):(t.child=e.child,t.flags|=128,null);if(!(t.mode&1))return kc(e,t,s,null);if(a.data===`$!`){if(i=a.nextSibling&&a.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(r(419)),i=ic(o,i,void 0),kc(e,t,s,i)}if(c=(s&e.childLanes)!==0,pc||c){if(i=Sl,i!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(i.suspendedLanes|s))===0?a:0,a!==0&&a!==o.retryLane&&(o.retryLane=a,Do(e,a),Yl(i,e,a,-1))}return lu(),i=ic(Error(r(421))),kc(e,t,s,i)}return a.data===`$?`?(t.flags|=128,t.child=e.child,t=Su.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Ya=ea(a.nextSibling),Ja=t,Xa=!0,Za=null,e!==null&&(za[Ba++]=Ha,za[Ba++]=Ua,za[Ba++]=Va,Ha=e.id,Ua=e.overflow,Va=t),t=Oc(t,i.children),t.flags|=4096,t)}function jc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xo(e.return,t,n)}function Mc(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Nc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(mc(e,t,r.children,n),r=Ko.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jc(e,n,t);else if(e.tag===19)jc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a(Ko,r),!(t.mode&1))t.memoizedState=null;else switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&qo(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Mc(t,!1,i,n,a);break;case`backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qo(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Mc(t,!0,n,null,a);break;case`together`:Mc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kl|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=ku(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ku(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ic(e,t,n){switch(t.tag){case 3:Cc(t),ao();break;case 5:Wo(t);break;case 1:Ca(t.type)&&Da(t);break;case 4:Ho(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_a(ho,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(_a(Ko,Ko.current&1),e=Fc(e,t,n),e===null?null:e.sibling):Dc(e,t,n):(_a(Ko,Ko.current&1),t.flags|=128,null);_a(Ko,Ko.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Nc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_a(Ko,Ko.current),r)break;return null;case 22:case 23:return t.lanes=0,vc(e,t,n)}return Fc(e,t,n)}var Lc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rc=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vo(Ro.current);var o=null;switch(n){case`input`:i=De(e,i),r=De(e,r),o=[];break;case`select`:i=T({},i,{value:void 0}),r=T({},r,{value:void 0}),o=[];break;case`textarea`:i=Fe(e,i),r=Fe(e,r),o=[];break;default:typeof i.onClick!=`function`&&typeof r.onClick==`function`&&(e.onclick=Wi)}Ye(n,r);var s;for(u in n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u===`style`){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||={},n[s]=``)}else u!==`dangerouslySetInnerHTML`&&u!==`children`&&u!==`suppressContentEditableWarning`&&u!==`suppressHydrationWarning`&&u!==`autoFocus`&&(a.hasOwnProperty(u)?o||=[]:(o||=[]).push(u,null));for(u in r){var l=r[u];if(c=i?.[u],r.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u===`style`)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||={},n[s]=``);for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||={},n[s]=l[s])}else n||(o||=[],o.push(u,n)),n=l;else u===`dangerouslySetInnerHTML`?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(o||=[]).push(u,l)):u===`children`?typeof l!=`string`&&typeof l!=`number`||(o||=[]).push(u,``+l):u!==`suppressContentEditableWarning`&&u!==`suppressHydrationWarning`&&(a.hasOwnProperty(u)?(l!=null&&u===`onScroll`&&Ai(`scroll`,e),o||c===l||(o=[])):(o||=[]).push(u,l))}n&&(o||=[]).push(`style`,n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},zc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bc(e,t){if(!Xa)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hc(e,t,n){var i=t.pendingProps;switch(qa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vc(t),null;case 1:return Ca(t.type)&&wa(),Vc(t),null;case 3:return i=t.stateNode,Uo(),ga(ba),ga(ya),Yo(),i.pendingContext&&=(i.context=i.pendingContext,null),(e===null||e.child===null)&&(ro(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Za!==null&&($l(Za),Za=null))),Vc(t),null;case 5:Go(t);var o=Vo(Bo.current);if(n=t.type,e!==null&&t.stateNode!=null)Rc(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Vc(t),null}if(e=Vo(Ro.current),ro(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[ra]=t,i[ia]=s,e=(t.mode&1)!=0,n){case`dialog`:Ai(`cancel`,i),Ai(`close`,i);break;case`iframe`:case`object`:case`embed`:Ai(`load`,i);break;case`video`:case`audio`:for(o=0;o<Ei.length;o++)Ai(Ei[o],i);break;case`source`:Ai(`error`,i);break;case`img`:case`image`:case`link`:Ai(`error`,i),Ai(`load`,i);break;case`details`:Ai(`toggle`,i);break;case`input`:Oe(i,s),Ai(`invalid`,i);break;case`select`:i._wrapperState={wasMultiple:!!s.multiple},Ai(`invalid`,i);break;case`textarea`:Ie(i,s),Ai(`invalid`,i)}for(var c in Ye(n,s),o=null,s)if(s.hasOwnProperty(c)){var l=s[c];c===`children`?typeof l==`string`?i.textContent!==l&&(!0!==s.suppressHydrationWarning&&Ui(i.textContent,l,e),o=[`children`,l]):typeof l==`number`&&i.textContent!==``+l&&(!0!==s.suppressHydrationWarning&&Ui(i.textContent,l,e),o=[`children`,``+l]):a.hasOwnProperty(c)&&l!=null&&c===`onScroll`&&Ai(`scroll`,i)}switch(n){case`input`:we(i),je(i,s,!0);break;case`textarea`:we(i),Re(i);break;case`select`:case`option`:break;default:typeof s.onClick==`function`&&(i.onclick=Wi)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,e===`http://www.w3.org/1999/xhtml`&&(e=ze(n)),e===`http://www.w3.org/1999/xhtml`?n===`script`?(e=c.createElement(`div`),e.innerHTML=`<script><\/script>`,e=e.removeChild(e.firstChild)):typeof i.is==`string`?e=c.createElement(n,{is:i.is}):(e=c.createElement(n),n===`select`&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,n),e[ra]=t,e[ia]=i,Lc(e,t,!1,!1),t.stateNode=e;a:{switch(c=Xe(n,i),n){case`dialog`:Ai(`cancel`,e),Ai(`close`,e),o=i;break;case`iframe`:case`object`:case`embed`:Ai(`load`,e),o=i;break;case`video`:case`audio`:for(o=0;o<Ei.length;o++)Ai(Ei[o],e);o=i;break;case`source`:Ai(`error`,e),o=i;break;case`img`:case`image`:case`link`:Ai(`error`,e),Ai(`load`,e),o=i;break;case`details`:Ai(`toggle`,e),o=i;break;case`input`:Oe(e,i),o=De(e,i),Ai(`invalid`,e);break;case`option`:o=i;break;case`select`:e._wrapperState={wasMultiple:!!i.multiple},o=T({},i,{value:void 0}),Ai(`invalid`,e);break;case`textarea`:Ie(e,i),o=Fe(e,i),Ai(`invalid`,e);break;default:o=i}for(s in Ye(n,o),l=o,l)if(l.hasOwnProperty(s)){var u=l[s];s===`style`?qe(e,u):s===`dangerouslySetInnerHTML`?(u=u?u.__html:void 0,u!=null&&He(e,u)):s===`children`?typeof u==`string`?(n!==`textarea`||u!==``)&&Ue(e,u):typeof u==`number`&&Ue(e,``+u):s!==`suppressContentEditableWarning`&&s!==`suppressHydrationWarning`&&s!==`autoFocus`&&(a.hasOwnProperty(s)?u!=null&&s===`onScroll`&&Ai(`scroll`,e):u!=null&&S(e,s,u,c))}switch(n){case`input`:we(e),je(e,i,!1);break;case`textarea`:we(e),Re(e);break;case`option`:i.value!=null&&e.setAttribute(`value`,``+xe(i.value));break;case`select`:e.multiple=!!i.multiple,s=i.value,s==null?i.defaultValue!=null&&Pe(e,!!i.multiple,i.defaultValue,!0):Pe(e,!!i.multiple,s,!1);break;default:typeof o.onClick==`function`&&(e.onclick=Wi)}switch(n){case`button`:case`input`:case`select`:case`textarea`:i=!!i.autoFocus;break a;case`img`:i=!0;break a;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vc(t),null;case 6:if(e&&t.stateNode!=null)zc(e,t,e.memoizedProps,i);else{if(typeof i!=`string`&&t.stateNode===null)throw Error(r(166));if(n=Vo(Bo.current),Vo(Ro.current),ro(t)){if(i=t.stateNode,n=t.memoizedProps,i[ra]=t,(s=i.nodeValue!==n)&&(e=Ja,e!==null))switch(e.tag){case 3:Ui(i.nodeValue,n,(e.mode&1)!=0);break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ui(i.nodeValue,n,(e.mode&1)!=0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ra]=t,t.stateNode=i}return Vc(t),null;case 13:if(ga(Ko),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xa&&Ya!==null&&t.mode&1&&!(t.flags&128))io(),ao(),t.flags|=98560,s=!1;else if(s=ro(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(r(318));if(s=t.memoizedState,s=s===null?null:s.dehydrated,!s)throw Error(r(317));s[ra]=t}else ao(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vc(t),s=!1}else Za!==null&&($l(Za),Za=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Ko.current&1?Dl===0&&(Dl=3):lu())),t.updateQueue!==null&&(t.flags|=4),Vc(t),null);case 4:return Uo(),e===null&&Ni(t.stateNode.containerInfo),Vc(t),null;case 10:return bo(t.type._context),Vc(t),null;case 17:return Ca(t.type)&&wa(),Vc(t),null;case 19:if(ga(Ko),s=t.memoizedState,s===null)return Vc(t),null;if(i=(t.flags&128)!=0,c=s.rendering,c===null)if(i)Bc(s,!1);else{if(Dl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=qo(e),c!==null){for(t.flags|=128,Bc(s,!1),i=c.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,c=s.alternate,c===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a(Ko,Ko.current&1|2),t.child}e=e.sibling}s.tail!==null&&kt()>Fl&&(t.flags|=128,i=!0,Bc(s,!1),t.lanes=4194304)}else{if(!i)if(e=qo(c),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bc(s,!0),s.tail===null&&s.tailMode===`hidden`&&!c.alternate&&!Xa)return Vc(t),null}else 2*kt()-s.renderingStartTime>Fl&&n!==1073741824&&(t.flags|=128,i=!0,Bc(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(n=s.last,n===null?t.child=c:n.sibling=c,s.last=c)}return s.tail===null?(Vc(t),null):(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=kt(),t.sibling=null,n=Ko.current,_a(Ko,i?n&1|2:n&1),t);case 22:case 23:return au(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Tl&1073741824&&(Vc(t),t.subtreeFlags&6&&(t.flags|=8192)):Vc(t),null;case 24:return null;case 25:return null}throw Error(r(156,t.tag))}function Uc(e,t){switch(qa(t),t.tag){case 1:return Ca(t.type)&&wa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uo(),ga(ba),ga(ya),Yo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Go(t),null;case 13:if(ga(Ko),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ga(Ko),null;case 4:return Uo(),null;case 10:return bo(t.type._context),null;case 22:case 23:return au(),null;case 24:return null;default:return null}}var Wc=!1,Gc=!1,Kc=typeof WeakSet==`function`?WeakSet:Set,j=null;function qc(e,t){var n=e.ref;if(n!==null)if(typeof n==`function`)try{n(null)}catch(n){yu(e,t,n)}else n.current=null}function Jc(e,t,n){try{n()}catch(n){yu(e,t,n)}}var Yc=!1;function Xc(e,t){if(Gi=Tn,e=ti(),ni(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||i!==0&&f.nodeType!==3||(l=s+i),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===i&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Ki={focusedElem:e,selectionRange:n},Tn=!1,j=t;j!==null;)if(t=j,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,_=h.memoizedState,v=t.stateNode;v.__reactInternalSnapshotBeforeUpdate=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Xs(t.type,g),_)}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent=``:y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(e){yu(t,t.return,e)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return h=Yc,Yc=!1,h}function Zc(e,t,n){var r=t.updateQueue;if(r=r===null?null:r.lastEffect,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Jc(t,n,a)}i=i.next}while(i!==r)}}function Qc(e,t){if(t=t.updateQueue,t=t===null?null:t.lastEffect,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $c(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t==`function`?t(e):t.current=e}}function el(e){var t=e.alternate;t!==null&&(e.alternate=null,el(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ra],delete t[ia],delete t[oa],delete t[sa],delete t[ca])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tl(e){return e.tag===5||e.tag===3||e.tag===4}function nl(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||tl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wi));else if(r!==4&&(e=e.child,e!==null))for(rl(e,t,n),e=e.sibling;e!==null;)rl(e,t,n),e=e.sibling}function il(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(il(e,t,n),e=e.sibling;e!==null;)il(e,t,n),e=e.sibling}var al=null,ol=!1;function sl(e,t,n){for(n=n.child;n!==null;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount==`function`)try{Lt.onCommitFiberUnmount(It,n)}catch{}switch(n.tag){case 5:Gc||qc(n,t);case 6:var r=al,i=ol;al=null,sl(e,t,n),al=r,ol=i,al!==null&&(ol?(e=al,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):al.removeChild(n.stateNode));break;case 18:al!==null&&(ol?(e=al,n=n.stateNode,e.nodeType===8?$i(e.parentNode,n):e.nodeType===1&&$i(e,n),wn(e)):$i(al,n.stateNode));break;case 4:r=al,i=ol,al=n.stateNode.containerInfo,ol=!0,sl(e,t,n),al=r,ol=i;break;case 0:case 11:case 14:case 15:if(!Gc&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jc(n,t,o),i=i.next}while(i!==r)}sl(e,t,n);break;case 1:if(!Gc&&(qc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){yu(n,t,e)}sl(e,t,n);break;case 21:sl(e,t,n);break;case 22:n.mode&1?(Gc=(r=Gc)||n.memoizedState!==null,sl(e,t,n),Gc=r):sl(e,t,n);break;default:sl(e,t,n)}}function ll(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kc),t.forEach(function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ul(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 5:al=c.stateNode,ol=!1;break a;case 3:al=c.stateNode.containerInfo,ol=!0;break a;case 4:al=c.stateNode.containerInfo,ol=!0;break a}c=c.return}if(al===null)throw Error(r(160));cl(o,s,a),al=null,ol=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(e){yu(a,t,e)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dl(t,e),t=t.sibling}function dl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ul(t,e),fl(e),i&4){try{Zc(3,e,e.return),Qc(3,e)}catch(t){yu(e,e.return,t)}try{Zc(5,e,e.return)}catch(t){yu(e,e.return,t)}}break;case 1:ul(t,e),fl(e),i&512&&n!==null&&qc(n,n.return);break;case 5:if(ul(t,e),fl(e),i&512&&n!==null&&qc(n,n.return),e.flags&32){var a=e.stateNode;try{Ue(a,``)}catch(t){yu(e,e.return,t)}}if(i&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,s=n===null?o:n.memoizedProps,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c===`input`&&o.type===`radio`&&o.name!=null&&ke(a,o),Xe(c,s);var u=Xe(c,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d===`style`?qe(a,f):d===`dangerouslySetInnerHTML`?He(a,f):d===`children`?Ue(a,f):S(a,d,f,u)}switch(c){case`input`:Ae(a,o);break;case`textarea`:Le(a,o);break;case`select`:var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m==null?p!==!!o.multiple&&(o.defaultValue==null?Pe(a,!!o.multiple,o.multiple?[]:``,!1):Pe(a,!!o.multiple,o.defaultValue,!0)):Pe(a,!!o.multiple,m,!1)}a[ia]=o}catch(t){yu(e,e.return,t)}}break;case 6:if(ul(t,e),fl(e),i&4){if(e.stateNode===null)throw Error(r(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(t){yu(e,e.return,t)}}break;case 3:if(ul(t,e),fl(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{wn(t.containerInfo)}catch(t){yu(e,e.return,t)}break;case 4:ul(t,e),fl(e);break;case 13:ul(t,e),fl(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(Pl=kt())),i&4&&ll(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Gc=(u=Gc)||d,ul(t,e),Gc=u):ul(t,e),fl(e),i&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(j=e,d=e.child;d!==null;){for(f=j=d;j!==null;){switch(p=j,m=p.child,p.tag){case 0:case 11:case 14:case 15:Zc(4,p,p.return);break;case 1:qc(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount==`function`){i=p,n=p.return;try{t=i,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(e){yu(i,n,e)}}break;case 5:qc(p,p.return);break;case 22:if(p.memoizedState!==null){gl(f);continue}}m===null?gl(f):(m.return=p,j=m)}d=d.sibling}a:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(o=a.style,typeof o.setProperty==`function`?o.setProperty(`display`,`none`,`important`):o.display=`none`):(c=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty(`display`)?l.display:null,c.style.display=Ke(`display`,s))}catch(t){yu(e,e.return,t)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?``:f.memoizedProps}catch(t){yu(e,e.return,t)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break a;for(;f.sibling===null;){if(f.return===null||f.return===e)break a;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ul(t,e),fl(e),i&4&&ll(e);break;case 21:break;default:ul(t,e),fl(e)}}function fl(e){var t=e.flags;if(t&2){try{a:{for(var n=e.return;n!==null;){if(tl(n)){var i=n;break a}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(Ue(a,``),i.flags&=-33);var o=nl(e);il(e,o,a);break;case 3:case 4:var s=i.stateNode.containerInfo,c=nl(e);rl(e,c,s);break;default:throw Error(r(161))}}catch(t){yu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pl(e,t,n){j=e,ml(e,t,n)}function ml(e,t,n){for(var r=(e.mode&1)!=0;j!==null;){var i=j,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wc;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Gc;s=Wc;var l=Gc;if(Wc=o,(Gc=c)&&!l)for(j=i;j!==null;)o=j,c=o.child,o.tag===22&&o.memoizedState!==null||c===null?_l(i):(c.return=o,j=c);for(;a!==null;)j=a,ml(a,t,n),a=a.sibling;j=i,Wc=s,Gc=l}hl(e,t,n)}else i.subtreeFlags&8772&&a!==null?(a.return=i,j=a):hl(e,t,n)}}function hl(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gc||Qc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Gc)if(n===null)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Xs(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Io(t,o,i);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Io(t,s,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var l=t.memoizedProps;switch(t.type){case`button`:case`input`:case`select`:case`textarea`:l.autoFocus&&n.focus();break;case`img`:l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Gc||t.flags&512&&$c(t)}catch(e){yu(t,t.return,e)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function gl(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function _l(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qc(4,t)}catch(e){yu(t,n,e)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount==`function`){var i=t.return;try{r.componentDidMount()}catch(e){yu(t,i,e)}}var a=t.return;try{$c(t)}catch(e){yu(t,a,e)}break;case 5:var o=t.return;try{$c(t)}catch(e){yu(t,o,e)}}}catch(e){yu(t,t.return,e)}if(t===e){j=null;break}var s=t.sibling;if(s!==null){s.return=t.return,j=s;break}j=t.return}}var vl=Math.ceil,yl=C.ReactCurrentDispatcher,bl=C.ReactCurrentOwner,xl=C.ReactCurrentBatchConfig,M=0,Sl=null,Cl=null,wl=0,Tl=0,El=ha(0),Dl=0,Ol=null,kl=0,Al=0,jl=0,Ml=null,Nl=null,Pl=0,Fl=1/0,Il=null,Ll=!1,Rl=null,zl=null,Bl=!1,Vl=null,Hl=0,Ul=0,Wl=null,Gl=-1,Kl=0;function ql(){return M&6?kt():Gl===-1?Gl=kt():Gl}function Jl(e){return e.mode&1?M&2&&wl!==0?wl&-wl:so.transition===null?(e=O,e===0?(e=window.event,e=e===void 0?16:jn(e.type),e):e):(Kl===0&&(Kl=Xt()),Kl):1}function Yl(e,t,n,i){if(50<Ul)throw Ul=0,Wl=null,Error(r(185));Zt(e,n,i),(!(M&2)||e!==Sl)&&(e===Sl&&(!(M&2)&&(Al|=n),Dl===4&&tu(e,wl)),Xl(e,i),n===1&&M===0&&!(t.mode&1)&&(Fl=kt()+500,Aa&&Pa()))}function Xl(e,t){var n=e.callbackNode;Jt(e,t);var r=Kt(e,e===Sl?wl:0);if(r===0)n!==null&&Et(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Et(n),t===1)e.tag===0?Na(nu.bind(null,e)):Ma(nu.bind(null,e)),Zi(function(){!(M&6)&&Pa()}),n=null;else{switch(en(r)){case 1:n=jt;break;case 4:n=Mt;break;case 16:n=Nt;break;case 536870912:n=Ft;break;default:n=Nt}n=Tu(n,Zl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zl(e,t){if(Gl=-1,Kl=0,M&6)throw Error(r(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var i=Kt(e,e===Sl?wl:0);if(i===0)return null;if(i&30||(i&e.expiredLanes)!==0||t)t=uu(e,i);else{t=i;var a=M;M|=2;var o=cu();(Sl!==e||wl!==t)&&(Il=null,Fl=kt()+500,ou(e,t));do try{fu();break}catch(t){su(e,t)}while(1);yo(),yl.current=o,M=a,Cl===null?(Sl=null,wl=0,t=Dl):t=0}if(t!==0){if(t===2&&(a=Yt(e),a!==0&&(i=a,t=Ql(e,a))),t===1)throw n=Ol,ou(e,0),tu(e,i),Xl(e,kt()),n;if(t===6)tu(e,i);else{if(a=e.current.alternate,!(i&30)&&!eu(a)&&(t=uu(e,i),t===2&&(o=Yt(e),o!==0&&(i=o,t=Ql(e,o))),t===1))throw n=Ol,ou(e,0),tu(e,i),Xl(e,kt()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:hu(e,Nl,Il);break;case 3:if(tu(e,i),(i&130023424)===i&&(t=Pl+500-kt(),10<t)){if(Kt(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){ql(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ji(hu.bind(null,e,Nl,Il),t);break}hu(e,Nl,Il);break;case 4:if(tu(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var s=31-zt(i);o=1<<s,s=t[s],s>a&&(a=s),i&=~o}if(i=a,i=kt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vl(i/1960))-i,10<i){e.timeoutHandle=Ji(hu.bind(null,e,Nl,Il),i);break}hu(e,Nl,Il);break;case 5:hu(e,Nl,Il);break;default:throw Error(r(329))}}}return Xl(e,kt()),e.callbackNode===n?Zl.bind(null,e):null}function Ql(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(ou(e,t).flags|=256),e=uu(e,t),e!==2&&(t=Nl,Nl=n,t!==null&&$l(t)),e}function $l(e){Nl===null?Nl=e:Nl.push.apply(Nl,e)}function eu(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tu(e,t){for(t&=~jl,t&=~Al,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function nu(e){if(M&6)throw Error(r(327));_u();var t=Kt(e,0);if(!(t&1))return Xl(e,kt()),null;var n=uu(e,t);if(e.tag!==0&&n===2){var i=Yt(e);i!==0&&(t=i,n=Ql(e,i))}if(n===1)throw n=Ol,ou(e,0),tu(e,t),Xl(e,kt()),n;if(n===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hu(e,Nl,Il),Xl(e,kt()),null}function ru(e,t){var n=M;M|=1;try{return e(t)}finally{M=n,M===0&&(Fl=kt()+500,Aa&&Pa())}}function iu(e){Vl!==null&&Vl.tag===0&&!(M&6)&&_u();var t=M;M|=1;var n=xl.transition,r=O;try{if(xl.transition=null,O=1,e)return e()}finally{O=r,xl.transition=n,M=t,!(M&6)&&Pa()}}function au(){Tl=El.current,ga(El)}function ou(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yi(n)),Cl!==null)for(n=Cl.return;n!==null;){var r=n;switch(qa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wa();break;case 3:Uo(),ga(ba),ga(ya),Yo();break;case 5:Go(r);break;case 4:Uo();break;case 13:ga(Ko);break;case 19:ga(Ko);break;case 10:bo(r.type._context);break;case 22:case 23:au()}n=n.return}if(Sl=e,Cl=e=ku(e.current,null),wl=Tl=t,Dl=0,Ol=null,jl=Al=kl=0,Nl=Ml=null,wo!==null){for(t=0;t<wo.length;t++)if(n=wo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}wo=null}return e}function su(e,t){do{var n=Cl;try{if(yo(),Xo.current=Ks,ns){for(var i=$o.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ns=!1}if(Qo=0,ts=es=$o=null,rs=!1,os=0,bl.current=null,n===null||n.return===null){Dl=1,Ol=t,Cl=null;break}a:{var o=e,s=n.return,c=n,l=t;if(t=wl,c.flags|=32768,typeof l==`object`&&l&&typeof l.then==`function`){var u=l,d=c,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=uc(s);if(m!==null){m.flags&=-257,dc(m,s,c,o,t),m.mode&1&&lc(o,u,t),t=m,l=u;var h=t.updateQueue;if(h===null){var g=new Set;g.add(l),t.updateQueue=g}else h.add(l);break a}else{if(!(t&1)){lc(o,u,t),lu();break a}l=Error(r(426))}}else if(Xa&&c.mode&1){var _=uc(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),dc(_,s,c,o,t),oo(rc(l,c));break a}}o=l=rc(l,c),Dl!==4&&(Dl=2),Ml===null?Ml=[o]:Ml.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=sc(o,l,t);Po(o,v);break a;case 1:c=l;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError==`function`||b!==null&&typeof b.componentDidCatch==`function`&&(zl===null||!zl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=cc(o,c,t);Po(o,x);break a}}o=o.return}while(o!==null)}mu(n)}catch(e){t=e,Cl===n&&n!==null&&(Cl=n=n.return);continue}break}while(1)}function cu(){var e=yl.current;return yl.current=Ks,e===null?Ks:e}function lu(){(Dl===0||Dl===3||Dl===2)&&(Dl=4),Sl===null||!(kl&268435455)&&!(Al&268435455)||tu(Sl,wl)}function uu(e,t){var n=M;M|=2;var i=cu();(Sl!==e||wl!==t)&&(Il=null,ou(e,t));do try{du();break}catch(t){su(e,t)}while(1);if(yo(),M=n,yl.current=i,Cl!==null)throw Error(r(261));return Sl=null,wl=0,Dl}function du(){for(;Cl!==null;)pu(Cl)}function fu(){for(;Cl!==null&&!Dt();)pu(Cl)}function pu(e){var t=wu(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,t===null?mu(e):Cl=t,bl.current=null}function mu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Uc(n,t),n!==null){n.flags&=32767,Cl=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dl=6,Cl=null;return}}else if(n=Hc(n,t,Tl),n!==null){Cl=n;return}if(t=t.sibling,t!==null){Cl=t;return}Cl=t=e}while(t!==null);Dl===0&&(Dl=5)}function hu(e,t,n){var r=O,i=xl.transition;try{xl.transition=null,O=1,gu(e,t,n,r)}finally{xl.transition=i,O=r}return null}function gu(e,t,n,i){do _u();while(Vl!==null);if(M&6)throw Error(r(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Qt(e,o),e===Sl&&(Cl=Sl=null,wl=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,Tu(Nt,function(){return _u(),null})),o=(n.flags&15990)!=0,n.subtreeFlags&15990||o){o=xl.transition,xl.transition=null;var s=O;O=1;var c=M;M|=4,bl.current=null,Xc(e,n),dl(n,e),ri(Ki),Tn=!!Gi,Ki=Gi=null,e.current=n,pl(n,e,a),Ot(),M=c,O=s,xl.transition=o}else e.current=n;if(Bl&&(Bl=!1,Vl=e,Hl=a),o=e.pendingLanes,o===0&&(zl=null),Rt(n.stateNode,i),Xl(e,kt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Ll)throw Ll=!1,e=Rl,Rl=null,e;return Hl&1&&e.tag!==0&&_u(),o=e.pendingLanes,o&1?e===Wl?Ul++:(Ul=0,Wl=e):Ul=0,Pa(),null}function _u(){if(Vl!==null){var e=en(Hl),t=xl.transition,n=O;try{if(xl.transition=null,O=16>e?16:e,Vl===null)var i=!1;else{if(e=Vl,Vl=null,Hl=0,M&6)throw Error(r(331));var a=M;for(M|=4,j=e.current;j!==null;){var o=j,s=o.child;if(j.flags&16){var c=o.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(j=u;j!==null;){var d=j;switch(d.tag){case 0:case 11:case 15:Zc(8,d,o)}var f=d.child;if(f!==null)f.return=d,j=f;else for(;j!==null;){d=j;var p=d.sibling,m=d.return;if(el(d),d===u){j=null;break}if(p!==null){p.return=m,j=p;break}j=m}}}var h=o.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}j=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,j=s;else b:for(;j!==null;){if(o=j,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zc(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,j=v;break b}j=o.return}}var y=e.current;for(j=y;j!==null;){s=j;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,j=b;else b:for(s=y;j!==null;){if(c=j,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Qc(9,c)}}catch(e){yu(c,c.return,e)}if(c===s){j=null;break b}var x=c.sibling;if(x!==null){x.return=c.return,j=x;break b}j=c.return}}if(M=a,Pa(),Lt&&typeof Lt.onPostCommitFiberRoot==`function`)try{Lt.onPostCommitFiberRoot(It,e)}catch{}i=!0}return i}finally{O=n,xl.transition=t}}return!1}function vu(e,t,n){t=rc(n,t),t=sc(e,t,1),e=Mo(e,t,1),t=ql(),e!==null&&(Zt(e,1,t),Xl(e,t))}function yu(e,t,n){if(e.tag===3)vu(e,e,n);else for(;t!==null;){if(t.tag===3){vu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(zl===null||!zl.has(r))){e=rc(n,e),e=cc(t,e,1),t=Mo(t,e,1),e=ql(),t!==null&&(Zt(t,1,e),Xl(t,e));break}}t=t.return}}function bu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ql(),e.pingedLanes|=e.suspendedLanes&n,Sl===e&&(wl&n)===n&&(Dl===4||Dl===3&&(wl&130023424)===wl&&500>kt()-Pl?ou(e,0):jl|=n),Xl(e,t)}function xu(e,t){t===0&&(e.mode&1?(t=Wt,Wt<<=1,!(Wt&130023424)&&(Wt=4194304)):t=1);var n=ql();e=Do(e,t),e!==null&&(Zt(e,t,n),Xl(e,n))}function Su(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}i!==null&&i.delete(t),xu(e,n)}var wu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ba.current)pc=!0;else{if((e.lanes&n)===0&&!(t.flags&128))return pc=!1,Ic(e,t,n);pc=!!(e.flags&131072)}else pc=!1,Xa&&t.flags&1048576&&Ga(t,Ra,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Pc(e,t),e=t.pendingProps;var a=Sa(t,ya.current);So(t,n),a=us(null,t,i,e,a,n);var o=ds();return t.flags|=1,typeof a==`object`&&a&&typeof a.render==`function`&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ca(i)?(o=!0,Da(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ko(t),a.updater=Qs,t.stateNode=a,a._reactInternals=t,nc(t,i,e,n),t=Sc(null,t,i,!0,o,n)):(t.tag=0,Xa&&o&&Ka(t),mc(null,t,a,n),t=t.child),t;case 16:i=t.elementType;a:{switch(Pc(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=Ou(i),e=Xs(i,e),a){case 0:t=bc(null,t,i,e,n);break a;case 1:t=xc(null,t,i,e,n);break a;case 11:t=hc(null,t,i,e,n);break a;case 14:t=gc(null,t,i,Xs(i.type,e),n);break a}throw Error(r(306,i,``))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Xs(i,a),bc(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Xs(i,a),xc(e,t,i,a,n);case 3:a:{if(Cc(t),e===null)throw Error(r(387));i=t.pendingProps,o=t.memoizedState,a=o.element,Ao(e,t),Fo(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=rc(Error(r(423)),t),t=wc(e,t,i,n,a);break a}else if(i!==a){a=rc(Error(r(424)),t),t=wc(e,t,i,n,a);break a}else for(Ya=ea(t.stateNode.containerInfo.firstChild),Ja=t,Xa=!0,Za=null,n=mo(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),i===a){t=Fc(e,t,n);break a}mc(e,t,i,n)}t=t.child}return t;case 5:return Wo(t),e===null&&to(t),i=t.type,a=t.pendingProps,o=e===null?null:e.memoizedProps,s=a.children,qi(i,a)?s=null:o!==null&&qi(i,o)&&(t.flags|=32),yc(e,t),mc(e,t,s,n),t.child;case 6:return e===null&&to(t),null;case 13:return Dc(e,t,n);case 4:return Ho(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=po(t,null,i,n):mc(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Xs(i,a),hc(e,t,i,a,n);case 7:return mc(e,t,t.pendingProps,n),t.child;case 8:return mc(e,t,t.pendingProps.children,n),t.child;case 12:return mc(e,t,t.pendingProps.children,n),t.child;case 10:a:{if(i=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,_a(ho,i._currentValue),i._currentValue=s,o!==null)if(Xr(o.value,s)){if(o.children===a.children&&!ba.current){t=Fc(e,t,n);break a}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){s=o.child;for(var l=c.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=jo(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xo(o.return,n,t),c.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(r(341));s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),xo(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mc(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,So(t,n),a=Co(a),i=i(a),t.flags|=1,mc(e,t,i,n),t.child;case 14:return i=t.type,a=Xs(i,t.pendingProps),a=Xs(i.type,a),gc(e,t,i,a,n);case 15:return _c(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Xs(i,a),Pc(e,t),t.tag=1,Ca(i)?(e=!0,Da(t)):e=!1,So(t,n),ec(t,i,a),nc(t,i,a,n),Sc(null,t,i,!0,e,n);case 19:return Nc(e,t,n);case 22:return vc(e,t,n)}throw Error(r(156,t.tag))};function Tu(e,t){return Tt(e,t)}function N(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eu(e,t,n,r){return new N(e,t,n,r)}function Du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ou(e){if(typeof e==`function`)return Du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oe)return 11;if(e===le)return 14}return 2}function ku(e,t){var n=e.alternate;return n===null?(n=Eu(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Au(e,t,n,i,a,o){var s=2;if(i=e,typeof e==`function`)Du(e)&&(s=1);else if(typeof e==`string`)s=5;else a:switch(e){case te:return ju(n.children,a,o,t);case ne:s=8,a|=8;break;case re:return e=Eu(12,n,t,a|2),e.elementType=re,e.lanes=o,e;case se:return e=Eu(13,n,t,a),e.elementType=se,e.lanes=o,e;case ce:return e=Eu(19,n,t,a),e.elementType=ce,e.lanes=o,e;case de:return Mu(n,a,o,t);default:if(typeof e==`object`&&e)switch(e.$$typeof){case ie:s=10;break a;case ae:s=9;break a;case oe:s=11;break a;case le:s=14;break a;case ue:s=16,i=null;break a}throw Error(r(130,e==null?e:typeof e,``))}return t=Eu(s,n,t,a),t.elementType=e,t.type=i,t.lanes=o,t}function ju(e,t,n,r){return e=Eu(7,e,r,t),e.lanes=n,e}function Mu(e,t,n,r){return e=Eu(22,e,r,t),e.elementType=de,e.lanes=n,e.stateNode={isHidden:!1},e}function Nu(e,t,n){return e=Eu(6,e,null,t),e.lanes=n,e}function Pu(e,t,n){return t=Eu(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D(0),this.expirationTimes=D(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iu(e,t,n,r,i,a,o,s,c){return e=new Fu(e,t,n,s,c),t===1?(t=1,!0===a&&(t|=8)):t=0,a=Eu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ko(a),e}function Lu(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}function Ru(e){if(!e)return va;e=e._reactInternals;a:{if(yt(e)!==e||e.tag!==1)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break a;case 1:if(Ca(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break a}}t=t.return}while(t!==null);throw Error(r(171))}if(e.tag===1){var n=e.type;if(Ca(n))return Ea(e,n,t)}return t}function zu(e,t,n,r,i,a,o,s,c){return e=Iu(n,r,!0,e,i,a,o,s,c),e.context=Ru(null),n=e.current,r=ql(),i=Jl(n),a=jo(r,i),a.callback=t??null,Mo(n,a,i),e.current.lanes=i,Zt(e,i,r),Xl(e,r),e}function P(e,t,n,r){var i=t.current,a=ql(),o=Jl(i);return n=Ru(n),t.context===null?t.context=n:t.pendingContext=n,t=jo(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mo(i,t,o),e!==null&&(Yl(e,i,o,a),No(e,i,o)),o}function Bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function F(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vu(e,t){F(e,t),(e=e.alternate)&&F(e,t)}function Hu(){return null}var Uu=typeof reportError==`function`?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}Gu.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));P(e,t,null,null)},Gu.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;iu(function(){P(null,e,null,null)}),t[aa]=null}};function Gu(e){this._internalRoot=e}Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=an();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&yn(e)}};function Ku(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==` react-mount-point-unstable `))}function Ju(){}function Yu(e,t,n,r,i){if(i){if(typeof r==`function`){var a=r;r=function(){var e=Bu(o);a.call(e)}}var o=zu(t,r,e,0,null,!1,!1,``,Ju);return e._reactRootContainer=o,e[aa]=o.current,Ni(e.nodeType===8?e.parentNode:e),iu(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r==`function`){var s=r;r=function(){var e=Bu(c);s.call(e)}}var c=Iu(e,0,!1,null,null,!1,!1,``,Ju);return e._reactRootContainer=c,e[aa]=c.current,Ni(e.nodeType===8?e.parentNode:e),iu(function(){P(t,c,n,r)}),c}function Xu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i==`function`){var s=i;i=function(){var e=Bu(o);s.call(e)}}P(t,o,e,i)}else o=Yu(n,t,e,i,r);return Bu(o)}tn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gt(t.pendingLanes);n!==0&&($t(t,n|1),Xl(t,kt()),!(M&6)&&(Fl=kt()+500,Pa()))}break;case 13:iu(function(){var t=Do(e,1);if(t!==null){var n=ql();Yl(t,e,1,n)}}),Vu(e,1)}},nn=function(e){if(e.tag===13){var t=Do(e,134217728);if(t!==null){var n=ql();Yl(t,e,134217728,n)}Vu(e,134217728)}},rn=function(e){if(e.tag===13){var t=Jl(e),n=Do(e,t);if(n!==null){var r=ql();Yl(n,e,t,r)}Vu(e,t)}},an=function(){return O},on=function(e,t){var n=O;try{return O=e,t()}finally{O=n}},$e=function(e,t,n){switch(t){case`input`:if(Ae(e,n),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name=`+JSON.stringify(``+t)+`][type="radio"]`),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=fa(i);if(!a)throw Error(r(90));Te(i),Ae(i,a)}}}break;case`textarea`:Le(e,n);break;case`select`:t=n.value,t!=null&&Pe(e,!!n.multiple,t,!1)}},at=ru,ot=iu;var Zu={usingClientEntryPoint:!1,Events:[ua,da,fa,rt,it,ru]},Qu={findFiberByHostInstance:la,bundleType:0,version:`18.3.1`,rendererPackageName:`react-dom`},I={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ct(e),e===null?null:e.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||Hu,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:`18.3.1-next-f1338f8080-20240426`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{It=$u.inject(I),Lt=$u}catch{}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,exports.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ku(t))throw Error(r(200));return Lu(e,t,null,n)},exports.createRoot=function(e,t){if(!Ku(e))throw Error(r(299));var n=!1,i=``,a=Uu;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Iu(e,1,!1,null,null,n,!1,i,a),e[aa]=t.current,Ni(e.nodeType===8?e.parentNode:e),new Wu(t)},exports.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(r(188)):(e=Object.keys(e).join(`,`),Error(r(268,e)));return e=Ct(t),e=e===null?null:e.stateNode,e},exports.flushSync=function(e){return iu(e)},exports.hydrate=function(e,t,n){if(!qu(t))throw Error(r(200));return Xu(null,e,t,!0,n)},exports.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(r(405));var i=n!=null&&n.hydratedSources||null,a=!1,o=``,s=Uu;if(n!=null&&(!0===n.unstable_strictMode&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=zu(t,null,e,1,n??null,a,!1,o,s),e[aa]=t.current,Ni(e),i)for(e=0;e<i.length;e++)n=i[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Gu(t)},exports.render=function(e,t,n){if(!qu(t))throw Error(r(200));return Xu(null,e,t,!1,n)},exports.unmountComponentAtNode=function(e){if(!qu(e))throw Error(r(40));return e._reactRootContainer?(iu(function(){Xu(null,null,e,!1,function(){e._reactRootContainer=null,e[aa]=null})}),!0):!1},exports.unstable_batchedUpdates=ru,exports.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!qu(n))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return Xu(e,t,n,!1,i)},exports.version=`18.3.1-next-f1338f8080-20240426`})),_=s(((exports,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=u(s((exports=>{var t=_();exports.createRoot=t.createRoot,exports.hydrateRoot=t.hydrateRoot}))()),y=u(_()),b=u(p());
/**
* @remix-run/router v1.23.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/
function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}var S;(function(e){e.Pop=`POP`,e.Push=`PUSH`,e.Replace=`REPLACE`})(S||={});var C=`popstate`;function ee(e){e===void 0&&(e={});function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return ie(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:ae(t)}return se(t,n,null,e)}function w(e,t){if(e===!1||e==null)throw Error(t)}function te(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function ne(){return Math.random().toString(36).substr(2,8)}function re(e,t){return{usr:e.state,key:e.key,idx:t}}function ie(e,t,n,r){return n===void 0&&(n=null),x({pathname:typeof e==`string`?e:e.pathname,search:``,hash:``},typeof t==`string`?oe(t):t,{state:n,key:t&&t.key||r||ne()})}function ae(e){let{pathname:t=`/`,search:n=``,hash:r=``}=e;return n&&n!==`?`&&(t+=n.charAt(0)===`?`?n:`?`+n),r&&r!==`#`&&(t+=r.charAt(0)===`#`?r:`#`+r),t}function oe(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function se(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=S.Pop,c=null,l=u();l??(l=0,o.replaceState(x({},o.state,{idx:l}),``));function u(){return(o.state||{idx:null}).idx}function d(){s=S.Pop;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=S.Push;let r=ie(h.location,e,t);n&&n(r,e),l=u()+1;let d=re(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=S.Replace;let r=ie(h.location,e,t);n&&n(r,e),l=u();let i=re(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){let t=i.location.origin===`null`?i.location.href:i.location.origin,n=typeof e==`string`?e:ae(e);return n=n.replace(/ $/,`%20`),w(t,`No window.location.(origin|href) available to create URL for href: `+n),new URL(n,t)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(C,d),c=e,()=>{i.removeEventListener(C,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}var ce;(function(e){e.data=`data`,e.deferred=`deferred`,e.redirect=`redirect`,e.error=`error`})(ce||={});function le(e,t,n){return n===void 0&&(n=`/`),ue(e,t,n,!1)}function ue(e,t,n,r){let i=typeof t==`string`?oe(t):t,a=Ee(i.pathname||`/`,n);if(a==null)return null;let o=de(e);pe(o);let s=null;for(let e=0;s==null&&e<o.length;++e){let t=Te(a);s=Se(o[e],t,r)}return s}function de(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r=``);let i=(e,i,a)=>{let o={relativePath:a===void 0?e.path||``:a,caseSensitive:e.caseSensitive===!0,childrenIndex:i,route:e};o.relativePath.startsWith(`/`)&&(w(o.relativePath.startsWith(r),`Absolute route path "`+o.relativePath+`" nested under path `+(`"`+r+`" is not valid. An absolute child route path `)+`must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let s=Ne([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(w(e.index!==!0,`Index routes must not have child routes. Please remove `+(`all child routes from route path "`+s+`".`)),de(e.children,t,c,s)),!(e.path==null&&!e.index)&&t.push({path:s,score:be(s,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(e.path===``||!((n=e.path)!=null&&n.includes(`?`)))i(e,t);else for(let n of fe(e.path))i(e,t,n)}),t}function fe(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=fe(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function pe(e){e.sort((e,t)=>e.score===t.score?xe(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var T=/^:[\w-]+$/,me=3,he=2,ge=1,_e=10,ve=-2,ye=e=>e===`*`;function be(e,t){let n=e.split(`/`),r=n.length;return n.some(ye)&&(r+=ve),t&&(r+=he),n.filter(e=>!ye(e)).reduce((e,t)=>e+(T.test(t)?me:t===``?ge:_e),r)}function xe(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function Se(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=Ce({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=Ce({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Ne([a,u.pathname]),pathnameBase:Pe(Ne([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Ne([a,u.pathnameBase]))}return o}function Ce(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=we(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if(r===`*`){let e=s[n]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let c=s[n];return i&&!c?e[r]=void 0:e[r]=(c||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function we(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),te(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "`+e+`" will be treated as if it were `+(`"`+e.replace(/\*$/,`/*`)+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+(`please change the route path to "`+e.replace(/\*$/,`/*`)+`".`));let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`));return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function Te(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return te(!1,`The URL path "`+e+`" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent `+(`encoding (`+t+`).`)),e}}function Ee(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}function De(e,t){t===void 0&&(t=`/`);let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?oe(e):e;return{pathname:n?n.startsWith(`/`)?n:Oe(n,t):t,search:Fe(r),hash:Ie(i)}}function Oe(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function ke(e,t,n,r){return`Cannot include a '`+e+`' character in a manually specified `+("`to."+t+"` field ["+JSON.stringify(r)+`].  Please separate it out to the `)+("`to."+n+"` field. Alternatively you may provide the full path as ")+`a string in <Link to="..."> and the router will parse it for you.`}function Ae(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function je(e,t){let n=Ae(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function Me(e,t,n,r){r===void 0&&(r=!1);let i;typeof e==`string`?i=oe(e):(i=x({},e),w(!i.pathname||!i.pathname.includes(`?`),ke(`?`,`pathname`,`search`,i)),w(!i.pathname||!i.pathname.includes(`#`),ke(`#`,`pathname`,`hash`,i)),w(!i.search||!i.search.includes(`#`),ke(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=De(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Ne=e=>e.join(`/`).replace(/\/\/+/g,`/`),Pe=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),Fe=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Ie=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e;function Le(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}var ze=b.createContext(null),Be=b.createContext(null),Ve=b.createContext(null),He=b.createContext(null),Ue=b.createContext({outlet:null,matches:[],isDataRoute:!1}),We=b.createContext(null);function Ge(e,t){let{relative:n}=t===void 0?{}:t;!Ke()&&w(!1);let{basename:r,navigator:i}=b.useContext(Ve),{hash:a,pathname:o,search:s}=Ze(e,{relative:n}),c=o;return r!==`/`&&(c=o===`/`?r:Ne([r,o])),i.createHref({pathname:c,search:s,hash:a})}function Ke(){return b.useContext(He)!=null}function qe(){return!Ke()&&w(!1),b.useContext(He).location}function Je(e){b.useContext(Ve).static||b.useLayoutEffect(e)}function Ye(){let{isDataRoute:e}=b.useContext(Ue);return e?ft():Xe()}function Xe(){!Ke()&&w(!1);let e=b.useContext(ze),{basename:t,future:n,navigator:r}=b.useContext(Ve),{matches:i}=b.useContext(Ue),{pathname:a}=qe(),o=JSON.stringify(je(i,n.v7_relativeSplatPath)),s=b.useRef(!1);return Je(()=>{s.current=!0}),b.useCallback(function(n,i){if(i===void 0&&(i={}),!s.current)return;if(typeof n==`number`){r.go(n);return}let c=Me(n,JSON.parse(o),a,i.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Ne([t,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)},[t,r,o,a,e])}function Ze(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(Ve),{matches:i}=b.useContext(Ue),{pathname:a}=qe(),o=JSON.stringify(je(i,r.v7_relativeSplatPath));return b.useMemo(()=>Me(e,JSON.parse(o),a,n===`path`),[e,o,a,n])}function Qe(e,t){return $e(e,t)}function $e(e,t,n,r){!Ke()&&w(!1);let{navigator:i}=b.useContext(Ve),{matches:a}=b.useContext(Ue),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:`/`;o&&o.route;let l=qe(),u;if(t){let e=typeof t==`string`?oe(t):t;!(c===`/`||e.pathname?.startsWith(c))&&w(!1),u=e}else u=l;let d=u.pathname||`/`,f=d;if(c!==`/`){let e=c.replace(/^\//,``).split(`/`);f=`/`+d.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let p=le(e,{pathname:f}),m=it(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Ne([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?c:Ne([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,r);return t&&m?b.createElement(He.Provider,{value:{location:Re({pathname:`/`,search:``,hash:``,state:null,key:`default`},u),navigationType:S.Pop}},m):m}function et(){let e=dt(),t=Le(e)?e.status+` `+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null;return b.createElement(b.Fragment,null,b.createElement(`h2`,null,`Unexpected Application Error!`),b.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?b.createElement(`pre`,{style:{padding:`0.5rem`,backgroundColor:`rgba(200,200,200, 0.5)`}},n):null,null)}var tt=b.createElement(et,null),nt=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error(`React Router caught the following error during render`,e,t)}render(){return this.state.error===void 0?this.props.children:b.createElement(Ue.Provider,{value:this.props.routeContext},b.createElement(We.Provider,{value:this.state.error,children:this.props.component}))}};function rt(e){let{routeContext:t,match:n,children:r}=e,i=b.useContext(ze);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ue.Provider,{value:t},r)}function it(e,t,n,r){if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);!(e>=0)&&w(!1),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&e[t.route.id]===void 0&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{let l,u=!1,d=null,f=null;n&&(l=o&&r.route.id?o[r.route.id]:void 0,d=r.route.errorElement||tt,s&&(c<0&&i===0?(mt(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,f=null):c===i&&(u=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=l?d:u?f:r.route.Component?b.createElement(r.route.Component,null):r.route.element?r.route.element:e,b.createElement(rt,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?b.createElement(nt,{location:n.location,revalidation:n.revalidation,component:d,error:l,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var at=function(e){return e.UseBlocker=`useBlocker`,e.UseRevalidator=`useRevalidator`,e.UseNavigateStable=`useNavigate`,e}(at||{}),ot=function(e){return e.UseBlocker=`useBlocker`,e.UseLoaderData=`useLoaderData`,e.UseActionData=`useActionData`,e.UseRouteError=`useRouteError`,e.UseNavigation=`useNavigation`,e.UseRouteLoaderData=`useRouteLoaderData`,e.UseMatches=`useMatches`,e.UseRevalidator=`useRevalidator`,e.UseNavigateStable=`useNavigate`,e.UseRouteId=`useRouteId`,e}(ot||{});function st(e){let t=b.useContext(ze);return!t&&w(!1),t}function ct(e){let t=b.useContext(Be);return!t&&w(!1),t}function lt(e){let t=b.useContext(Ue);return!t&&w(!1),t}function ut(e){let t=lt(e),n=t.matches[t.matches.length-1];return!n.route.id&&w(!1),n.route.id}function dt(){let e=b.useContext(We),t=ct(ot.UseRouteError),n=ut(ot.UseRouteError);return e===void 0?t.errors?.[n]:e}function ft(){let{router:e}=st(at.UseNavigateStable),t=ut(ot.UseNavigateStable),n=b.useRef(!1);return Je(()=>{n.current=!0}),b.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r==`number`?e.navigate(r):e.navigate(r,Re({fromRouteId:t},i)))},[e,t])}var pt={};function mt(e,t,n){!t&&!pt[e]&&(pt[e]=!0)}var ht=(e,t,n)=>(``+t+("You can use the `"+e+"` future flag to opt-in early. ")+(`For more information, see `+n+`.`),void 0);function gt(e,t){e?.v7_startTransition===void 0&&ht(`v7_startTransition`,"React Router will begin wrapping state updates in `React.startTransition` in v7",`https://reactrouter.com/v6/upgrading/future#v7_starttransition`),e?.v7_relativeSplatPath===void 0&&(!t||t.v7_relativeSplatPath===void 0)&&ht(`v7_relativeSplatPath`,`Relative route resolution within Splat routes is changing in v7`,`https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath`),t&&(t.v7_fetcherPersist===void 0&&ht(`v7_fetcherPersist`,`The persistence behavior of fetchers is changing in v7`,`https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist`),t.v7_normalizeFormMethod===void 0&&ht(`v7_normalizeFormMethod`,"Casing of `formMethod` fields is being normalized to uppercase in v7",`https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod`),t.v7_partialHydration===void 0&&ht(`v7_partialHydration`,"`RouterProvider` hydration behavior is changing in v7",`https://reactrouter.com/v6/upgrading/future#v7_partialhydration`),t.v7_skipActionErrorRevalidation===void 0&&ht(`v7_skipActionErrorRevalidation`,"The revalidation behavior after 4xx/5xx `action` responses is changing in v7",`https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation`))}b.startTransition;function _t(e){let{to:t,replace:n,state:r,relative:i}=e;!Ke()&&w(!1);let{future:a,static:o}=b.useContext(Ve),{matches:s}=b.useContext(Ue),{pathname:c}=qe(),l=Ye(),u=Me(t,je(s,a.v7_relativeSplatPath),c,i===`path`),d=JSON.stringify(u);return b.useEffect(()=>l(JSON.parse(d),{replace:n,state:r,relative:i}),[l,d,i,n,r]),null}function E(e){w(!1)}function vt(e){let{basename:t=`/`,children:n=null,location:r,navigationType:i=S.Pop,navigator:a,static:o=!1,future:s}=e;Ke()&&w(!1);let c=t.replace(/^\/*/,`/`),l=b.useMemo(()=>({basename:c,navigator:a,static:o,future:Re({v7_relativeSplatPath:!1},s)}),[c,s,a,o]);typeof r==`string`&&(r=oe(r));let{pathname:u=`/`,search:d=``,hash:f=``,state:p=null,key:m=`default`}=r,h=b.useMemo(()=>{let e=Ee(u,c);return e==null?null:{location:{pathname:e,search:d,hash:f,state:p,key:m},navigationType:i}},[c,u,d,f,p,m,i]);return h==null?null:b.createElement(Ve.Provider,{value:l},b.createElement(He.Provider,{children:n,value:h}))}function yt(e){let{children:t,location:n}=e;return Qe(bt(t),n)}new Promise(()=>{});function bt(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(e,r)=>{if(!b.isValidElement(e))return;let i=[...t,r];if(e.type===b.Fragment){n.push.apply(n,bt(e.props.children,i));return}e.type!==E&&w(!1),!(!e.props.index||!e.props.children)&&w(!1);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=bt(e.props.children,i)),n.push(a)}),n}function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function St(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Ct(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wt(e,t){return e.button===0&&(!t||t===`_self`)&&!Ct(e)}var Tt=[`onClick`,`relative`,`reloadDocument`,`replace`,`state`,`target`,`to`,`preventScrollReset`,`viewTransition`],Et=`6`;try{window.__reactRouterVersion=Et}catch{}var Dt=b.startTransition;y.flushSync,b.useId;function Ot(e){let{basename:t,children:n,future:r,window:i}=e,a=b.useRef();a.current??=ee({window:i,v5Compat:!0});let o=a.current,[s,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=b.useCallback(e=>{l&&Dt?Dt(()=>c(e)):c(e)},[c,l]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>gt(r),[r]),b.createElement(vt,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var kt=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0,At=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=b.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u}=e,d=St(e,Tt),{basename:f}=b.useContext(Ve),p,m=!1;if(typeof c==`string`&&At.test(c)&&(p=c,kt))try{let e=new URL(window.location.href),t=c.startsWith(`//`)?new URL(e.protocol+c):new URL(c),n=Ee(t.pathname,f);t.origin===e.origin&&n!=null?c=n+t.search+t.hash:m=!0}catch{}let h=Ge(c,{relative:r}),g=Pt(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u});function _(e){n&&n(e),e.defaultPrevented||g(e)}return b.createElement(`a`,xt({},d,{href:p||h,onClick:m||i?n:_,ref:t,target:s}))}),Mt;(function(e){e.UseScrollRestoration=`useScrollRestoration`,e.UseSubmit=`useSubmit`,e.UseSubmitFetcher=`useSubmitFetcher`,e.UseFetcher=`useFetcher`,e.useViewTransitionState=`useViewTransitionState`})(Mt||={});var Nt;(function(e){e.UseFetcher=`useFetcher`,e.UseFetchers=`useFetchers`,e.UseScrollRestoration=`useScrollRestoration`})(Nt||={});function Pt(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,c=Ye(),l=qe(),u=Ze(e,{relative:o});return b.useCallback(t=>{if(wt(t,n)){t.preventDefault();let n=r===void 0?ae(l)===ae(u):r;c(e,{replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[l,c,u,r,i,n,e,a,o,s])}var Ft=(0,b.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`}),It=(0,b.createContext)({}),Lt=(0,b.createContext)(null),Rt=typeof document<`u`,zt=Rt?b.useLayoutEffect:b.useEffect,Bt=(0,b.createContext)({strict:!1}),Vt=e=>e.replace(/([a-z])([A-Z])/g,`$1-$2`).toLowerCase(),Ht=`data-`+Vt(`framerAppearId`);function Ut(e,t,n,r){let{visualElement:i}=(0,b.useContext)(It),a=(0,b.useContext)(Bt),o=(0,b.useContext)(Lt),s=(0,b.useContext)(Ft).reducedMotion,c=(0,b.useRef)();r||=a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));let l=c.current;(0,b.useInsertionEffect)(()=>{l&&l.update(n,o)});let u=(0,b.useRef)(!!(n[Ht]&&!window.HandoffComplete));return zt(()=>{l&&(l.render(),u.current&&l.animationState&&l.animationState.animateChanges())}),(0,b.useEffect)(()=>{l&&(l.updateFeatures(),!u.current&&l.animationState&&l.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),l}function Wt(e){return e&&typeof e==`object`&&Object.prototype.hasOwnProperty.call(e,`current`)}function Gt(e,t,n){return(0,b.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n==`function`?n(r):Wt(n)&&(n.current=r))},[t])}function Kt(e){return typeof e==`string`||Array.isArray(e)}function qt(e){return typeof e==`object`&&!!e&&typeof e.start==`function`}var Jt=[`animate`,`whileInView`,`whileFocus`,`whileHover`,`whileTap`,`whileDrag`,`exit`],Yt=[`initial`,...Jt];function Xt(e){return qt(e.animate)||Yt.some(t=>Kt(e[t]))}function D(e){return!!(Xt(e)||e.variants)}function Zt(e,t){if(Xt(e)){let{initial:t,animate:n}=e;return{initial:t===!1||Kt(t)?t:void 0,animate:Kt(n)?n:void 0}}return e.inherit===!1?{}:t}function Qt(e){let{initial:t,animate:n}=Zt(e,(0,b.useContext)(It));return(0,b.useMemo)(()=>({initial:t,animate:n}),[$t(t),$t(n)])}function $t(e){return Array.isArray(e)?e.join(` `):e}var O={animation:[`animate`,`variants`,`whileHover`,`whileTap`,`exit`,`whileInView`,`whileFocus`,`whileDrag`],exit:[`exit`],drag:[`drag`,`dragControls`],focus:[`whileFocus`],hover:[`whileHover`,`onHoverStart`,`onHoverEnd`],tap:[`whileTap`,`onTap`,`onTapStart`,`onTapCancel`],pan:[`onPan`,`onPanStart`,`onPanSessionStart`,`onPanEnd`],inView:[`whileInView`,`onViewportEnter`,`onViewportLeave`],layout:[`layout`,`layoutId`]},en={};for(let e in O)en[e]={isEnabled:t=>O[e].some(e=>!!t[e])};function tn(e){for(let t in e)en[t]={...en[t],...e[t]}}var nn=(0,b.createContext)({}),rn=(0,b.createContext)({}),an=Symbol.for(`motionComponentSymbol`);function on({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&tn(e);function a(a,o){let s,c={...(0,b.useContext)(Ft),...a,layoutId:sn(a)},{isStatic:l}=c,u=Qt(a),d=r(a,l);if(!l&&Rt){u.visualElement=Ut(i,d,c,t);let n=(0,b.useContext)(rn),r=(0,b.useContext)(Bt).strict;u.visualElement&&(s=u.visualElement.loadFeatures(c,r,e,n))}return b.createElement(It.Provider,{value:u},s&&u.visualElement?b.createElement(s,{visualElement:u.visualElement,...c}):null,n(i,a,Gt(d,u.visualElement,o),d,l,u.visualElement))}let o=(0,b.forwardRef)(a);return o[an]=i,o}function sn({layoutId:e}){let t=(0,b.useContext)(nn).id;return t&&e!==void 0?t+`-`+e:e}function cn(e){function t(t,n={}){return on(e(t,n))}if(typeof Proxy>`u`)return t;let n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}var ln=[`animate`,`circle`,`defs`,`desc`,`ellipse`,`g`,`image`,`line`,`filter`,`marker`,`mask`,`metadata`,`path`,`pattern`,`polygon`,`polyline`,`rect`,`stop`,`switch`,`symbol`,`svg`,`text`,`tspan`,`use`,`view`];function un(e){return typeof e!=`string`||e.includes(`-`)?!1:!!(ln.indexOf(e)>-1||/[A-Z]/.test(e))}var dn={};function fn(e){Object.assign(dn,e)}var pn=[`transformPerspective`,`x`,`y`,`z`,`translateX`,`translateY`,`translateZ`,`scale`,`scaleX`,`scaleY`,`rotate`,`rotateX`,`rotateY`,`rotateZ`,`skew`,`skewX`,`skewY`],mn=new Set(pn);function hn(e,{layout:t,layoutId:n}){return mn.has(e)||e.startsWith(`origin`)||(t||n!==void 0)&&(!!dn[e]||e===`opacity`)}var gn=e=>!!(e&&e.getVelocity),_n={x:`translateX`,y:`translateY`,z:`translateZ`,transformPerspective:`perspective`},vn=pn.length;function yn(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a=``;for(let t=0;t<vn;t++){let n=pn[t];if(e[n]!==void 0){let t=_n[n]||n;a+=`${t}(${e[n]}) `}}return t&&!e.z&&(a+=`translateZ(0)`),a=a.trim(),i?a=i(e,r?``:a):n&&r&&(a=`none`),a}var bn=e=>t=>typeof t==`string`&&t.startsWith(e),xn=bn(`--`),Sn=bn(`var(--`),Cn=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,wn=(e,t)=>t&&typeof e==`number`?t.transform(e):e,k=(e,t,n)=>Math.min(Math.max(n,e),t),Tn={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},En={...Tn,transform:e=>k(0,1,e)},Dn={...Tn,default:1},On=e=>Math.round(e*1e5)/1e5,kn=/(-)?([\d]*\.?[\d])+/g,An=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,jn=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Mn(e){return typeof e==`string`}var Nn=e=>({test:t=>Mn(t)&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Pn=Nn(`deg`),Fn=Nn(`%`),A=Nn(`px`),In=Nn(`vh`),Ln=Nn(`vw`),Rn={...Fn,parse:e=>Fn.parse(e)/100,transform:e=>Fn.transform(e*100)},zn={...Tn,transform:Math.round},Bn={borderWidth:A,borderTopWidth:A,borderRightWidth:A,borderBottomWidth:A,borderLeftWidth:A,borderRadius:A,radius:A,borderTopLeftRadius:A,borderTopRightRadius:A,borderBottomRightRadius:A,borderBottomLeftRadius:A,width:A,maxWidth:A,height:A,maxHeight:A,size:A,top:A,right:A,bottom:A,left:A,padding:A,paddingTop:A,paddingRight:A,paddingBottom:A,paddingLeft:A,margin:A,marginTop:A,marginRight:A,marginBottom:A,marginLeft:A,rotate:Pn,rotateX:Pn,rotateY:Pn,rotateZ:Pn,scale:Dn,scaleX:Dn,scaleY:Dn,scaleZ:Dn,skew:Pn,skewX:Pn,skewY:Pn,distance:A,translateX:A,translateY:A,translateZ:A,x:A,y:A,z:A,perspective:A,transformPerspective:A,opacity:En,originX:Rn,originY:Rn,originZ:A,zIndex:zn,fillOpacity:En,strokeOpacity:En,numOctaves:zn};function Vn(e,t,n,r){let{style:i,vars:a,transform:o,transformOrigin:s}=e,c=!1,l=!1,u=!0;for(let e in t){let n=t[e];if(xn(e)){a[e]=n;continue}let r=Bn[e],d=wn(n,r);if(mn.has(e)){if(c=!0,o[e]=d,!u)continue;n!==(r.default||0)&&(u=!1)}else e.startsWith(`origin`)?(l=!0,s[e]=d):i[e]=d}if(t.transform||(c||r?i.transform=yn(e.transform,n,u,r):i.transform&&=`none`),l){let{originX:e=`50%`,originY:t=`50%`,originZ:n=0}=s;i.transformOrigin=`${e} ${t} ${n}`}}var Hn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Un(e,t,n){for(let r in t)!gn(t[r])&&!hn(r,n)&&(e[r]=t[r])}function Wn({transformTemplate:e},t,n){return(0,b.useMemo)(()=>{let r=Hn();return Vn(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Gn(e,t,n){let r=e.style||{},i={};return Un(i,r,e),Object.assign(i,Wn(e,t,n)),e.transformValues?e.transformValues(i):i}function Kn(e,t,n){let r={},i=Gn(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout=`none`,i.touchAction=e.drag===!0?`none`:`pan-${e.drag===`x`?`y`:`x`}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}var qn=new Set(`animate.exit.variants.initial.style.values.variants.transition.transformTemplate.transformValues.custom.inherit.onBeforeLayoutMeasure.onAnimationStart.onAnimationComplete.onUpdate.onDragStart.onDrag.onDragEnd.onMeasureDragConstraints.onDirectionLock.onDragTransitionEnd._dragX._dragY.onHoverStart.onHoverEnd.onViewportEnter.onViewportLeave.globalTapTarget.ignoreStrict.viewport`.split(`.`));function Jn(e){return e.startsWith(`while`)||e.startsWith(`drag`)&&e!==`draggable`||e.startsWith(`layout`)||e.startsWith(`onTap`)||e.startsWith(`onPan`)||e.startsWith(`onLayout`)||qn.has(e)}function Yn(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Xn,Zn=o((()=>{Xn=Yn})),Qn=c({default:()=>tr}),$n,er,tr,nr=o((()=>{Zn(),$n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,er=Xn(function(e){return $n.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),tr=er})),rr=e=>!Jn(e);function ir(e){e&&(rr=t=>t.startsWith(`on`)?!Jn(t):e(t))}try{ir((nr(),d(Qn)).default)}catch{}function ar(e,t,n){let r={};for(let i in e){if(i===`values`&&typeof e.values==`object`)continue;(rr(i)||n===!0&&Jn(i)||!t&&!Jn(i)||e.draggable&&i.startsWith(`onDrag`))&&(r[i]=e[i])}return r}function or(e,t,n){return typeof e==`string`?e:A.transform(t+n*e)}function sr(e,t,n){let r=or(t,e.x,e.width),i=or(n,e.y,e.height);return`${r} ${i}`}var cr={offset:`stroke-dashoffset`,array:`stroke-dasharray`},lr={offset:`strokeDashoffset`,array:`strokeDasharray`};function ur(e,t,n=1,r=0,i=!0){e.pathLength=1;let a=i?cr:lr;e[a.offset]=A.transform(-r);let o=A.transform(t),s=A.transform(n);e[a.array]=`${o} ${s}`}function dr(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:s=1,pathOffset:c=0,...l},u,d,f){if(Vn(e,l,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:p,style:m,dimensions:h}=e;p.transform&&(h&&(m.transform=p.transform),delete p.transform),h&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=sr(h,i===void 0?.5:i,a===void 0?.5:a)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&ur(p,o,s,c,!1)}var fr=()=>({...Hn(),attrs:{}}),pr=e=>typeof e==`string`&&e.toLowerCase()===`svg`;function mr(e,t,n,r){let i=(0,b.useMemo)(()=>{let n=fr();return dr(n,t,{enableHardwareAcceleration:!1},pr(r),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};Un(t,e.style,e),i.style={...t,...i.style}}return i}function hr(e=!1){return(t,n,r,{latestValues:i},a)=>{let o=(un(t)?mr:Kn)(n,i,a,t),s={...ar(n,typeof t==`string`,e),...o,ref:r},{children:c}=n,l=(0,b.useMemo)(()=>gn(c)?c.get():c,[c]);return(0,b.createElement)(t,{...s,children:l})}}function gr(e,{style:t,vars:n},r,i){for(let a in Object.assign(e.style,t,i&&i.getProjectionStyles(r)),n)e.style.setProperty(a,n[a])}var _r=new Set([`baseFrequency`,`diffuseConstant`,`kernelMatrix`,`kernelUnitLength`,`keySplines`,`keyTimes`,`limitingConeAngle`,`markerHeight`,`markerWidth`,`numOctaves`,`targetX`,`targetY`,`surfaceScale`,`specularConstant`,`specularExponent`,`stdDeviation`,`tableValues`,`viewBox`,`gradientTransform`,`pathLength`,`startOffset`,`textLength`,`lengthAdjust`]);function vr(e,t,n,r){for(let n in gr(e,t,void 0,r),t.attrs)e.setAttribute(_r.has(n)?n:Vt(n),t.attrs[n])}function yr(e,t){let{style:n}=e,r={};for(let i in n)(gn(n[i])||t.style&&gn(t.style[i])||hn(i,e))&&(r[i]=n[i]);return r}function br(e,t){let n=yr(e,t);for(let r in e)if(gn(e[r])||gn(t[r])){let t=pn.indexOf(r)===-1?r:`attr`+r.charAt(0).toUpperCase()+r.substring(1);n[t]=e[r]}return n}function xr(e,t,n,r={},i={}){return typeof t==`function`&&(t=t(n===void 0?e.custom:n,r,i)),typeof t==`string`&&(t=e.variants&&e.variants[t]),typeof t==`function`&&(t=t(n===void 0?e.custom:n,r,i)),t}function Sr(e){let t=(0,b.useRef)(null);return t.current===null&&(t.current=e()),t.current}var Cr=e=>Array.isArray(e),wr=e=>!!(e&&typeof e==`object`&&e.mix&&e.toValue),Tr=e=>Cr(e)?e[e.length-1]||0:e;function Er(e){let t=gn(e)?e.get():e;return wr(t)?t.toValue():t}function Dr({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){let o={latestValues:kr(r,i,a,e),renderState:t()};return n&&(o.mount=e=>n(r,e,o)),o}var Or=e=>(t,n)=>{let r=(0,b.useContext)(It),i=(0,b.useContext)(Lt),a=()=>Dr(e,t,r,i);return n?a():Sr(a)};function kr(e,t,n,r){let i={},a=r(e,{});for(let e in a)i[e]=Er(a[e]);let{initial:o,animate:s}=e,c=Xt(e),l=D(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let u=n?n.initial===!1:!1;u||=o===!1;let d=u?s:o;return d&&typeof d!=`boolean`&&!qt(d)&&(Array.isArray(d)?d:[d]).forEach(t=>{let n=xr(e,t);if(!n)return;let{transitionEnd:r,transition:a,...o}=n;for(let e in o){let t=o[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}t!==null&&(i[e]=t)}for(let e in r)i[e]=r[e]}),i}var Ar=e=>e,jr=class{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){let t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}};function Mr(e){let t=new jr,n=new jr,r=0,i=!1,a=!1,o=new WeakSet,s={schedule:(e,a=!1,s=!1)=>{let c=s&&i,l=c?t:n;return a&&o.add(e),l.add(e)&&c&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:c=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){let r=t.order[n];r(c),o.has(r)&&(s.schedule(r),e())}i=!1,a&&(a=!1,s.process(c))}};return s}var Nr=[`prepare`,`read`,`update`,`preRender`,`render`,`postRender`],Pr=40;function Fr(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=Nr.reduce((e,t)=>(e[t]=Mr(()=>n=!0),e),{}),o=e=>a[e].process(i),s=()=>{let a=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,Pr),1),i.timestamp=a,i.isProcessing=!0,Nr.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(s))},c=()=>{n=!0,r=!0,i.isProcessing||e(s)};return{schedule:Nr.reduce((e,t)=>{let r=a[t];return e[t]=(e,t=!1,i=!1)=>(n||c(),r.schedule(e,t,i)),e},{}),cancel:e=>Nr.forEach(t=>a[t].cancel(e)),state:i,steps:a}}var{schedule:Ir,cancel:Lr,state:Rr,steps:zr}=Fr(typeof requestAnimationFrame<`u`?requestAnimationFrame:Ar,!0),Br={useVisualState:Or({scrapeMotionValuesFromProps:br,createRenderState:fr,onMount:(e,t,{renderState:n,latestValues:r})=>{Ir.read(()=>{try{n.dimensions=typeof t.getBBox==`function`?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ir.render(()=>{dr(n,r,{enableHardwareAcceleration:!1},pr(t.tagName),e.transformTemplate),vr(t,n)})}})},Vr={useVisualState:Or({scrapeMotionValuesFromProps:yr,createRenderState:Hn})};function Hr(e,{forwardMotionProps:t=!1},n,r){return{...un(e)?Br:Vr,preloadedFeatures:n,useRender:hr(t),createVisualElement:r,Component:e}}function Ur(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}var Wr=e=>e.pointerType===`mouse`?typeof e.button!=`number`||e.button<=0:e.isPrimary!==!1;function Gr(e,t=`page`){return{point:{x:e[t+`X`],y:e[t+`Y`]}}}var Kr=e=>t=>Wr(t)&&e(t,Gr(t));function qr(e,t,n,r){return Ur(e,t,Kr(n),r)}var Jr=(e,t)=>n=>t(e(n)),Yr=(...e)=>e.reduce(Jr);function Xr(e){let t=null;return()=>t===null?(t=e,()=>{t=null}):!1}var Zr=Xr(`dragHorizontal`),Qr=Xr(`dragVertical`);function $r(e){let t=!1;if(e===`y`)t=Qr();else if(e===`x`)t=Zr();else{let e=Zr(),n=Qr();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function ei(){let e=$r(!0);return e?(e(),!1):!0}var ti=class{constructor(e){this.isMounted=!1,this.node=e}update(){}};function ni(e,t){let n=`pointer`+(t?`enter`:`leave`),r=`onHover`+(t?`Start`:`End`);return qr(e.current,n,(n,i)=>{if(n.pointerType===`touch`||ei())return;let a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive(`whileHover`,t),a[r]&&Ir.update(()=>a[r](n,i))},{passive:!e.getProps()[r]})}var ri=class extends ti{mount(){this.unmount=Yr(ni(this.node,!0),ni(this.node,!1))}unmount(){}},ii=class extends ti{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(`:focus-visible`)}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive(`whileFocus`,!1),this.isActive=!1)}mount(){this.unmount=Yr(Ur(this.node.current,`focus`,()=>this.onFocus()),Ur(this.node.current,`blur`,()=>this.onBlur()))}unmount(){}},ai=(e,t)=>t?e===t?!0:ai(e,t.parentElement):!1;function oi(e,t){if(!t)return;let n=new PointerEvent(`pointer`+e);t(n,Gr(n))}var si=class extends ti{constructor(){super(...arguments),this.removeStartListeners=Ar,this.removeEndListeners=Ar,this.removeAccessibleListeners=Ar,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();let n=this.node.getProps(),r=qr(window,`pointerup`,(e,t)=>{if(!this.checkPressEnd())return;let{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();Ir.update(()=>{!i&&!ai(this.node.current,e.target)?r&&r(e,t):n&&n(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),i=qr(window,`pointercancel`,(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Yr(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{let e=Ur(this.node.current,`keydown`,e=>{e.key!==`Enter`||this.isPressing||(this.removeEndListeners(),this.removeEndListeners=Ur(this.node.current,`keyup`,e=>{e.key!==`Enter`||!this.checkPressEnd()||oi(`up`,(e,t)=>{let{onTap:n}=this.node.getProps();n&&Ir.update(()=>n(e,t))})}),oi(`down`,(e,t)=>{this.startPress(e,t)}))}),t=Ur(this.node.current,`blur`,()=>{this.isPressing&&oi(`cancel`,(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=Yr(e,t)}}startPress(e,t){this.isPressing=!0;let{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive(`whileTap`,!0),n&&Ir.update(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive(`whileTap`,!1),!ei()}cancelPress(e,t){if(!this.checkPressEnd())return;let{onTapCancel:n}=this.node.getProps();n&&Ir.update(()=>n(e,t))}mount(){let e=this.node.getProps(),t=qr(e.globalTapTarget?window:this.node.current,`pointerdown`,this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ur(this.node.current,`focus`,this.startAccessiblePress);this.removeStartListeners=Yr(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}},ci=new WeakMap,li=new WeakMap,ui=e=>{let t=ci.get(e.target);t&&t(e)},di=e=>{e.forEach(ui)};function fi({root:e,...t}){let n=e||document;li.has(n)||li.set(n,{});let r=li.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(di,{root:e,...t})),r[i]}function pi(e,t,n){let r=fi(t);return ci.set(e,n),r.observe(e),()=>{ci.delete(e),r.unobserve(e)}}var mi={some:0,all:1},hi=class extends ti{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r=`some`,once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof r==`number`?r:mi[r]};return pi(this.node.current,a,e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive(`whileInView`,t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>`u`)return;let{props:e,prevProps:t}=this.node;[`amount`,`margin`,`root`].some(gi(e,t))&&this.startObserver()}unmount(){}};function gi({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}var _i={inView:{Feature:hi},tap:{Feature:si},focus:{Feature:ii},hover:{Feature:ri}};function vi(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function yi(e){let t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}function bi(e){let t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}function xi(e,t,n){let r=e.getProps();return xr(r,t,n===void 0?r.custom:n,yi(e),bi(e))}var Si=Ar,Ci=Ar,wi=e=>e*1e3,Ti=e=>e/1e3,Ei={current:!1},Di=e=>Array.isArray(e)&&typeof e[0]==`number`;function Oi(e){return!!(!e||typeof e==`string`&&Ai[e]||Di(e)||Array.isArray(e)&&e.every(Oi))}var ki=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ai={linear:`linear`,ease:`ease`,easeIn:`ease-in`,easeOut:`ease-out`,easeInOut:`ease-in-out`,circIn:ki([0,.65,.55,1]),circOut:ki([.55,0,1,.45]),backIn:ki([.31,.01,.66,-.59]),backOut:ki([.33,1.53,.69,.99])};function ji(e){if(e)return Di(e)?ki(e):Array.isArray(e)?e.map(ji):Ai[e]}function Mi(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:o=`loop`,ease:s,times:c}={}){let l={[t]:n};c&&(l.offset=c);let u=ji(s);return Array.isArray(u)&&(l.easing=u),e.animate(l,{delay:r,duration:i,easing:Array.isArray(u)?`linear`:u,fill:`both`,iterations:a+1,direction:o===`reverse`?`alternate`:`normal`})}function Ni(e,{repeat:t,repeatType:n=`loop`}){let r=t&&n!==`loop`&&t%2==1?0:e.length-1;return e[r]}var Pi=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Fi=1e-7,Ii=12;function Li(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=Pi(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>Fi&&++s<Ii);return o}function Ri(e,t,n,r){if(e===t&&n===r)return Ar;let i=t=>Li(t,0,1,e,n);return e=>e===0||e===1?e:Pi(i(e),t,r)}var zi=Ri(.42,0,1,1),Bi=Ri(0,0,.58,1),Vi=Ri(.42,0,.58,1),Hi=e=>Array.isArray(e)&&typeof e[0]!=`number`,Ui=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Wi=e=>t=>1-e(1-t),Gi=e=>1-Math.sin(Math.acos(e)),Ki=Wi(Gi),qi=Ui(Gi),Ji=Ri(.33,1.53,.69,.99),Yi=Wi(Ji),Xi=Ui(Yi),Zi={linear:Ar,easeIn:zi,easeInOut:Vi,easeOut:Bi,circIn:Gi,circInOut:qi,circOut:Ki,backIn:Yi,backInOut:Xi,backOut:Ji,anticipate:e=>(e*=2)<1?.5*Yi(e):.5*(2-2**(-10*(e-1)))},Qi=e=>{if(Array.isArray(e)){Ci(e.length===4,`Cubic bezier arrays must contain four numerical values.`);let[t,n,r,i]=e;return Ri(t,n,r,i)}else if(typeof e==`string`)return Ci(Zi[e]!==void 0,`Invalid easing type '${e}'`),Zi[e];return e},$i=(e,t)=>n=>!!(Mn(n)&&jn.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),ea=(e,t,n)=>r=>{if(!Mn(r))return r;let[i,a,o,s]=r.match(kn);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},ta=e=>k(0,255,e),na={...Tn,transform:e=>Math.round(ta(e))},ra={test:$i(`rgb`,`red`),parse:ea(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+na.transform(e)+`, `+na.transform(t)+`, `+na.transform(n)+`, `+On(En.transform(r))+`)`};function ia(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var aa={test:$i(`#`),parse:ia,transform:ra.transform},oa={test:$i(`hsl`,`hue`),parse:ea(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+Fn.transform(On(t))+`, `+Fn.transform(On(n))+`, `+On(En.transform(r))+`)`},sa={test:e=>ra.test(e)||aa.test(e)||oa.test(e),parse:e=>ra.test(e)?ra.parse(e):oa.test(e)?oa.parse(e):aa.parse(e),transform:e=>Mn(e)?e:e.hasOwnProperty(`red`)?ra.transform(e):oa.transform(e)},ca=(e,t,n)=>-n*e+n*t+e;function la(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ua({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=la(s,r,e+1/3),a=la(s,r,e),o=la(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}var da=(e,t,n)=>{let r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},fa=[aa,ra,oa],pa=e=>fa.find(t=>t.test(e));function ma(e){let t=pa(e);Ci(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===oa&&(n=ua(n)),n}var ha=(e,t)=>{let n=ma(e),r=ma(t),i={...n};return e=>(i.red=da(n.red,r.red,e),i.green=da(n.green,r.green,e),i.blue=da(n.blue,r.blue,e),i.alpha=ca(n.alpha,r.alpha,e),ra.transform(i))};function ga(e){return isNaN(e)&&Mn(e)&&(e.match(kn)?.length||0)+(e.match(An)?.length||0)>0}var _a={regex:Cn,countKey:`Vars`,token:"${v}",parse:Ar},va={regex:An,countKey:`Colors`,token:"${c}",parse:sa.parse},ya={regex:kn,countKey:`Numbers`,token:"${n}",parse:Tn.parse};function ba(e,{regex:t,countKey:n,token:r,parse:i}){let a=e.tokenised.match(t);a&&(e[`num`+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function xa(e){let t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes(`var(--`)&&ba(n,_a),ba(n,va),ba(n,ya),n}function Sa(e){return xa(e).values}function Ca(e){let{values:t,numColors:n,numVars:r,tokenised:i}=xa(e),a=t.length;return e=>{let t=i;for(let i=0;i<a;i++)t=i<r?t.replace(_a.token,e[i]):i<r+n?t.replace(va.token,sa.transform(e[i])):t.replace(ya.token,On(e[i]));return t}}var wa=e=>typeof e==`number`?0:e;function Ta(e){let t=Sa(e);return Ca(e)(t.map(wa))}var Ea={test:ga,parse:Sa,createTransformer:Ca,getAnimatableNone:Ta},Da=(e,t)=>n=>`${n>0?t:e}`;function Oa(e,t){return typeof e==`number`?n=>ca(e,t,n):sa.test(e)?ha(e,t):e.startsWith(`var(`)?Da(e,t):ja(e,t)}var ka=(e,t)=>{let n=[...e],r=n.length,i=e.map((e,n)=>Oa(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},Aa=(e,t)=>{let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Oa(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}},ja=(e,t)=>{let n=Ea.createTransformer(t),r=xa(e),i=xa(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Yr(ka(r.values,i.values),n):(Si(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Da(e,t))},Ma=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r},Na=(e,t)=>n=>ca(e,t,n);function Pa(e){return typeof e==`number`?Na:typeof e==`string`?sa.test(e)?ha:ja:Array.isArray(e)?ka:typeof e==`object`?Aa:Na}function Fa(e,t,n){let r=[],i=n||Pa(e[0]),a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);if(t){let e=Array.isArray(t)?t[n]||Ar:t;a=Yr(e,a)}r.push(a)}return r}function Ia(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(Ci(a===t.length,`Both input and output ranges must be the same length`),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=Fa(t,r,i),s=o.length,c=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);let r=Ma(e[n],e[n+1],t);return o[n](r)};return n?t=>c(k(e[0],e[a-1],t)):c}function La(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=Ma(0,t,r);e.push(ca(n,1,i))}}function Ra(e){let t=[0];return La(t,e.length-1),t}function za(e,t){return e.map(e=>e*t)}function Ba(e,t){return e.map(()=>t||Vi).splice(0,e.length-1)}function Va({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=Hi(r)?r.map(Qi):Qi(r),a={done:!1,value:t[0]},o=za(n&&n.length===t.length?n:Ra(t),e),s=Ia(o,t,{ease:Array.isArray(i)?i:Ba(t,i)});return{calculatedDuration:e,next:t=>(a.value=s(t),a.done=t>=e,a)}}function Ha(e,t){return t?e*(1e3/t):0}var Ua=5;function Wa(e,t,n){let r=Math.max(t-Ua,0);return Ha(n-e(r),t-r)}var Ga=.001,Ka=.01,qa=.05;function Ja({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;Si(e<=wi(10),`Spring duration must be 10 seconds or less`);let o=1-t;o=k(qa,1,o),e=k(Ka,10,Ti(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=Za(t,o),c=Math.exp(-i);return Ga-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=Za(t**2,o);return(-i(t)+Ga>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-Ga+r*i},a=t=>{let r=Math.exp(-t*e),i=(n-t)*(e*e);return r*i});let s=5/e,c=Xa(i,a,s);if(e=wi(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{let t=c**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var Ya=12;function Xa(e,t,n){let r=n;for(let n=1;n<Ya;n++)r-=e(r)/t(r);return r}function Za(e,t){return e*Math.sqrt(1-t*t)}var Qa=[`duration`,`bounce`],$a=[`stiffness`,`damping`,`mass`];function eo(e,t){return t.some(t=>e[t]!==void 0)}function to(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!eo(e,$a)&&eo(e,Qa)){let n=Ja(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function no({keyframes:e,restDelta:t,restSpeed:n,...r}){let i=e[0],a=e[e.length-1],o={done:!1,value:i},{stiffness:s,damping:c,mass:l,duration:u,velocity:d,isResolvedFromDuration:f}=to({...r,velocity:-Ti(r.velocity||0)}),p=d||0,m=c/(2*Math.sqrt(s*l)),h=a-i,g=Ti(Math.sqrt(s/l)),_=Math.abs(h)<5;n||=_?.01:2,t||=_?.005:.5;let v;if(m<1){let e=Za(g,m);v=t=>{let n=Math.exp(-m*g*t);return a-n*((p+m*g*h)/e*Math.sin(e*t)+h*Math.cos(e*t))}}else if(m===1)v=e=>a-Math.exp(-g*e)*(h+(p+g*h)*e);else{let e=g*Math.sqrt(m*m-1);v=t=>{let n=Math.exp(-m*g*t),r=Math.min(e*t,300);return a-n*((p+m*g*h)*Math.sinh(r)+e*h*Math.cosh(r))/e}}return{calculatedDuration:f&&u||null,next:e=>{let r=v(e);if(f)o.done=e>=u;else{let i=p;e!==0&&(i=m<1?Wa(v,e,r):0);let s=Math.abs(i)<=n,c=Math.abs(a-r)<=t;o.done=s&&c}return o.value=o.done?a:r,o}}}function ro({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=no({keyframes:[f.value,m(f.value)],velocity:Wa(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>x?S.next(e-x):(!t&&b(e),f)}}}var io=e=>{let t=({timestamp:t})=>e(t);return{start:()=>Ir.update(t,!0),stop:()=>Lr(t),now:()=>Rr.isProcessing?Rr.timestamp:performance.now()}};function ao(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}var oo={decay:ro,inertia:ro,tween:Va,keyframes:Va,spring:no};function so({autoplay:e=!0,delay:t=0,driver:n=io,keyframes:r,type:i=`keyframes`,repeat:a=0,repeatDelay:o=0,repeatType:s=`loop`,onPlay:c,onStop:l,onComplete:u,onUpdate:d,...f}){let p=1,m=!1,h,g,_=()=>{g=new Promise(e=>{h=e})};_();let v,y=oo[i]||Va,b;y!==Va&&typeof r[0]!=`number`&&(b=Ia([0,100],r,{clamp:!1}),r=[0,100]);let x=y({...f,keyframes:r}),S;s===`mirror`&&(S=y({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let C=`idle`,ee=null,w=null,te=null;x.calculatedDuration===null&&a&&(x.calculatedDuration=ao(x));let{calculatedDuration:ne}=x,re=1/0,ie=1/0;ne!==null&&(re=ne+o,ie=re*(a+1)-o);let ae=0,oe=e=>{if(w===null)return;p>0&&(w=Math.min(w,e)),p<0&&(w=Math.min(e-ie/p,w)),ae=ee===null?Math.round(e-w)*p:ee;let n=ae-t*(p>=0?1:-1),i=p>=0?n<0:n>ie;ae=Math.max(n,0),C===`finished`&&ee===null&&(ae=ie);let c=ae,l=x;if(a){let e=Math.min(ae,ie)/re,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,a+1),t%2&&(s===`reverse`?(n=1-n,o&&(n-=o/re)):s===`mirror`&&(l=S)),c=k(0,1,n)*re}let u=i?{done:!1,value:r[0]}:l.next(c);b&&(u.value=b(u.value));let{done:f}=u;!i&&ne!==null&&(f=p>=0?ae>=ie:ae<=0);let m=ee===null&&(C===`finished`||C===`running`&&f);return d&&d(u.value),m&&le(),u},se=()=>{v&&v.stop(),v=void 0},ce=()=>{C=`idle`,se(),h(),_(),w=te=null},le=()=>{C=`finished`,u&&u(),se(),h()},ue=()=>{if(m)return;v||=n(oe);let e=v.now();c&&c(),ee===null?(!w||C===`finished`)&&(w=e):w=e-ee,C===`finished`&&_(),te=w,ee=null,C=`running`,v.start()};e&&ue();let de={then(e,t){return g.then(e,t)},get time(){return Ti(ae)},set time(e){e=wi(e),ae=e,ee!==null||!v||p===0?ee=e:w=v.now()-e/p},get duration(){let e=x.calculatedDuration===null?ao(x):x.calculatedDuration;return Ti(e)},get speed(){return p},set speed(e){e===p||!v||(p=e,de.time=Ti(ae))},get state(){return C},play:ue,pause:()=>{C=`paused`,ee=ae},stop:()=>{m=!0,C!==`idle`&&(C=`idle`,l&&l(),ce())},cancel:()=>{te!==null&&oe(te),ce()},complete:()=>{C=`finished`},sample:e=>(w=0,oe(e))};return de}function co(e){let t;return()=>(t===void 0&&(t=e()),t)}var lo=co(()=>Object.hasOwnProperty.call(Element.prototype,`animate`)),uo=new Set([`opacity`,`clipPath`,`filter`,`transform`,`backgroundColor`]),fo=10,po=2e4,mo=(e,t)=>t.type===`spring`||e===`backgroundColor`||!Oi(t.ease);function ho(e,t,{onUpdate:n,onComplete:r,...i}){if(!(lo()&&uo.has(t)&&!i.repeatDelay&&i.repeatType!==`mirror`&&i.damping!==0&&i.type!==`inertia`))return!1;let a=!1,o,s,c=!1,l=()=>{s=new Promise(e=>{o=e})};l();let{keyframes:u,duration:d=300,ease:f,times:p}=i;if(mo(t,i)){let e=so({...i,repeat:0,delay:0}),t={done:!1,value:u[0]},n=[],r=0;for(;!t.done&&r<po;)t=e.sample(r),n.push(t.value),r+=fo;p=void 0,u=n,d=r-fo,f=`linear`}let m=Mi(e.owner.current,t,u,{...i,duration:d,ease:f,times:p}),h=()=>{c=!1,m.cancel()},g=()=>{c=!0,Ir.update(h),o(),l()};return m.onfinish=()=>{c||(e.set(Ni(u,i)),r&&r(),g())},{then(e,t){return s.then(e,t)},attachTimeline(e){return m.timeline=e,m.onfinish=null,Ar},get time(){return Ti(m.currentTime||0)},set time(e){m.currentTime=wi(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return Ti(d)},play:()=>{a||(m.play(),Lr(h))},pause:()=>m.pause(),stop:()=>{if(a=!0,m.playState===`idle`)return;let{currentTime:t}=m;if(t){let n=so({...i,autoplay:!1});e.setWithVelocity(n.sample(t-fo).value,n.sample(t).value,fo)}g()},complete:()=>{c||m.finish()},cancel:g}}function go({keyframes:e,delay:t,onUpdate:n,onComplete:r}){let i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ar,pause:Ar,stop:Ar,then:e=>(e(),Promise.resolve()),cancel:Ar,complete:Ar});return t?so({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}var _o={type:`spring`,stiffness:500,damping:25,restSpeed:10},vo=e=>({type:`spring`,stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yo={type:`keyframes`,duration:.8},bo={type:`keyframes`,ease:[.25,.1,.35,1],duration:.3},xo=(e,{keyframes:t})=>t.length>2?yo:mn.has(e)?e.startsWith(`scale`)?vo(t[1]):_o:bo,So=(e,t)=>e===`zIndex`?!1:!!(typeof t==`number`||Array.isArray(t)||typeof t==`string`&&(Ea.test(t)||t===`0`)&&!t.startsWith(`url(`)),Co=new Set([`brightness`,`contrast`,`saturate`,`opacity`]);function wo(e){let[t,n]=e.slice(0,-1).split(`(`);if(t===`drop-shadow`)return e;let[r]=n.match(kn)||[];if(!r)return e;let i=n.replace(r,``),a=Co.has(t)?1:0;return r!==n&&(a*=100),t+`(`+a+i+`)`}var To=/([a-z-]*)\(.*?\)/g,Eo={...Ea,getAnimatableNone:e=>{let t=e.match(To);return t?t.map(wo).join(` `):e}},Do={...Bn,color:sa,backgroundColor:sa,outlineColor:sa,fill:sa,stroke:sa,borderColor:sa,borderTopColor:sa,borderRightColor:sa,borderBottomColor:sa,borderLeftColor:sa,filter:Eo,WebkitFilter:Eo},Oo=e=>Do[e];function ko(e,t){let n=Oo(e);return n!==Eo&&(n=Ea),n.getAnimatableNone?n.getAnimatableNone(t):void 0}var Ao=e=>/^0[^.\s]+$/.test(e);function jo(e){if(typeof e==`number`)return e===0;if(e!==null)return e===`none`||e===`0`||Ao(e)}function Mo(e,t,n,r){let i=So(t,n),a;a=Array.isArray(n)?[...n]:[null,n];let o=r.from===void 0?e.get():r.from,s,c=[];for(let e=0;e<a.length;e++)a[e]===null&&(a[e]=e===0?o:a[e-1]),jo(a[e])&&c.push(e),typeof a[e]==`string`&&a[e]!==`none`&&a[e]!==`0`&&(s=a[e]);if(i&&c.length&&s)for(let e=0;e<c.length;e++){let n=c[e];a[n]=ko(t,s)}return a}function No({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:c,elapsed:l,...u}){return!!Object.keys(u).length}function Po(e,t){return e[t]||e.default||e}var Fo={skipAnimations:!1},Io=(e,t,n,r={})=>i=>{let a=Po(r,e)||{},o=a.delay||r.delay||0,{elapsed:s=0}=r;s-=wi(o);let c=Mo(t,e,n,a),l=c[0],u=c[c.length-1],d=So(e,l),f=So(e,u);Si(d===f,`You are trying to animate ${e} from "${l}" to "${u}". ${l} is not an animatable value - to enable this animation set ${l} to a value animatable to ${u} via the \`style\` property.`);let p={keyframes:c,velocity:t.getVelocity(),ease:`easeOut`,...a,delay:-s,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(No(a)||(p={...p,...xo(e,p)}),p.duration&&=wi(p.duration),p.repeatDelay&&=wi(p.repeatDelay),!d||!f||Ei.current||a.type===!1||Fo.skipAnimations)return go(Ei.current?{...p,delay:0}:p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){let n=ho(t,e,p);if(n)return n}return so(p)};function Lo(e){return!!(gn(e)&&e.add)}var Ro=e=>/^\-?\d*\.?\d+$/.test(e);function zo(e,t){e.indexOf(t)===-1&&e.push(t)}function Bo(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Vo=class{constructor(){this.subscriptions=[]}add(e){return zo(this.subscriptions,e),()=>Bo(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},Ho=e=>!isNaN(parseFloat(e)),Uo={current:void 0},Wo=class{constructor(e,t={}){this.version=`10.18.0`,this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;let{delta:n,timestamp:r}=Rr;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,Ir.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ir.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Ho(this.current),this.owner=t.owner}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new Vo);let n=this.events[e].add(t);return e===`change`?()=>{n(),Ir.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Uo.current&&Uo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ha(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Go(e,t){return new Wo(e,t)}var Ko=e=>t=>t.test(e),qo=[Tn,A,Fn,Pn,Ln,In,{test:e=>e===`auto`,parse:e=>e}],Jo=e=>qo.find(Ko(e)),Yo=[...qo,sa,Ea],Xo=e=>Yo.find(Ko(e));function Zo(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Go(n))}function Qo(e,t){let n=xi(e,t),{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};for(let t in a={...a,...r},a){let n=Tr(a[t]);Zo(e,t,n)}}function $o(e,t,n){let r=Object.keys(t).filter(t=>!e.hasValue(t)),i=r.length;if(i)for(let a=0;a<i;a++){let i=r[a],o=t[i],s=null;Array.isArray(o)&&(s=o[0]),s===null&&(s=n[i]??e.readValue(i)??t[i]),s!=null&&(typeof s==`string`&&(Ro(s)||Ao(s))?s=parseFloat(s):!Xo(s)&&Ea.test(o)&&(s=ko(i,o)),e.addValue(i,Go(s,{owner:e})),n[i]===void 0&&(n[i]=s),s!==null&&e.setBaseTarget(i,s))}}function es(e,t){if(t)return(t[e]||t.default||t).from}function ts(e,t,n){let r={};for(let i in e){let e=es(i,t);if(e!==void 0)r[i]=e;else{let e=n.getValue(i);e&&(r[i]=e.get())}}return r}function ns({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function rs(e,t){let n=e.get();if(Array.isArray(t)){for(let e=0;e<t.length;e++)if(t[e]!==n)return!0}else return n!==t}function os(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t),c=e.getValue(`willChange`);r&&(a=r);let l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(let t in s){let r=e.getValue(t),i=s[t];if(!r||i===void 0||u&&ns(u,t))continue;let o={delay:n,elapsed:0,...Po(a||{},t)};if(window.HandoffAppearAnimations){let n=e.getProps()[Ht];if(n){let e=window.HandoffAppearAnimations(n,t,r,Ir);e!==null&&(o.elapsed=e,o.isHandoff=!0)}}let d=!o.isHandoff&&!rs(r,i);if(o.type===`spring`&&(r.getVelocity()||o.velocity)&&(d=!1),r.animation&&(d=!1),d)continue;r.start(Io(t,r,i,e.shouldReduceMotion&&mn.has(t)?{type:!1}:o));let f=r.animation;Lo(c)&&(c.add(t),f.then(()=>c.remove(t))),l.push(f)}return o&&Promise.all(l).then(()=>{o&&Qo(e,o)}),l}function ss(e,t,n={}){let r=xi(e,t,n.custom),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let a=r?()=>Promise.all(os(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return cs(e,t,a+r,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){let[e,t]=s===`beforeChildren`?[a,o]:[o,a];return e().then(()=>t())}else return Promise.all([a(),o(n.delay)])}function cs(e,t,n=0,r=0,i=1,a){let o=[],s=(e.variantChildren.size-1)*r,c=i===1?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(ls).forEach((e,r)=>{e.notify(`AnimationStart`,t),o.push(ss(e,t,{...a,delay:n+c(r)}).then(()=>e.notify(`AnimationComplete`,t)))}),Promise.all(o)}function ls(e,t){return e.sortNodePosition(t)}function us(e,t,n={}){e.notify(`AnimationStart`,t);let r;if(Array.isArray(t)){let i=t.map(t=>ss(e,t,n));r=Promise.all(i)}else if(typeof t==`string`)r=ss(e,t,n);else{let i=typeof t==`function`?xi(e,t,n.custom):t;r=Promise.all(os(e,i,n))}return r.then(()=>e.notify(`AnimationComplete`,t))}var ds=[...Jt].reverse(),fs=Jt.length;function ps(e){return t=>Promise.all(t.map(({animation:t,options:n})=>us(e,t,n)))}function ms(e){let t=ps(e),n=_s(),r=!0,i=(t,n)=>{let r=xi(e,n);if(r){let{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function a(n){t=n(e)}function o(a,o){let s=e.getProps(),c=e.getVariantContext(!0)||{},l=[],u=new Set,d={},f=1/0;for(let t=0;t<fs;t++){let p=ds[t],m=n[p],h=s[p]===void 0?c[p]:s[p],g=Kt(h),_=p===o?m.isActive:null;_===!1&&(f=t);let v=h===c[p]&&h!==s[p]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),m.protectedKeys={...d},!m.isActive&&_===null||!h&&!m.prevProp||qt(h)||typeof h==`boolean`)continue;let y=hs(m.prevProp,h)||p===o&&m.isActive&&!v&&g||t>f&&g,b=!1,x=Array.isArray(h)?h:[h],S=x.reduce(i,{});_===!1&&(S={});let{prevResolvedValues:C={}}=m,ee={...C,...S},w=e=>{y=!0,u.has(e)&&(b=!0,u.delete(e)),m.needsAnimating[e]=!0};for(let e in ee){let t=S[e],n=C[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Cr(t)&&Cr(n)?!vi(t,n):t!==n,r?t===void 0?u.add(e):w(e):t!==void 0&&u.has(e)?w(e):m.protectedKeys[e]=!0}m.prevProp=h,m.prevResolvedValues=S,m.isActive&&(d={...d,...S}),r&&e.blockInitialAnimation&&(y=!1),y&&(!v||b)&&l.push(...x.map(e=>({animation:e,options:{type:p,...a}})))}if(u.size){let t={};u.forEach(n=>{let r=e.getBaseTarget(n);r!==void 0&&(t[n]=r)}),l.push({animation:t})}let p=!!l.length;return r&&(s.initial===!1||s.initial===s.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(l):Promise.resolve()}function s(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();(a=e.variantChildren)==null||a.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;let s=o(i,t);for(let e in n)n[e].protectedKeys={};return s}return{animateChanges:o,setActive:s,setAnimateFunction:a,getState:()=>n}}function hs(e,t){return typeof t==`string`?t!==e:Array.isArray(t)?!vi(t,e):!1}function gs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _s(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}var vs=class extends ti{constructor(e){super(e),e.animationState||=ms(e)}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();this.unmount(),qt(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}},ys=0,bs={animation:{Feature:vs},exit:{Feature:class extends ti{constructor(){super(...arguments),this.id=ys++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let i=this.node.animationState.setActive(`exit`,!e,{custom:n??this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},xs=(e,t)=>Math.abs(e-t);function Ss(e,t){let n=xs(e.x,t.x),r=xs(e.y,t.y);return Math.sqrt(n**2+r**2)}var Cs=class{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=Es(this.lastMoveEventInfo,this.history),t=this.startEvent!==null,n=Ss(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=Rr;this.history.push({...r,timestamp:i});let{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ws(t,this.transformPagePoint),Ir.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=Es(e.type===`pointercancel`?this.lastMoveEventInfo:ws(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!Wr(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;let a=Gr(e),o=ws(a,this.transformPagePoint),{point:s}=o,{timestamp:c}=Rr;this.history=[{...s,timestamp:c}];let{onSessionStart:l}=t;l&&l(e,Es(o,this.history)),this.removeListeners=Yr(qr(this.contextWindow,`pointermove`,this.handlePointerMove),qr(this.contextWindow,`pointerup`,this.handlePointerUp),qr(this.contextWindow,`pointercancel`,this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lr(this.updatePoint)}};function ws(e,t){return t?{point:t(e.point)}:e}function Ts(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Es({point:e},t){return{point:e,delta:Ts(e,Os(t)),offset:Ts(e,Ds(t)),velocity:ks(t,.1)}}function Ds(e){return e[0]}function Os(e){return e[e.length-1]}function ks(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=Os(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>wi(t)));)n--;if(!r)return{x:0,y:0};let a=Ti(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};let o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function As(e){return e.max-e.min}function js(e,t=0,n=.01){return Math.abs(e-t)<=n}function Ms(e,t,n,r=.5){e.origin=r,e.originPoint=ca(t.min,t.max,e.origin),e.scale=As(n)/As(t),(js(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ca(n.min,n.max,e.origin)-e.originPoint,(js(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ns(e,t,n,r){Ms(e.x,t.x,n.x,r?r.originX:void 0),Ms(e.y,t.y,n.y,r?r.originY:void 0)}function Ps(e,t,n){e.min=n.min+t.min,e.max=e.min+As(t)}function Fs(e,t,n){Ps(e.x,t.x,n.x),Ps(e.y,t.y,n.y)}function Is(e,t,n){e.min=t.min-n.min,e.max=e.min+As(t)}function Ls(e,t,n){Is(e.x,t.x,n.x),Is(e.y,t.y,n.y)}function Rs(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ca(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ca(n,e,r.max):Math.min(e,n)),e}function zs(e,t,n){return{min:t===void 0?void 0:e.min+t,max:n===void 0?void 0:e.max+n-(e.max-e.min)}}function Bs(e,{top:t,left:n,bottom:r,right:i}){return{x:zs(e.x,n,i),y:zs(e.y,t,r)}}function Vs(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Hs(e,t){return{x:Vs(e.x,t.x),y:Vs(e.y,t.y)}}function Us(e,t){let n=.5,r=As(e),i=As(t);return i>r?n=Ma(t.min,t.max-r,e.min):r>i&&(n=Ma(e.min,e.max-i,t.min)),k(0,1,n)}function Ws(e,t){let n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}var Gs=.35;function Ks(e=Gs){return e===!1?e=0:e===!0&&(e=Gs),{x:qs(e,`left`,`right`),y:qs(e,`top`,`bottom`)}}function qs(e,t,n){return{min:Js(e,t),max:Js(e,n)}}function Js(e,t){return typeof e==`number`?e:e[t]||0}var Ys=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xs=()=>({x:Ys(),y:Ys()}),Zs=()=>({min:0,max:0}),Qs=()=>({x:Zs(),y:Zs()});function $s(e){return[e(`x`),e(`y`)]}function ec({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function tc({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function nc(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rc(e){return e===void 0||e===1}function ic({scale:e,scaleX:t,scaleY:n}){return!rc(e)||!rc(t)||!rc(n)}function ac(e){return ic(e)||oc(e)||e.z||e.rotate||e.rotateX||e.rotateY}function oc(e){return sc(e.x)||sc(e.y)}function sc(e){return e&&e!==`0%`}function cc(e,t,n){let r=e-n,i=t*r;return n+i}function lc(e,t,n,r,i){return i!==void 0&&(e=cc(e,i,r)),cc(e,n,r)+t}function uc(e,t=0,n=1,r,i){e.min=lc(e.min,t,n,r,i),e.max=lc(e.max,t,n,r,i)}function dc(e,{x:t,y:n}){uc(e.x,t.translate,t.scale,t.originPoint),uc(e.y,n.translate,n.scale,n.originPoint)}function fc(e,t,n,r=!1){let i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;let i=a.instance;i&&i.style&&i.style.display===`contents`||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vc(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,dc(e,o)),r&&ac(a.latestValues)&&vc(e,a.latestValues))}t.x=pc(t.x),t.y=pc(t.y)}function pc(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function mc(e,t){e.min+=t,e.max+=t}function hc(e,t,[n,r,i]){let a=t[i]===void 0?.5:t[i],o=ca(e.min,e.max,a);uc(e,t[n],t[r],o,t.scale)}var gc=[`x`,`scaleX`,`originX`],_c=[`y`,`scaleY`,`originY`];function vc(e,t){hc(e.x,t,gc),hc(e.y,t,_c)}function yc(e,t){return ec(nc(e.getBoundingClientRect(),t))}function bc(e,t,n){let r=yc(e,n),{scroll:i}=t;return i&&(mc(r.x,i.offset.x),mc(r.y,i.offset.y)),r}var xc=({current:e})=>e?e.ownerDocument.defaultView:null,Sc=new WeakMap,Cc=class{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qs(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;let r=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Gr(e,`page`).point)},i=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$r(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$s(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Fn.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];r&&(t=As(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&Ir.update(()=>i(e,t),!1,!0);let{animationState:a}=this.visualElement;a&&a.setActive(`whileDrag`,!0)},a=(e,t)=>{let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openGlobalLock)return;let{offset:o}=t;if(r&&this.currentDirection===null){this.currentDirection=Tc(o),this.currentDirection!==null&&i&&i(this.currentDirection);return}this.updateAxis(`x`,t.point,o),this.updateAxis(`y`,t.point,o),this.visualElement.render(),a&&a(e,t)},o=(e,t)=>this.stop(e,t),s=()=>$s(e=>this.getAnimationState(e)===`paused`&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Cs(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:s},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:xc(this.visualElement)})}stop(e,t){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:r}=t;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&Ir.update(()=>i(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive(`whileDrag`,!1)}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!wc(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Rs(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Wt(e)?this.constraints||=this.resolveRefConstraints():e&&n?this.constraints=Bs(n.layoutBox,e):this.constraints=!1,this.elastic=Ks(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&$s(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=Ws(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wt(e))return!1;let n=e.current;Ci(n!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let i=bc(n,r.root,this.visualElement.getTransformPagePoint()),a=Hs(r.layout.layoutBox,i);if(t){let e=t(tc(a));this.hasMutatedConstraints=!!e,e&&(a=ec(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},c=$s(o=>{if(!wc(o,t,this.currentDirection))return;let c=s&&s[o]||{};a&&(c={min:0,max:0});let l=r?200:1e6,u=r?40:1e7,d={type:`inertia`,velocity:n?e[o]:0,bounceStiffness:l,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...c};return this.startAxisValueAnimation(o,d)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return n.start(Io(e,n,0,t))}stopAnimation(){$s(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$s(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag`+e.toUpperCase(),n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){$s(t=>{let{drag:n}=this.getProps();if(!wc(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-ca(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Wt(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};$s(e=>{let t=this.getAxisMotionValue(e);if(t){let n=t.get();r[e]=Us({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},``):`none`,n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),$s(t=>{if(!wc(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(ca(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;Sc.set(this.visualElement,this);let e=this.visualElement.current,t=qr(e,`pointerdown`,e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),n=()=>{let{dragConstraints:e}=this.getProps();Wt(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener(`measure`,n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();let a=Ur(window,`resize`,()=>this.scalePositionWithinConstraints()),o=r.addEventListener(`didUpdate`,(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&($s(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())}));return()=>{a(),t(),i(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Gs,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}};function wc(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Tc(e,t=10){let n=null;return Math.abs(e.y)>t?n=`y`:Math.abs(e.x)>t&&(n=`x`),n}var Ec=class extends ti{constructor(e){super(e),this.removeGroupControls=Ar,this.removeListeners=Ar,this.controls=new Cc(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ar}unmount(){this.removeGroupControls(),this.removeListeners()}},Dc=e=>(t,n)=>{e&&Ir.update(()=>e(t,n))},Oc=class extends ti{constructor(){super(...arguments),this.removePointerDownListener=Ar}onPointerDown(e){this.session=new Cs(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xc(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Dc(e),onStart:Dc(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ir.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=qr(this.node.current,`pointerdown`,e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};function kc(){let e=(0,b.useContext)(Lt);if(e===null)return[!0,null];let{isPresent:t,onExitComplete:n,register:r}=e,i=(0,b.useId)();return(0,b.useEffect)(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}var Ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Mc={correct:(e,t)=>{if(!t.target)return e;if(typeof e==`string`)if(A.test(e))e=parseFloat(e);else return e;let n=jc(e,t.target.x),r=jc(e,t.target.y);return`${n}% ${r}%`}},Nc={correct:(e,{treeScale:t,projectionDelta:n})=>{let r=e,i=Ea.parse(e);if(i.length>5)return r;let a=Ea.createTransformer(e),o=typeof i[0]==`number`?0:1,s=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=c;let l=ca(s,c,.5);return typeof i[2+o]==`number`&&(i[2+o]/=l),typeof i[3+o]==`number`&&(i[3+o]/=l),a(i)}},Pc=class extends b.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;fn(Ic),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener(`animationComplete`,()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,a=n.projection;return a?(a.isPresent=i,r||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Ir.postRender(()=>{let e=a.getStack();(!e||!e.members.length)&&this.safeToRemove()})),null):null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}};function Fc(e){let[t,n]=kc(),r=(0,b.useContext)(nn);return b.createElement(Pc,{...e,layoutGroup:r,switchLayoutGroup:(0,b.useContext)(rn),isPresent:t,safeToRemove:n})}var Ic={borderRadius:{...Mc,applyTo:[`borderTopLeftRadius`,`borderTopRightRadius`,`borderBottomLeftRadius`,`borderBottomRightRadius`]},borderTopLeftRadius:Mc,borderTopRightRadius:Mc,borderBottomLeftRadius:Mc,borderBottomRightRadius:Mc,boxShadow:Nc},Lc=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`],Rc=Lc.length,zc=e=>typeof e==`string`?parseFloat(e):e,Bc=e=>typeof e==`number`||A.test(e);function Vc(e,t,n,r,i,a){i?(e.opacity=ca(0,n.opacity===void 0?1:n.opacity,Uc(r)),e.opacityExit=ca(t.opacity===void 0?1:t.opacity,0,Wc(r))):a&&(e.opacity=ca(t.opacity===void 0?1:t.opacity,n.opacity===void 0?1:n.opacity,r));for(let i=0;i<Rc;i++){let a=`border${Lc[i]}Radius`,o=Hc(t,a),s=Hc(n,a);o===void 0&&s===void 0||(o||=0,s||=0,o===0||s===0||Bc(o)===Bc(s)?(e[a]=Math.max(ca(zc(o),zc(s),r),0),(Fn.test(s)||Fn.test(o))&&(e[a]+=`%`)):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=ca(t.rotate||0,n.rotate||0,r))}function Hc(e,t){return e[t]===void 0?e.borderRadius:e[t]}var Uc=Gc(0,.5,Ki),Wc=Gc(.5,.95,Ar);function Gc(e,t,n){return r=>r<e?0:r>t?1:n(Ma(e,t,r))}function Kc(e,t){e.min=t.min,e.max=t.max}function j(e,t){Kc(e.x,t.x),Kc(e.y,t.y)}function qc(e,t,n,r,i){return e-=t,e=cc(e,1/n,r),i!==void 0&&(e=cc(e,1/i,r)),e}function Jc(e,t=0,n=1,r=.5,i,a=e,o=e){if(Fn.test(t)&&(t=parseFloat(t),t=ca(o.min,o.max,t/100)-o.min),typeof t!=`number`)return;let s=ca(a.min,a.max,r);e===a&&(s-=t),e.min=qc(e.min,t,n,s,i),e.max=qc(e.max,t,n,s,i)}function Yc(e,t,[n,r,i],a,o){Jc(e,t[n],t[r],t[i],t.scale,a,o)}var Xc=[`x`,`scaleX`,`originX`],Zc=[`y`,`scaleY`,`originY`];function Qc(e,t,n,r){Yc(e.x,t,Xc,n?n.x:void 0,r?r.x:void 0),Yc(e.y,t,Zc,n?n.y:void 0,r?r.y:void 0)}function $c(e){return e.translate===0&&e.scale===1}function el(e){return $c(e.x)&&$c(e.y)}function tl(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function nl(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function rl(e){return As(e.x)/As(e.y)}var il=class{constructor(){this.members=[]}add(e){zo(this.members,e),e.scheduleRender()}remove(e){if(Bo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t=this.members.findIndex(t=>e===t);if(t===0)return!1;let n;for(let e=t;e>=0;e--){let t=this.members[e];if(t.isPresent!==!1){n=t;break}}return n?(this.promote(n),!0):!1}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function al(e,t,n){let r=``,i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}let o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||`none`}var ol=(e,t)=>e.depth-t.depth,sl=class{constructor(){this.children=[],this.isDirty=!1}add(e){zo(this.children,e),this.isDirty=!0}remove(e){Bo(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ol),this.isDirty=!1,this.children.forEach(e)}};function cl(e,t){let n=performance.now(),r=({timestamp:i})=>{let a=i-n;a>=t&&(Lr(r),e(a-t))};return Ir.read(r,!0),()=>Lr(r)}function ll(e){window.MotionDebug&&window.MotionDebug.record(e)}function ul(e){return e instanceof SVGElement&&e.tagName!==`svg`}function dl(e,t,n){let r=gn(e)?e:Go(e);return r.start(Io(``,r,t,n)),r.animation}var fl=[``,`X`,`Y`,`Z`],pl={visibility:`hidden`},ml=1e3,hl=0,gl={type:`projectionFrame`,totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _l({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=hl++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gl.totalNodes=gl.resolvedTargetDeltas=gl.recalculatedProjection=0,this.nodes.forEach(bl),this.nodes.forEach(El),this.nodes.forEach(Dl),this.nodes.forEach(xl),ll(gl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new sl)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Vo),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ul(t),this.instance=t;let{layoutId:r,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),e){let n,r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=cl(r,250),Ac.hasAnimatedSinceResize&&(Ac.hasAnimatedSinceResize=!1,this.nodes.forEach(Tl))})}r&&this.root.registerSharedNode(r,this),this.options.animate!==!1&&a&&(r||i)&&this.addEventListener(`didUpdate`,({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||a.getDefaultTransition()||Pl,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=a.getProps(),c=!this.targetLayout||!nl(this.targetLayout,r)||n,l=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||l||t&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,l);let t={...Po(i,`layout`),onPlay:o,onComplete:s};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||Tl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ol),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll(`snapshot`),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(t===void 0&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,``):void 0,this.updateSnapshot(),e&&this.notifyListeners(`willUpdate`)}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sl);return}this.isUpdating||this.nodes.forEach(Cl),this.isUpdating=!1,this.nodes.forEach(wl),this.nodes.forEach(vl),this.nodes.forEach(yl),this.clearAllSnapshots();let e=performance.now();Rr.delta=k(0,1e3/60,e-Rr.timestamp),Rr.timestamp=e,Rr.isProcessing=!0,zr.update.process(Rr),zr.preRender.process(Rr),zr.render.process(Rr),Rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(M),this.sharedNodes.forEach(kl)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ir.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ir.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners(`measure`,this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify(`LayoutMeasure`,this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e=`measure`){let t=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!el(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,``):void 0,a=r!==this.prevTransformTemplateValue;e&&(t||ac(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),n=this.removeElementScroll(t);return e&&(n=this.removeTransform(n)),Rl(n),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return Qs();let t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(mc(t.x,n.offset.x),mc(t.y,n.offset.y)),t}removeElementScroll(e){let t=Qs();j(t,e);for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:a}=r;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){j(t,e);let{scroll:n}=this.root;n&&(mc(t.x,-n.offset.x),mc(t.y,-n.offset.y))}mc(t.x,i.offset.x),mc(t.y,i.offset.y)}}return t}applyTransform(e,t=!1){let n=Qs();j(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&vc(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),ac(r.latestValues)&&vc(n,r.latestValues)}return ac(this.latestValues)&&vc(n,this.latestValues),n}removeTransform(e){let t=Qs();j(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!ac(n.latestValues))continue;ic(n.latestValues)&&n.updateSnapshot();let r=Qs(),i=n.measurePageBox();j(r,i),Qc(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return ac(this.latestValues)&&Qc(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:e.crossfade===void 0?!0:e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||=t.isProjectionDirty,this.isTransformDirty||=t.isTransformDirty,this.isSharedProjectionDirty||=t.isSharedProjectionDirty;let n=!!this.resumingFrom||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget))return;let{layout:r,layoutId:i}=this.options;if(!(!this.layout||!(r||i))){if(this.resolvedRelativeTargetAt=Rr.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qs(),this.relativeTargetOrigin=Qs(),Ls(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),j(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qs(),this.targetWithTransforms=Qs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fs(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):j(this.target,this.layout.layoutBox),dc(this.target,this.targetDelta)):j(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&this.animationProgress!==1?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qs(),this.relativeTargetOrigin=Qs(),Ls(this.relativeTargetOrigin,this.target,e.target),j(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ic(this.parent.latestValues)||oc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Rr.timestamp&&(n=!1),n)return;let{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||i))return;j(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;fc(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(e.target=e.layout.layoutBox);let{target:s}=e;if(!s){this.projectionTransform&&(this.projectionDelta=Xs(),this.projectionTransform=`none`,this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Xs(),this.projectionDeltaWithTransform=Xs());let c=this.projectionTransform;Ns(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.projectionTransform=al(this.projectionDelta,this.treeScale),(this.projectionTransform!==c||this.treeScale.x!==a||this.treeScale.y!==o)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners(`projectionUpdate`,s)),gl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){let n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a=Xs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=Qs(),s=n?n.source:void 0,c=this.layout?this.layout.source:void 0,l=s!==c,u=this.getStack(),d=!u||u.members.length<=1,f=!!(l&&!d&&this.options.crossfade===!0&&!this.path.some(Nl));this.animationProgress=0;let p;this.mixTargetDelta=t=>{let n=t/1e3;Al(a.x,e.x,n),Al(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ls(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ml(this.relativeTarget,this.relativeTargetOrigin,o,n),p&&tl(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||=Qs(),j(p,this.relativeTarget)),l&&(this.animationValues=i,Vc(i,r,this.latestValues,n,f,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners(`animationStart`),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&=(Lr(this.pendingAnimation),void 0),this.pendingAnimation=Ir.update(()=>{Ac.hasAnimatedSinceResize=!0,this.currentAnimation=dl(0,ml,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners(`animationComplete`)}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ml),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(!(!t||!n||!r)){if(this!==e&&this.layout&&r&&zl(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||Qs();let t=As(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=As(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}j(t,n),vc(t,i),Ns(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new il),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return e?e.lead===this:!0}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return e?e.relegate(this):!1}resetRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;let r={};for(let t=0;t<fl.length;t++){let i=`rotate`+fl[t];n[i]&&(r[i]=n[i],e.setStaticValue(i,0))}for(let t in e.render(),r)e.setStaticValue(t,r[t]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return pl;let t={visibility:``},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity=``,t.pointerEvents=Er(e?.pointerEvents)||``,t.transform=n?n(this.latestValues,``):`none`,t;let r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){let t={};return this.options.layoutId&&(t.opacity=this.latestValues.opacity===void 0?1:this.latestValues.opacity,t.pointerEvents=Er(e?.pointerEvents)||``),this.hasProjected&&!ac(this.latestValues)&&(t.transform=n?n({},``):`none`,this.hasProjected=!1),t}let i=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=al(this.projectionDeltaWithTransform,this.treeScale,i),n&&(t.transform=n(i,t.transform));let{x:a,y:o}=this.projectionDelta;for(let e in t.transformOrigin=`${a.origin*100}% ${o.origin*100}% 0`,r.animationValues?t.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:t.opacity=r===this?i.opacity===void 0?``:i.opacity:i.opacityExit===void 0?0:i.opacityExit,dn){if(i[e]===void 0)continue;let{correct:n,applyTo:a}=dn[e],o=t.transform===`none`?i[e]:n(i[e],r);if(a){let e=a.length;for(let n=0;n<e;n++)t[a[n]]=o}else t[e]=o}return this.options.layoutId&&(t.pointerEvents=r===this?Er(e?.pointerEvents)||``:`none`),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Sl),this.root.sharedNodes.clear()}}}function vl(e){e.updateLayout()}function yl(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners(`didUpdate`)){let{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i===`size`?$s(e=>{let r=a?t.measuredBox[e]:t.layoutBox[e],i=As(r);r.min=n[e].min,r.max=r.min+i}):zl(i,t.layoutBox,n)&&$s(r=>{let i=a?t.measuredBox[r]:t.layoutBox[r],o=As(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});let o=Xs();Ns(o,n,t.layoutBox);let s=Xs();a?Ns(s,e.applyTransform(r,!0),t.measuredBox):Ns(s,n,t.layoutBox);let c=!el(o),l=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:a}=r;if(i&&a){let o=Qs();Ls(o,t.layoutBox,i.layoutBox);let s=Qs();Ls(s,n,a.layoutBox),nl(o,s)||(l=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners(`didUpdate`,{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:l})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function bl(e){gl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty),e.isTransformDirty||=e.parent.isTransformDirty)}function xl(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function M(e){e.clearSnapshot()}function Sl(e){e.clearMeasurements()}function Cl(e){e.isLayoutDirty=!1}function wl(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify(`BeforeLayoutMeasure`),e.resetTransform()}function Tl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function El(e){e.resolveTargetDelta()}function Dl(e){e.calcProjection()}function Ol(e){e.resetRotation()}function kl(e){e.removeLeadSnapshot()}function Al(e,t,n){e.translate=ca(t.translate,0,n),e.scale=ca(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jl(e,t,n,r){e.min=ca(t.min,n.min,r),e.max=ca(t.max,n.max,r)}function Ml(e,t,n,r){jl(e.x,t.x,n.x,r),jl(e.y,t.y,n.y,r)}function Nl(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}var Pl={duration:.45,ease:[.4,0,.1,1]},Fl=e=>typeof navigator<`u`&&navigator.userAgent.toLowerCase().includes(e),Il=Fl(`applewebkit/`)&&!Fl(`chrome/`)?Math.round:Ar;function Ll(e){e.min=Il(e.min),e.max=Il(e.max)}function Rl(e){Ll(e.x),Ll(e.y)}function zl(e,t,n){return e===`position`||e===`preserve-aspect`&&!js(rl(t),rl(n),.2)}var Bl=_l({attachResizeListener:(e,t)=>Ur(e,`resize`,t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vl={current:void 0},Hl=_l({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vl.current){let e=new Bl({});e.mount(window),e.setOptions({layoutScroll:!0}),Vl.current=e}return Vl.current},resetTransform:(e,t)=>{e.style.transform=t===void 0?`none`:t},checkIsScrollRoot:e=>window.getComputedStyle(e).position===`fixed`}),Ul={pan:{Feature:Oc},drag:{Feature:Ec,ProjectionNode:Hl,MeasureLayout:Fc}},Wl=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Gl(e){let t=Wl.exec(e);if(!t)return[,];let[,n,r]=t;return[n,r]}var Kl=4;function ql(e,t,n=1){Ci(n<=Kl,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[r,i]=Gl(e);if(!r)return;let a=window.getComputedStyle(t).getPropertyValue(r);if(a){let e=a.trim();return Ro(e)?parseFloat(e):e}else if(Sn(i))return ql(i,t,n+1);else return i}function Jl(e,{...t},n){let r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};for(let i in n&&={...n},e.values.forEach(e=>{let t=e.get();if(!Sn(t))return;let n=ql(t,r);n&&e.set(n)}),t){let e=t[i];if(!Sn(e))continue;let a=ql(e,r);if(!a)continue;t[i]=a,n||={},n[i]===void 0&&(n[i]=e)}return{target:t,transitionEnd:n}}var Yl=new Set([`width`,`height`,`top`,`left`,`right`,`bottom`,`x`,`y`,`translateX`,`translateY`]),Xl=e=>Yl.has(e),Zl=e=>Object.keys(e).some(Xl),Ql=e=>e===Tn||e===A,$l=(e,t)=>parseFloat(e.split(`, `)[t]),eu=(e,t)=>(n,{transform:r})=>{if(r===`none`||!r)return 0;let i=r.match(/^matrix3d\((.+)\)$/);if(i)return $l(i[1],t);{let t=r.match(/^matrix\((.+)\)$/);return t?$l(t[1],e):0}},tu=new Set([`x`,`y`,`z`]),nu=pn.filter(e=>!tu.has(e));function ru(e){let t=[];return nu.forEach(n=>{let r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith(`scale`)?1:0))}),t.length&&e.render(),t}var iu={width:({x:e},{paddingLeft:t=`0`,paddingRight:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t=`0`,paddingBottom:n=`0`})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:eu(4,13),y:eu(5,14)};iu.translateX=iu.x,iu.translateY=iu.y;var au=(e,t,n)=>{let r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:o}=a,s={};o===`none`&&t.setStaticValue(`display`,e.display||`block`),n.forEach(e=>{s[e]=iu[e](r,a)}),t.render();let c=t.measureViewportBox();return n.forEach(n=>{let r=t.getValue(n);r&&r.jump(s[n]),e[n]=iu[n](c,a)}),e},ou=(e,t,n={},r={})=>{t={...t},r={...r};let i=Object.keys(t).filter(Xl),a=[],o=!1,s=[];if(i.forEach(i=>{let c=e.getValue(i);if(!e.hasValue(i))return;let l=n[i],u=Jo(l),d=t[i],f;if(Cr(d)){let e=d.length,t=d[0]===null?1:0;l=d[t],u=Jo(l);for(let n=t;n<e&&d[n]!==null;n++)f?Ci(Jo(d[n])===f,`All keyframes must be of the same type`):(f=Jo(d[n]),Ci(f===u||Ql(u)&&Ql(f),`Keyframes must be of the same dimension as the current value`))}else f=Jo(d);if(u!==f)if(Ql(u)&&Ql(f)){let e=c.get();typeof e==`string`&&c.set(parseFloat(e)),typeof d==`string`?t[i]=parseFloat(d):Array.isArray(d)&&f===A&&(t[i]=d.map(parseFloat))}else u?.transform&&f?.transform&&(l===0||d===0)?l===0?c.set(f.transform(l)):t[i]=u.transform(d):(o||=(a=ru(e),!0),s.push(i),r[i]=r[i]===void 0?t[i]:r[i],c.jump(d))}),s.length){let n=s.indexOf(`height`)>=0?window.pageYOffset:null,i=au(t,e,s);return a.length&&a.forEach(([t,n])=>{e.getValue(t).set(n)}),e.render(),Rt&&n!==null&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}else return{target:t,transitionEnd:r}};function su(e,t,n,r){return Zl(t)?ou(e,t,n,r):{target:t,transitionEnd:r}}var cu=(e,t,n,r)=>{let i=Jl(e,t,r);return t=i.target,r=i.transitionEnd,su(e,t,n,r)},lu={current:null},uu={current:!1};function du(){if(uu.current=!0,Rt)if(window.matchMedia){let e=window.matchMedia(`(prefers-reduced-motion)`),t=()=>lu.current=e.matches;e.addListener(t),t()}else lu.current=!1}function fu(e,t,n){let{willChange:r}=t;for(let i in t){let a=t[i],o=n[i];if(gn(a))e.addValue(i,a),Lo(r)&&r.add(i);else if(gn(o))e.addValue(i,Go(a,{owner:e})),Lo(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){let t=e.getValue(i);!t.hasAnimated&&t.set(a)}else{let t=e.getStaticValue(i);e.addValue(i,Go(t===void 0?a:t,{owner:e}))}}for(let r in n)t[r]===void 0&&e.removeValue(r);return t}var pu=new WeakMap,mu=Object.keys(en),hu=mu.length,gu=[`AnimationStart`,`AnimationComplete`,`Update`,`BeforeLayoutMeasure`,`LayoutMeasure`,`LayoutAnimationStart`,`LayoutAnimationComplete`],_u=Yt.length,vu=class{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify(`Update`,this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ir.render(this.render,!1,!0);let{latestValues:o,renderState:s}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=s,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=Xt(t),this.isVariantNode=D(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:c,...l}=this.scrapeMotionValuesFromProps(t,{});for(let e in l){let t=l[e];o[e]!==void 0&&gn(t)&&(t.set(o[e],!1),Lo(c)&&c.add(e))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,pu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),uu.current||du(),this.shouldReduceMotion=this.reducedMotionConfig===`never`?!1:this.reducedMotionConfig===`always`?!0:lu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in pu.delete(this.current),this.projection&&this.projection.unmount(),Lr(this.notifyUpdate),Lr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){let n=mn.has(e),r=t.on(`change`,t=>{this.latestValues[e]=t,this.props.onUpdate&&Ir.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on(`renderRequest`,this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,r,i){let a,o;for(let e=0;e<hu;e++){let n=mu[e],{isEnabled:r,Feature:i,ProjectionNode:s,MeasureLayout:c}=en[n];s&&(a=s),r(t)&&(!this.features[n]&&i&&(this.features[n]=new i(this)),c&&(o=c))}if((this.type===`html`||this.type===`svg`)&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);let{layoutId:e,layout:n,drag:r,dragConstraints:o,layoutScroll:s,layoutRoot:c}=t;this.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:!!r||o&&Wt(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof n==`string`?n:`both`,initialPromotionConfig:i,layoutScroll:s,layoutRoot:c})}return o}updateFeatures(){for(let e in this.features){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<gu.length;t++){let n=gu[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e[`on`+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=fu(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let e=this.parent&&this.parent.getVariantContext()||{};return this.props.initial!==void 0&&(e.initial=this.props.initial),e}let t={};for(let e=0;e<_u;e++){let n=Yt[e],r=this.props[n];(Kt(r)||r===!1)&&(t[n]=r)}return t}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Go(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let{initial:t}=this.props,n=typeof t==`string`||typeof t==`object`?xr(this.props,t)?.[e]:void 0;if(t&&n!==void 0)return n;let r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!gn(r)?r:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Vo),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}},yu=class extends vu{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},i){let a=ts(n,e||{},this);if(r&&(t&&=r(t),n&&=r(n),a&&=r(a)),i){$o(this,n,a);let e=cu(this,n,a,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}};function bu(e){return window.getComputedStyle(e)}var xu=class extends yu{constructor(){super(...arguments),this.type=`html`}readValueFromInstance(e,t){if(mn.has(t)){let e=Oo(t);return e&&e.default||0}else{let n=bu(e),r=(xn(t)?n.getPropertyValue(t):n[t])||0;return typeof r==`string`?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return yc(e,t)}build(e,t,n,r){Vn(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return yr(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;gn(e)&&(this.childSubscription=e.on(`change`,e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(e,t,n,r){gr(e,t,n,r)}},Su=class extends yu{constructor(){super(...arguments),this.type=`svg`,this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mn.has(t)){let e=Oo(t);return e&&e.default||0}return t=_r.has(t)?t:Vt(t),e.getAttribute(t)}measureInstanceViewportBox(){return Qs()}scrapeMotionValuesFromProps(e,t){return br(e,t)}build(e,t,n,r){dr(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){vr(e,t,n,r)}mount(e){this.isSVGTag=pr(e.tagName),super.mount(e)}},Cu=(e,t)=>un(e)?new Su(t,{enableHardwareAcceleration:!1}):new xu(t,{enableHardwareAcceleration:!0}),wu={layout:{ProjectionNode:Hl,MeasureLayout:Fc}},Tu={...bs,..._i,...Ul,...wu},N=cn((e,t)=>Hr(e,t,Tu,Cu));function Eu(){let e=(0,b.useRef)(!1);return zt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Du(){let e=Eu(),[t,n]=(0,b.useState)(0),r=(0,b.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,b.useCallback)(()=>Ir.postRender(r),[r]),t]}var Ou=class extends b.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function ku({children:e,isPresent:t}){let n=(0,b.useId)(),r=(0,b.useRef)(null),i=(0,b.useRef)({width:0,height:0,top:0,left:0});return(0,b.useInsertionEffect)(()=>{let{width:e,height:a,top:o,left:s}=i.current;if(t||!r.current||!e||!a)return;r.current.dataset.motionPopId=n;let c=document.createElement(`style`);return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${s}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),b.createElement(Ou,{isPresent:t,childRef:r,sizeRef:i},b.cloneElement(e,{ref:r}))}var Au=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{let s=Sr(ju),c=(0,b.useId)(),l=(0,b.useMemo)(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:e=>{s.set(e,!0);for(let e of s.values())if(!e)return;r&&r()},register:e=>(s.set(e,!1),()=>s.delete(e))}),a?void 0:[n]);return(0,b.useMemo)(()=>{s.forEach((e,t)=>s.set(t,!1))},[n]),b.useEffect(()=>{!n&&!s.size&&r&&r()},[n]),o===`popLayout`&&(e=b.createElement(ku,{isPresent:n},e)),b.createElement(Lt.Provider,{value:l},e)};function ju(){return new Map}function Mu(e){return(0,b.useEffect)(()=>()=>e(),[])}var Nu=e=>e.key||``;function Pu(e,t){e.forEach(e=>{let n=Nu(e);t.set(n,e)})}function Fu(e){let t=[];return b.Children.forEach(e,e=>{(0,b.isValidElement)(e)&&t.push(e)}),t}var Iu=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:o=`sync`})=>{Ci(!i,`Replace exitBeforeEnter with mode='wait'`);let s=(0,b.useContext)(nn).forceRender||Du()[0],c=Eu(),l=Fu(e),u=l,d=(0,b.useRef)(new Map).current,f=(0,b.useRef)(u),p=(0,b.useRef)(new Map).current,m=(0,b.useRef)(!0);if(zt(()=>{m.current=!1,Pu(l,p),f.current=u}),Mu(()=>{m.current=!0,p.clear(),d.clear()}),m.current)return b.createElement(b.Fragment,null,u.map(e=>b.createElement(Au,{key:Nu(e),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:o},e)));u=[...u];let h=f.current.map(Nu),g=l.map(Nu),_=h.length;for(let e=0;e<_;e++){let t=h[e];g.indexOf(t)===-1&&!d.has(t)&&d.set(t,void 0)}return o===`wait`&&d.size&&(u=[]),d.forEach((e,n)=>{if(g.indexOf(n)!==-1)return;let i=p.get(n);if(!i)return;let m=h.indexOf(n),_=e;_||(_=b.createElement(Au,{key:Nu(i),isPresent:!1,onExitComplete:()=>{d.delete(n);let e=Array.from(p.keys()).filter(e=>!g.includes(e));if(e.forEach(e=>p.delete(e)),f.current=l.filter(t=>{let r=Nu(t);return r===n||e.includes(r)}),!d.size){if(c.current===!1)return;s(),r&&r()}},custom:t,presenceAffectsLayout:a,mode:o},i),d.set(n,_)),u.splice(m,0,_)}),u=u.map(e=>{let t=e.key;return d.has(t)?e:b.createElement(Au,{key:Nu(e),isPresent:!0,presenceAffectsLayout:a,mode:o},e)}),b.createElement(b.Fragment,null,d.size?u:u.map(e=>(0,b.cloneElement)(e)))},Lu=function(){return Lu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lu.apply(this,arguments)};function Ru(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var zu=s(((exports,t)=>{t.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var l=a[c];if(!s(l))return!1;var u=e[l],d=t[l];if(i=n?n.call(r,u,d,l):void 0,i===!1||i===void 0&&u!==d)return!1}return!0}})),P=`-ms-`,Bu=`-moz-`,F=`-webkit-`,Vu=`comm`,Hu=`rule`,Uu=`decl`,Wu=`@import`,Gu=`@keyframes`,Ku=`@layer`,qu=Math.abs,Ju=String.fromCharCode,Yu=Object.assign;function Xu(e,t){return ed(e,0)^45?(((t<<2^ed(e,0))<<2^ed(e,1))<<2^ed(e,2))<<2^ed(e,3):0}function Zu(e){return e.trim()}function Qu(e,t){return(e=t.exec(e))?e[0]:e}function I(e,t,n){return e.replace(t,n)}function $u(e,t,n){return e.indexOf(t,n)}function ed(e,t){return e.charCodeAt(t)|0}function td(e,t,n){return e.slice(t,n)}function nd(e){return e.length}function rd(e){return e.length}function id(e,t){return t.push(e),e}function ad(e,t){return e.map(t).join(``)}function od(e,t){return e.filter(function(e){return!Qu(e,t)})}var sd=1,cd=1,ld=0,ud=0,dd=0,fd=``;function pd(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:sd,column:cd,length:o,return:``,siblings:s}}function md(e,t){return Yu(pd(``,null,null,``,null,null,0,e.siblings),e,{length:-e.length},t)}function hd(e){for(;e.root;)e=md(e.root,{children:[e]});id(e,e.siblings)}function gd(){return dd}function _d(){return dd=ud>0?ed(fd,--ud):0,cd--,dd===10&&(cd=1,sd--),dd}function vd(){return dd=ud<ld?ed(fd,ud++):0,cd++,dd===10&&(cd=1,sd++),dd}function yd(){return ed(fd,ud)}function bd(){return ud}function xd(e,t){return td(fd,e,t)}function Sd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Cd(e){return sd=cd=1,ld=nd(fd=e),ud=0,[]}function wd(e){return fd=``,e}function Td(e){return Zu(xd(ud-1,Od(e===91?e+2:e===40?e+1:e)))}function Ed(e){for(;(dd=yd())&&dd<33;)vd();return Sd(e)>2||Sd(dd)>3?``:` `}function Dd(e,t){for(;--t&&vd()&&!(dd<48||dd>102||dd>57&&dd<65||dd>70&&dd<97););return xd(e,bd()+(t<6&&yd()==32&&vd()==32))}function Od(e){for(;vd();)switch(dd){case e:return ud;case 34:case 39:e!==34&&e!==39&&Od(dd);break;case 40:e===41&&Od(e);break;case 92:vd();break}return ud}function kd(e,t){for(;vd()&&e+dd!==57&&!(e+dd===84&&yd()===47););return`/*`+xd(t,ud-1)+`*`+Ju(e===47?e:vd())}function Ad(e){for(;!Sd(yd());)vd();return xd(e,ud)}function jd(e){return wd(Md(``,null,null,null,[``],e=Cd(e),0,[0],e))}function Md(e,t,n,r,i,a,o,s,c){for(var l=0,u=0,d=o,f=0,p=0,m=0,h=1,g=1,_=1,v=0,y=``,b=i,x=a,S=r,C=y;g;)switch(m=v,v=vd()){case 40:if(m!=108&&ed(C,d-1)==58){$u(C+=I(Td(v),`&`,`&\f`),`&\f`,qu(l?s[l-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:C+=Td(v);break;case 9:case 10:case 13:case 32:C+=Ed(m);break;case 92:C+=Dd(bd()-1,7);continue;case 47:switch(yd()){case 42:case 47:id(Pd(kd(vd(),bd()),t,n,c),c);break;default:C+=`/`}break;case 123*h:s[l++]=nd(C)*_;case 125*h:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:_==-1&&(C=I(C,/\f/g,``)),p>0&&nd(C)-d&&id(p>32?Fd(C+`;`,r,n,d-1,c):Fd(I(C,` `,``)+`;`,r,n,d-2,c),c);break;case 59:C+=`;`;default:if(id(S=Nd(C,t,n,l,u,i,s,y,b=[],x=[],d,a),a),v===123)if(u===0)Md(C,t,S,S,b,a,d,s,x);else switch(f===99&&ed(C,3)===110?100:f){case 100:case 108:case 109:case 115:Md(e,S,S,r&&id(Nd(e,S,S,0,0,i,s,y,i,b=[],d,x),x),i,x,d,s,r?b:x);break;default:Md(C,S,S,S,[``],x,0,s,x)}}l=u=p=0,h=_=1,y=C=``,d=o;break;case 58:d=1+nd(C),p=m;default:if(h<1){if(v==123)--h;else if(v==125&&h++==0&&_d()==125)continue}switch(C+=Ju(v),v*h){case 38:_=u>0?1:(C+=`\f`,-1);break;case 44:s[l++]=(nd(C)-1)*_,_=1;break;case 64:yd()===45&&(C+=Td(vd())),f=yd(),u=d=nd(y=C+=Ad(bd())),v++;break;case 45:m===45&&nd(C)==2&&(h=0)}}return a}function Nd(e,t,n,r,i,a,o,s,c,l,u,d){for(var f=i-1,p=i===0?a:[``],m=rd(p),h=0,g=0,_=0;h<r;++h)for(var v=0,y=td(e,f+1,f=qu(g=o[h])),b=e;v<m;++v)(b=Zu(g>0?p[v]+` `+y:I(y,/&\f/g,p[v])))&&(c[_++]=b);return pd(e,t,n,i===0?Hu:s,c,l,u,d)}function Pd(e,t,n,r){return pd(e,t,n,Vu,Ju(gd()),td(e,2,-2),0,r)}function Fd(e,t,n,r,i){return pd(e,t,n,Uu,td(e,0,r),td(e,r+1,-1),r,i)}function Id(e,t,n){switch(Xu(e,t)){case 5103:return F+`print-`+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+e+e;case 4789:return Bu+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return F+e+Bu+e+P+e+e;case 5936:switch(ed(e,t+11)){case 114:return F+e+P+I(e,/[svh]\w+-[tblr]{2}/,`tb`)+e;case 108:return F+e+P+I(e,/[svh]\w+-[tblr]{2}/,`tb-rl`)+e;case 45:return F+e+P+I(e,/[svh]\w+-[tblr]{2}/,`lr`)+e}case 6828:case 4268:case 2903:return F+e+P+e+e;case 6165:return F+e+P+`flex-`+e+e;case 5187:return F+e+I(e,/(\w+).+(:[^]+)/,F+`box-$1$2`+P+`flex-$1$2`)+e;case 5443:return F+e+P+`flex-item-`+I(e,/flex-|-self/g,``)+(Qu(e,/flex-|baseline/)?``:P+`grid-row-`+I(e,/flex-|-self/g,``))+e;case 4675:return F+e+P+`flex-line-pack`+I(e,/align-content|flex-|-self/g,``)+e;case 5548:return F+e+P+I(e,`shrink`,`negative`)+e;case 5292:return F+e+P+I(e,`basis`,`preferred-size`)+e;case 6060:return F+`box-`+I(e,`-grow`,``)+F+e+P+I(e,`grow`,`positive`)+e;case 4554:return F+I(e,/([^-])(transform)/g,`$1`+F+`$2`)+e;case 6187:return I(I(I(e,/(zoom-|grab)/,F+`$1`),/(image-set)/,F+`$1`),e,``)+e;case 5495:case 3959:return I(e,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return I(I(e,/(.+:)(flex-)?(.*)/,F+`box-pack:$3`+P+`flex-pack:$3`),/s.+-b[^;]+/,`justify`)+F+e+e;case 4200:if(!Qu(e,/flex-|baseline/))return P+`grid-column-align`+td(e,t)+e;break;case 2592:case 3360:return P+I(e,`template-`,``)+e;case 4384:case 3616:return n&&n.some(function(e,n){return t=n,Qu(e.props,/grid-\w+-end/)})?~$u(e+(n=n[t].value),`span`,0)?e:P+I(e,`-start`,``)+e+P+`grid-row-span:`+(~$u(n,`span`,0)?Qu(n,/\d+/):Qu(n,/\d+/)-+Qu(e,/\d+/))+`;`:P+I(e,`-start`,``)+e;case 4896:case 4128:return n&&n.some(function(e){return Qu(e.props,/grid-\w+-start/)})?e:P+I(I(e,`-end`,`-span`),`span `,``)+e;case 4095:case 3583:case 4068:case 2532:return I(e,/(.+)-inline(.+)/,F+`$1$2`)+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nd(e)-1-t>6)switch(ed(e,t+1)){case 109:if(ed(e,t+4)!==45)break;case 102:return I(e,/(.+:)(.+)-([^]+)/,`$1`+F+`$2-$3$1`+Bu+(ed(e,t+3)==108?`$3`:`$2-$3`))+e;case 115:return~$u(e,`stretch`,0)?Id(I(e,`stretch`,`fill-available`),t,n)+e:e}break;case 5152:case 5920:return I(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(t,n,r,i,a,o,s){return P+n+`:`+r+s+(i?P+n+`-span:`+(a?o:o-+r)+s:``)+e});case 4949:if(ed(e,t+6)===121)return I(e,`:`,`:`+F)+e;break;case 6444:switch(ed(e,ed(e,14)===45?18:11)){case 120:return I(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,`$1`+F+(ed(e,14)===45?`inline-`:``)+`box$3$1`+F+`$2$3$1`+P+`$2box$3`)+e;case 100:return I(e,`:`,`:`+P)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return I(e,`scroll-`,`scroll-snap-`)+e}return e}function Ld(e,t){for(var n=``,r=0;r<e.length;r++)n+=t(e[r],r,e,t)||``;return n}function Rd(e,t,n,r){switch(e.type){case Ku:if(e.children.length)break;case Wu:case Uu:return e.return=e.return||e.value;case Vu:return``;case Gu:return e.return=e.value+`{`+Ld(e.children,r)+`}`;case Hu:if(!nd(e.value=e.props.join(`,`)))return``}return nd(n=Ld(e.children,r))?e.return=e.value+`{`+n+`}`:``}function zd(e){var t=rd(e);return function(n,r,i,a){for(var o=``,s=0;s<t;s++)o+=e[s](n,r,i,a)||``;return o}}function Bd(e){return function(t){t.root||(t=t.return)&&e(t)}}function Vd(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Uu:e.return=Id(e.value,e.length,n);return;case Gu:return Ld([md(e,{value:I(e.value,`@`,`@`+F)})],r);case Hu:if(e.length)return ad(n=e.props,function(t){switch(Qu(t,r=/(::plac\w+|:read-\w+)/)){case`:read-only`:case`:read-write`:hd(md(e,{props:[I(t,/:(read-\w+)/,`:`+Bu+`$1`)]})),hd(md(e,{props:[t]})),Yu(e,{props:od(n,r)});break;case`::placeholder`:hd(md(e,{props:[I(t,/:(plac\w+)/,`:`+F+`input-$1`)]})),hd(md(e,{props:[I(t,/:(plac\w+)/,`:`+Bu+`$1`)]})),hd(md(e,{props:[I(t,/:(plac\w+)/,P+`input-$1`)]})),hd(md(e,{props:[t]})),Yu(e,{props:od(n,r)});break}return``})}}var Hd=u(zu()),Ud={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Wd=typeof process<`u`&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||`data-styled`,Gd=`active`,Kd=`data-styled-version`,qd=`6.1.19`,Jd=`/*!sc*/
`,Yd=typeof window<`u`&&typeof document<`u`,Xd=!!(typeof SC_DISABLE_SPEEDY==`boolean`?SC_DISABLE_SPEEDY:typeof process<`u`&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==``?{}.REACT_APP_SC_DISABLE_SPEEDY!==`false`&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<`u`&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==``&&{}.SC_DISABLE_SPEEDY!==`false`&&{}.SC_DISABLE_SPEEDY),Zd={},Qd=Object.freeze([]),$d=Object.freeze({});function ef(e,t,n){return n===void 0&&(n=$d),e.theme!==n.theme&&e.theme||t||n.theme}var tf=new Set(`a.abbr.address.area.article.aside.audio.b.base.bdi.bdo.big.blockquote.body.br.button.canvas.caption.cite.code.col.colgroup.data.datalist.dd.del.details.dfn.dialog.div.dl.dt.em.embed.fieldset.figcaption.figure.footer.form.h1.h2.h3.h4.h5.h6.header.hgroup.hr.html.i.iframe.img.input.ins.kbd.keygen.label.legend.li.link.main.map.mark.menu.menuitem.meta.meter.nav.noscript.object.ol.optgroup.option.output.p.param.picture.pre.progress.q.rp.rt.ruby.s.samp.script.section.select.small.source.span.strong.style.sub.summary.sup.table.tbody.td.textarea.tfoot.th.thead.time.tr.track.u.ul.use.var.video.wbr.circle.clipPath.defs.ellipse.foreignObject.g.image.line.linearGradient.marker.mask.path.pattern.polygon.polyline.radialGradient.rect.stop.svg.text.tspan`.split(`.`)),nf=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,rf=/(^-|-$)/g;function af(e){return e.replace(nf,`-`).replace(rf,``)}var sf=/(a)(d)/gi,cf=52,lf=function(e){return String.fromCharCode(e+(e>25?39:97))};function uf(e){var t,n=``;for(t=Math.abs(e);t>cf;t=t/cf|0)n=lf(t%cf)+n;return(lf(t%cf)+n).replace(sf,`$1-$2`)}var df,ff=5381,pf=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},mf=function(e){return pf(ff,e)};function hf(e){return uf(mf(e)>>>0)}function gf(e){return e.displayName||e.name||`Component`}function _f(e){return typeof e==`string`&&!0}var vf=typeof Symbol==`function`&&Symbol.for,yf=vf?Symbol.for(`react.memo`):60115,bf=vf?Symbol.for(`react.forward_ref`):60112,xf={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Sf={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Cf={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},wf=((df={})[bf]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},df[yf]=Cf,df);function Tf(e){return(`type`in(t=e)&&t.type.$$typeof)===yf?Cf:`$$typeof`in e?wf[e.$$typeof]:xf;var t}var Ef=Object.defineProperty,Df=Object.getOwnPropertyNames,Of=Object.getOwnPropertySymbols,kf=Object.getOwnPropertyDescriptor,Af=Object.getPrototypeOf,jf=Object.prototype;function Mf(e,t,n){if(typeof t!=`string`){if(jf){var r=Af(t);r&&r!==jf&&Mf(e,r,n)}var i=Df(t);Of&&(i=i.concat(Of(t)));for(var a=Tf(e),o=Tf(t),s=0;s<i.length;++s){var c=i[s];if(!(c in Sf||n&&n[c]||o&&c in o||a&&c in a)){var l=kf(t,c);try{Ef(e,c,l)}catch{}}}}return e}function Nf(e){return typeof e==`function`}function Pf(e){return typeof e==`object`&&`styledComponentId`in e}function Ff(e,t){return e&&t?`${e} ${t}`:e||t||``}function If(e,t){if(e.length===0)return``;for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Lf(e){return typeof e==`object`&&!!e&&e.constructor.name===Object.name&&!(`props`in e&&e.$$typeof)}function Rf(e,t,n){if(n===void 0&&(n=!1),!n&&!Lf(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Rf(e[r],t[r]);else if(Lf(t))for(var r in t)e[r]=Rf(e[r],t[r]);return e}function zf(e,t){Object.defineProperty(e,`toString`,{value:t})}function Bf(e){var t=[...arguments].slice(1);return Error(`An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#${e} for more information.${t.length>0?` Args: ${t.join(`, `)}`:``}`)}var Vf=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Bf(16,`${e}`);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t=``;if(e>=this.length||this.groupSizes[e]===0)return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=`${this.tag.getRule(a)}${Jd}`;return t},e}(),Hf=new Map,Uf=new Map,Wf=1,Gf=function(e){if(Hf.has(e))return Hf.get(e);for(;Uf.has(Wf);)Wf++;var t=Wf++;return Hf.set(e,t),Uf.set(t,e),t},Kf=function(e,t){Wf=t+1,Hf.set(e,t),Uf.set(t,e)},qf=`style[${Wd}][${Kd}="${qd}"]`,Jf=RegExp(`^${Wd}\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)`),Yf=function(e,t,n){for(var r,i=n.split(`,`),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Xf=function(e,t){for(var n=(t.textContent??``).split(Jd),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(Jf);if(s){var c=0|parseInt(s[1],10),l=s[2];c!==0&&(Kf(l,c),Yf(e,l,s[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(o)}}},Zf=function(e){for(var t=document.querySelectorAll(qf),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Wd)!==Gd&&(Xf(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function Qf(){return typeof __webpack_nonce__<`u`?__webpack_nonce__:null}var $f=function(e){var t=document.head,n=e||t,r=document.createElement(`style`),i=function(e){var t=Array.from(e.querySelectorAll(`style[${Wd}]`));return t[t.length-1]}(n),a=i===void 0?null:i.nextSibling;r.setAttribute(Wd,Gd),r.setAttribute(Kd,qd);var o=Qf();return o&&r.setAttribute(`nonce`,o),n.insertBefore(r,a),r},ep=function(){function e(e){this.element=$f(e),this.element.appendChild(document.createTextNode(``)),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Bf(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:``},e}(),tp=function(){function e(e){this.element=$f(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:``},e}(),np=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:``},e}(),rp=Yd,ip={isServer:!Yd,useCSSOMInjection:!Xd},ap=function(){function e(e,t,n){e===void 0&&(e=$d),t===void 0&&(t={});var r=this;this.options=Lu(Lu({},ip),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Yd&&rp&&(rp=!1,Zf(this)),zf(this,function(){return function(e){for(var t=e.getTag(),n=t.length,r=``,i=function(n){var i=function(e){return Uf.get(e)}(n);if(i===void 0)return`continue`;var a=e.names.get(i),o=t.getGroup(n);if(a===void 0||!a.size||o.length===0)return`continue`;var s=`${Wd}.g${n}[id="${i}"]`,c=``;a!==void 0&&a.forEach(function(e){e.length>0&&(c+=`${e},`)}),r+=`${o}${s}{content:"${c}"}${Jd}`},a=0;a<n;a++)i(a);return r}(r)})}return e.registerId=function(e){return Gf(e)},e.prototype.rehydrate=function(){!this.server&&Yd&&Zf(this)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(Lu(Lu({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new np(n):t?new ep(n):new tp(n)}(this.options),new Vf(e));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Gf(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Gf(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Gf(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),op=/&/g,sp=/^\s*\/\/.*$/gm;function cp(e,t){return e.map(function(e){return e.type===`rule`&&(e.value=`${t} ${e.value}`,e.value=e.value.replaceAll(`,`,`,${t} `),e.props=e.props.map(function(e){return`${t} ${e}`})),Array.isArray(e.children)&&e.type!==`@keyframes`&&(e.children=cp(e.children,t)),e})}function lp(e){var t,n,r,i=e===void 0?$d:e,a=i.options,o=a===void 0?$d:a,s=i.plugins,c=s===void 0?Qd:s,l=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,``).length>0?`.${t}`:e},u=c.slice();u.push(function(e){e.type===`rule`&&e.value.includes(`&`)&&(e.props[0]=e.props[0].replace(op,n).replace(r,l))}),o.prefix&&u.push(Vd),u.push(Rd);var d=function(e,i,a,s){i===void 0&&(i=``),a===void 0&&(a=``),s===void 0&&(s=`&`),t=s,n=i,r=RegExp(`\\${n}\\b`,`g`);var c=e.replace(sp,``),l=jd(a||i?`${a} ${i} { ${c} }`:c);o.namespace&&(l=cp(l,o.namespace));var d=[];return Ld(l,zd(u.concat(Bd(function(e){return d.push(e)})))),d};return d.hash=c.length?c.reduce(function(e,t){return t.name||Bf(15),pf(e,t.name)},ff).toString():``,d}var up=new ap,dp=lp(),fp=b.createContext({shouldForwardProp:void 0,styleSheet:up,stylis:dp});fp.Consumer;var pp=b.createContext(void 0);function mp(){return(0,b.useContext)(fp)}function hp(e){var t=(0,b.useState)(e.stylisPlugins),n=t[0],r=t[1],i=mp().styleSheet,a=(0,b.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,i]),o=(0,b.useMemo)(function(){return lp({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})},[e.enableVendorPrefixes,e.namespace,n]);(0,b.useEffect)(function(){(0,Hd.default)(n,e.stylisPlugins)||r(e.stylisPlugins)},[e.stylisPlugins]);var s=(0,b.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:o}},[e.shouldForwardProp,a,o]);return b.createElement(fp.Provider,{value:s},b.createElement(pp.Provider,{value:o},e.children))}var gp=function(){function e(e,t){var n=this;this.inject=function(e,t){t===void 0&&(t=dp);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,`@keyframes`))},this.name=e,this.id=`sc-keyframes-${e}`,this.rules=t,zf(this,function(){throw Bf(12,String(n.name))})}return e.prototype.getName=function(e){return e===void 0&&(e=dp),this.name+e.hash},e}(),_p=function(e){return e>=`A`&&e<=`Z`};function vp(e){for(var t=``,n=0;n<e.length;n++){var r=e[n];if(n===1&&r===`-`&&e[0]===`-`)return e;_p(r)?t+=`-`+r.toLowerCase():t+=r}return t.startsWith(`ms-`)?`-`+t:t}var yp=function(e){return e==null||!1===e||e===``},bp=function(e){var t,n,r=[];for(var i in e){var a=e[i];e.hasOwnProperty(i)&&!yp(a)&&(Array.isArray(a)&&a.isCss||Nf(a)?r.push(`${vp(i)}:`,a,`;`):Lf(a)?r.push.apply(r,Ru(Ru([`${i} {`],bp(a),!1),[`}`],!1)):r.push(`${vp(i)}: ${t=i,(n=a)==null||typeof n==`boolean`||n===``?``:typeof n!=`number`||n===0||t in Ud||t.startsWith(`--`)?String(n).trim():`${n}px`};`))}return r};function xp(e,t,n,r){if(yp(e))return[];if(Pf(e))return[`.${e.styledComponentId}`];if(Nf(e)){if(!Nf(a=e)||a.prototype&&a.prototype.isReactComponent||!t)return[e];var i=e(t);return xp(i,t,n,r)}var a;return e instanceof gp?n?(e.inject(n,r),[e.getName(r)]):[e]:Lf(e)?bp(e):Array.isArray(e)?Array.prototype.concat.apply(Qd,e.map(function(e){return xp(e,t,n,r)})):[e.toString()]}function Sp(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Nf(n)&&!Pf(n))return!1}return!0}var Cp=mf(qd),wp=function(){function e(e,t,n){this.rules=e,this.staticRulesId=``,this.isStatic=(n===void 0||n.isStatic)&&Sp(e),this.componentId=t,this.baseHash=pf(Cp,t),this.baseStyle=n,ap.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):``;if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Ff(r,this.staticRulesId);else{var i=If(xp(this.rules,e,t,n)),a=uf(pf(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,`.${a}`,void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=Ff(r,a),this.staticRulesId=a}else{for(var s=pf(this.baseHash,n.hash),c=``,l=0;l<this.rules.length;l++){var u=this.rules[l];if(typeof u==`string`)c+=u;else if(u){var d=If(xp(u,e,t,n));s=pf(s,d+l),c+=d}}if(c){var f=uf(s>>>0);t.hasNameForId(this.componentId,f)||t.insertRules(this.componentId,f,n(c,`.${f}`,void 0,this.componentId)),r=Ff(r,f)}}return r},e}(),Tp=b.createContext(void 0);Tp.Consumer;function Ep(e){var t=b.useContext(Tp),n=(0,b.useMemo)(function(){return function(e,t){if(!e)throw Bf(14);if(Nf(e))return e(t);if(Array.isArray(e)||typeof e!=`object`)throw Bf(8);return t?Lu(Lu({},t),e):e}(e.theme,t)},[e.theme,t]);return e.children?b.createElement(Tp.Provider,{value:n},e.children):null}var Dp={};function Op(e,t,n){var r=Pf(e),i=e,a=!_f(e),o=t.attrs,s=o===void 0?Qd:o,c=t.componentId,l=c===void 0?function(e,t){var n=typeof e==`string`?af(e):`sc`;Dp[n]=(Dp[n]||0)+1;var r=`${n}-${hf(qd+n+Dp[n])}`;return t?`${t}-${r}`:r}(t.displayName,t.parentComponentId):c,u=t.displayName,d=u===void 0?function(e){return _f(e)?`styled.${e}`:`Styled(${gf(e)})`}(e):u,f=t.displayName&&t.componentId?`${af(t.displayName)}-${t.componentId}`:t.componentId||l,p=r&&i.attrs?i.attrs.concat(s).filter(Boolean):s,m=t.shouldForwardProp;if(r&&i.shouldForwardProp){var h=i.shouldForwardProp;if(t.shouldForwardProp){var g=t.shouldForwardProp;m=function(e,t){return h(e,t)&&g(e,t)}}else m=h}var _=new wp(n,f,r?i.componentStyle:void 0);function v(e,t){return function(e,t,n){var r=e.attrs,i=e.componentStyle,a=e.defaultProps,o=e.foldedComponentIds,s=e.styledComponentId,c=e.target,l=b.useContext(Tp),u=mp(),d=e.shouldForwardProp||u.shouldForwardProp,f=ef(t,l,a)||$d,p=function(e,t,n){for(var r,i=Lu(Lu({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var o=Nf(r=e[a])?r(i):r;for(var s in o)i[s]=s===`className`?Ff(i[s],o[s]):s===`style`?Lu(Lu({},i[s]),o[s]):o[s]}return t.className&&(i.className=Ff(i.className,t.className)),i}(r,t,f),m=p.as||c,h={};for(var g in p)p[g]===void 0||g[0]===`$`||g===`as`||g===`theme`&&p.theme===f||(g===`forwardedAs`?h.as=p.forwardedAs:d&&!d(g,m)||(h[g]=p[g]));var _=function(e,t){var n=mp();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(i,p),v=Ff(o,s);return _&&(v+=` `+_),p.className&&(v+=` `+p.className),h[_f(m)&&!tf.has(m)?`class`:`className`]=v,n&&(h.ref=n),(0,b.createElement)(m,h)}(y,e,t)}v.displayName=d;var y=b.forwardRef(v);return y.attrs=p,y.componentStyle=_,y.displayName=d,y.shouldForwardProp=m,y.foldedComponentIds=r?Ff(i.foldedComponentIds,i.styledComponentId):``,y.styledComponentId=f,y.target=r?i.target:e,Object.defineProperty(y,`defaultProps`,{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=r?function(e){for(var t=[...arguments].slice(1),n=0,r=t;n<r.length;n++)Rf(e,r[n],!0);return e}({},i.defaultProps,e):e}}),zf(y,function(){return`.${y.styledComponentId}`}),a&&Mf(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function kp(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Ap=function(e){return Object.assign(e,{isCss:!0})};function jp(e){var t=[...arguments].slice(1);if(Nf(e)||Lf(e))return Ap(xp(kp(Qd,Ru([e],t,!0))));var n=e;return t.length===0&&n.length===1&&typeof n[0]==`string`?xp(n):Ap(xp(kp(n,t)))}function Mp(e,t,n){if(n===void 0&&(n=$d),!t)throw Bf(1,t);var r=function(r){var i=[...arguments].slice(1);return e(t,n,jp.apply(void 0,Ru([r],i,!1)))};return r.attrs=function(r){return Mp(e,t,Lu(Lu({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Mp(e,t,Lu(Lu({},n),r))},r}var Np=function(e){return Mp(Op,e)},L=Np;tf.forEach(function(e){L[e]=Np(e)});var Pp=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Sp(e),ap.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(If(xp(this.rules,t,n,r)),``),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&ap.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function Fp(e){var t=[...arguments].slice(1),n=jp.apply(void 0,Ru([e],t,!1)),r=`sc-global-${hf(JSON.stringify(n))}`,i=new Pp(n,r),a=function(e){var t=mp(),n=b.useContext(Tp),a=b.useRef(t.styleSheet.allocateGSInstance(r)).current;return t.styleSheet.server&&o(a,e,t.styleSheet,n,t.stylis),b.useLayoutEffect(function(){if(!t.styleSheet.server)return o(a,e,t.styleSheet,n,t.stylis),function(){return i.removeStyles(a,t.styleSheet)}},[a,e,t.styleSheet,n,t.stylis]),null};function o(e,t,n,r,o){if(i.isStatic)i.renderStyles(e,Zd,n,o);else{var s=Lu(Lu({},t),{theme:ef(t,r,a.defaultProps)});i.renderStyles(e,s,n,o)}}return b.memo(a)}function Ip(e){var t=[...arguments].slice(1),n=If(jp.apply(void 0,Ru([e],t,!1))),r=hf(n);return new gp(r,n)}(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return``;var n=Qf();return`<style ${If([n&&`nonce="${n}"`,`${Wd}="true"`,`${Kd}="${qd}"`].filter(Boolean),` `)}>${t}</style>`},this.getStyleTags=function(){if(e.sealed)throw Bf(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw Bf(2);var n=e.instance.toString();if(!n)return[];var r=((t={})[Wd]=``,t[Kd]=qd,t.dangerouslySetInnerHTML={__html:n},t),i=Qf();return i&&(r.nonce=i),[b.createElement(`style`,Lu({},r,{key:`sc-0-0`}))]},this.seal=function(){e.sealed=!0},this.instance=new ap({isServer:!0}),this.sealed=!1}return e.prototype.collectStyles=function(e){if(this.sealed)throw Bf(2);return b.createElement(hp,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Bf(3)},e})(),`${Wd}`;const Lp={colors:{primary:`#D32F2F`,primaryLight:`#FF6659`,primaryDark:`#B71C1C`,background:`#FFFFFF`,surface:`#F8F9FA`,surfaceVariant:`#F5F5F5`,text:`#212121`,textSecondary:`#757575`,textTertiary:`#9E9E9E`,border:`#E0E0E0`,divider:`#EEEEEE`,success:`#4CAF50`,warning:`#FF9800`,error:`#f44336`,info:`#2196F3`,hover:`rgba(211, 47, 47, 0.08)`,active:`rgba(211, 47, 47, 0.12)`,focus:`rgba(211, 47, 47, 0.16)`,gradient:`linear-gradient(135deg, #D32F2F 0%, #FF6659 100%)`,gradientReverse:`linear-gradient(135deg, #FF6659 0%, #D32F2F 100%)`,backgroundGradient:`linear-gradient(135deg, #FFFFFF 0%, #F8F9FA 100%)`,shadowLight:`rgba(211, 47, 47, 0.1)`,shadowMedium:`rgba(211, 47, 47, 0.15)`,shadowDark:`rgba(211, 47, 47, 0.2)`},shadows:{xs:`0 1px 2px rgba(211, 47, 47, 0.05)`,sm:`0 1px 3px rgba(211, 47, 47, 0.1), 0 1px 2px rgba(211, 47, 47, 0.06)`,md:`0 4px 6px rgba(211, 47, 47, 0.07), 0 2px 4px rgba(211, 47, 47, 0.06)`,lg:`0 10px 15px rgba(211, 47, 47, 0.1), 0 4px 6px rgba(211, 47, 47, 0.05)`,xl:`0 20px 25px rgba(211, 47, 47, 0.1), 0 10px 10px rgba(211, 47, 47, 0.04)`,xxl:`0 25px 50px rgba(211, 47, 47, 0.15)`,inner:`inset 0 2px 4px rgba(211, 47, 47, 0.06)`},borderRadius:{xs:`2px`,sm:`4px`,md:`8px`,lg:`12px`,xl:`16px`,xxl:`24px`,full:`50%`},spacing:{xs:`4px`,sm:`8px`,md:`12px`,lg:`16px`,xl:`24px`,xxl:`32px`,xxxl:`48px`},transitions:{fast:`0.15s cubic-bezier(0.4, 0, 0.2, 1)`,normal:`0.3s cubic-bezier(0.4, 0, 0.2, 1)`,slow:`0.5s cubic-bezier(0.4, 0, 0.2, 1)`,bounce:`0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55)`},animations:{fadeIn:`fadeIn 0.3s ease-out`,slideUp:`slideUp 0.4s ease-out`,slideDown:`slideDown 0.4s ease-out`,scaleIn:`scaleIn 0.2s ease-out`,bounce:`bounce 0.6s ease-out`,pulse:`pulse 2s infinite`,spin:`spin 1s linear infinite`},typography:{fontFamily:{primary:`"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,mono:`"Fira Code", "Monaco", "Consolas", monospace`},fontSize:{xs:`0.75rem`,sm:`0.875rem`,base:`1rem`,lg:`1.125rem`,xl:`1.25rem`,"2xl":`1.5rem`,"3xl":`1.875rem`,"4xl":`2.25rem`},fontWeight:{light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800},lineHeight:{tight:1.25,normal:1.5,relaxed:1.75}},breakpoints:{xs:`480px`,sm:`640px`,md:`768px`,lg:`1024px`,xl:`1280px`,xxl:`1536px`}},Rp={...Lp,colors:{...Lp.colors,primary:`#FF5252`,primaryLight:`#FF8A80`,primaryDark:`#D32F2F`,background:`#121212`,surface:`#1E1E1E`,surfaceVariant:`#2D2D2D`,text:`#FFFFFF`,textSecondary:`#B3B3B3`,textTertiary:`#808080`,border:`#333333`,divider:`#2D2D2D`,hover:`rgba(255, 82, 82, 0.08)`,active:`rgba(255, 82, 82, 0.12)`,focus:`rgba(255, 82, 82, 0.16)`,gradient:`linear-gradient(135deg, #FF5252 0%, #FF8A80 100%)`,gradientReverse:`linear-gradient(135deg, #FF8A80 0%, #FF5252 100%)`,backgroundGradient:`linear-gradient(135deg, #121212 0%, #1E1E1E 100%)`,shadowLight:`rgba(0, 0, 0, 0.2)`,shadowMedium:`rgba(0, 0, 0, 0.3)`,shadowDark:`rgba(0, 0, 0, 0.4)`},shadows:{xs:`0 1px 2px rgba(0, 0, 0, 0.2)`,sm:`0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)`,md:`0 4px 6px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.2)`,lg:`0 10px 15px rgba(0, 0, 0, 0.4), 0 4px 6px rgba(0, 0, 0, 0.2)`,xl:`0 20px 25px rgba(0, 0, 0, 0.4), 0 10px 10px rgba(0, 0, 0, 0.2)`,xxl:`0 25px 50px rgba(0, 0, 0, 0.5)`,inner:`inset 0 2px 4px rgba(0, 0, 0, 0.3)`}};var zp=s((exports=>{var t=p(),n=Symbol.for(`react.element`),r=Symbol.for(`react.fragment`),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,r){var s,c={},l=null,u=null;for(s in r!==void 0&&(l=``+r),t.key!==void 0&&(l=``+t.key),t.ref!==void 0&&(u=t.ref),t)i.call(t,s)&&!o.hasOwnProperty(s)&&(c[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)c[s]===void 0&&(c[s]=t[s]);return{$$typeof:n,type:e,key:l,ref:u,props:c,_owner:a.current}}exports.Fragment=r,exports.jsx=s,exports.jsxs=s})),R=u(s(((exports,t)=>{t.exports=zp()}))()),Bp=(0,b.createContext)();const Vp=()=>{let e=(0,b.useContext)(Bp);if(!e)throw Error(`useTheme must be used within a ThemeProvider`);return e},Hp=Lp,Up=Rp,Wp=({children:e})=>{let[t,n]=(0,b.useState)(()=>{let e=localStorage.getItem(`theme`);return e?e===`dark`:window.matchMedia(`(prefers-color-scheme: dark)`).matches}),r=t?Up:Hp,i=()=>{n(e=>{let t=!e;return localStorage.setItem(`theme`,t?`dark`:`light`),t})};(0,b.useEffect)(()=>{let e=window.matchMedia(`(prefers-color-scheme: dark)`),t=e=>{localStorage.getItem(`theme`)||n(e.matches)};return e.addEventListener(`change`,t),()=>e.removeEventListener(`change`,t)},[]);let a={theme:r,isDarkMode:t,toggleTheme:i};return(0,R.jsx)(Bp.Provider,{value:a,children:(0,R.jsx)(Ep,{theme:r,children:e})})};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Gp=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Kp=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},qp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gp(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Kp(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new Jp;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Jp=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},Yp=function(e){let t=Gp(e);return qp.encodeByteArray(t,!0)},Xp=function(e){return Yp(e).replace(/\./g,``)},Zp=function(e){try{return qp.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Qp(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var $p=()=>Qp().__FIREBASE_DEFAULTS__,em=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},tm=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Zp(e[1]);return t&&JSON.parse(t)},nm=()=>{try{return $p()||em()||tm()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},rm=e=>nm()?.emulatorHosts?.[e],im=e=>{let t=rm(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},am=()=>nm()?.config,om=e=>nm()?.[`_${e}`],sm=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function cm(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}}},e);return[Xp(JSON.stringify(n)),Xp(JSON.stringify(o)),``].join(`.`)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function lm(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function um(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lm())}function dm(){let e=nm()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function fm(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function pm(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function mm(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function hm(){let e=lm();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function gm(){return!dm()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function _m(){try{return typeof indexedDB==`object`}catch{return!1}}function vm(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var ym=`FirebaseError`,bm=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ym,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xm.prototype.create)}},xm=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?Sm(i,n):`Error`,o=`${this.serviceName}: ${a} (${r}).`;return new bm(r,o,n)}};function Sm(e,t){return e.replace(Cm,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var Cm=/\{\$([^}]+)}/g;function wm(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Tm(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(Em(n)&&Em(a)){if(!Tm(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function Em(e){return typeof e==`object`&&!!e}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Dm(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function Om(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function km(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function Am(e,t){let n=new jm(e,t);return n.subscribe.bind(n)}var jm=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=Mm(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=Nm),r.error===void 0&&(r.error=Nm),r.complete===void 0&&(r.complete=Nm);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Mm(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function Nm(){}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function z(e){return e&&e._delegate?e._delegate:e}var Pm=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},Fm=`[DEFAULT]`,Im=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new sm;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(Rm(e))try{this.getOrInitializeService({instanceIdentifier:Fm})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=Fm){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fm){return this.instances.has(e)}getOptions(e=Fm){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);n===i&&t.resolve(r)}return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Lm(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Fm){return this.component?this.component.multipleInstances?e:Fm:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function Lm(e){return e===Fm?void 0:e}function Rm(e){return e.instantiationMode===`EAGER`}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var zm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Im(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},Bm=[],B;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(B||={});var Vm={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},Hm=B.INFO,Um={[B.DEBUG]:`log`,[B.VERBOSE]:`log`,[B.INFO]:`info`,[B.WARN]:`warn`,[B.ERROR]:`error`},Wm=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Um[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Gm=class{constructor(e){this.name=e,this._logLevel=Hm,this._logHandler=Wm,this._userLogHandler=null,Bm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in B))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Vm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...e),this._logHandler(this,B.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...e),this._logHandler(this,B.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,B.INFO,...e),this._logHandler(this,B.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,B.WARN,...e),this._logHandler(this,B.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...e),this._logHandler(this,B.ERROR,...e)}},Km=(e,t)=>t.some(t=>e instanceof t),qm,Jm;function Ym(){return qm||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function Xm(){return Jm||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Zm=new WeakMap,Qm=new WeakMap,$m=new WeakMap,eh=new WeakMap,th=new WeakMap;function nh(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(ch(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&Zm.set(t,e)}).catch(()=>{}),th.set(t,e),t}function rh(e){if(Qm.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});Qm.set(e,t)}var ih={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return Qm.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||$m.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ch(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function ah(e){ih=e(ih)}function oh(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(lh(this),t,...n);return $m.set(r,t.sort?t.sort():[t]),ch(r)}:Xm().includes(e)?function(...t){return e.apply(lh(this),t),ch(Zm.get(this))}:function(...t){return ch(e.apply(lh(this),t))}}function sh(e){return typeof e==`function`?oh(e):(e instanceof IDBTransaction&&rh(e),Km(e,Ym())?new Proxy(e,ih):e)}function ch(e){if(e instanceof IDBRequest)return nh(e);if(eh.has(e))return eh.get(e);let t=sh(e);return t!==e&&(eh.set(e,t),th.set(t,e)),t}var lh=e=>th.get(e);function uh(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=ch(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(ch(o.result),e.oldVersion,e.newVersion,ch(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var dh=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],fh=[`put`,`add`,`delete`,`clear`],ph=new Map;function mh(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if(ph.get(t))return ph.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=fh.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dh.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return ph.set(t,a),a}ah(e=>({...e,get:(t,n,r)=>mh(t,n)||e.get(t,n,r),has:(t,n)=>!!mh(t,n)||e.has(t,n)}));
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var hh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(gh(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function gh(e){return e.getComponent()?.type===`VERSION`}var _h=`@firebase/app`,vh=`0.10.13`,yh=new Gm(`@firebase/app`),bh=`@firebase/app-compat`,xh=`@firebase/analytics-compat`,Sh=`@firebase/analytics`,Ch=`@firebase/app-check-compat`,wh=`@firebase/app-check`,Th=`@firebase/auth`,Eh=`@firebase/auth-compat`,Dh=`@firebase/database`,Oh=`@firebase/data-connect`,kh=`@firebase/database-compat`,Ah=`@firebase/functions`,jh=`@firebase/functions-compat`,Mh=`@firebase/installations`,Nh=`@firebase/installations-compat`,Ph=`@firebase/messaging`,Fh=`@firebase/messaging-compat`,Ih=`@firebase/performance`,Lh=`@firebase/performance-compat`,Rh=`@firebase/remote-config`,zh=`@firebase/remote-config-compat`,Bh=`@firebase/storage`,Vh=`@firebase/storage-compat`,Hh=`@firebase/firestore`,Uh=`@firebase/vertexai-preview`,Wh=`@firebase/firestore-compat`,Gh=`firebase`,Kh=`10.14.1`,qh=`[DEFAULT]`,Jh={[_h]:`fire-core`,[bh]:`fire-core-compat`,[Sh]:`fire-analytics`,[xh]:`fire-analytics-compat`,[wh]:`fire-app-check`,[Ch]:`fire-app-check-compat`,[Th]:`fire-auth`,[Eh]:`fire-auth-compat`,[Dh]:`fire-rtdb`,[Oh]:`fire-data-connect`,[kh]:`fire-rtdb-compat`,[Ah]:`fire-fn`,[jh]:`fire-fn-compat`,[Mh]:`fire-iid`,[Nh]:`fire-iid-compat`,[Ph]:`fire-fcm`,[Fh]:`fire-fcm-compat`,[Ih]:`fire-perf`,[Lh]:`fire-perf-compat`,[Rh]:`fire-rc`,[zh]:`fire-rc-compat`,[Bh]:`fire-gcs`,[Vh]:`fire-gcs-compat`,[Hh]:`fire-fst`,[Wh]:`fire-fst-compat`,[Uh]:`fire-vertex`,"fire-js":`fire-js`,[Gh]:`fire-js-all`},Yh=new Map,Xh=new Map,Zh=new Map;function Qh(e,t){try{e.container.addComponent(t)}catch(n){yh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $h(e){let t=e.name;if(Zh.has(t))return yh.debug(`There were multiple attempts to register component ${t}.`),!1;Zh.set(t,e);for(let t of Yh.values())Qh(t,e);for(let t of Xh.values())Qh(t,e);return!0}function eg(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function tg(e){return e.settings!==void 0}var ng=new xm(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),rg=class{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Pm(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ng.create(`app-deleted`,{appName:this._name})}},ig=Kh;function ag(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r=Object.assign({name:qh,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!=`string`||!i)throw ng.create(`bad-app-name`,{appName:String(i)});if(n||=am(),!n)throw ng.create(`no-options`);let a=Yh.get(i);if(a){if(Tm(n,a.options)&&Tm(r,a.config))return a;throw ng.create(`duplicate-app`,{appName:i})}let o=new zm(i);for(let e of Zh.values())o.addComponent(e);let s=new rg(n,r,o);return Yh.set(i,s),s}function og(e=qh){let t=Yh.get(e);if(!t&&e===`[DEFAULT]`&&am())return ag();if(!t)throw ng.create(`no-app`,{appName:e});return t}function sg(e,t,n){let r=Jh[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yh.warn(e.join(` `));return}$h(new Pm(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var cg=`firebase-heartbeat-database`,lg=1,ug=`firebase-heartbeat-store`,dg=null;function fg(){return dg||=uh(cg,lg,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ug)}catch(e){console.warn(e)}}}}).catch(e=>{throw ng.create(`idb-open`,{originalErrorMessage:e.message})}),dg}async function pg(e){try{let t=(await fg()).transaction(ug),n=await t.objectStore(ug).get(hg(e));return await t.done,n}catch(e){if(e instanceof bm)yh.warn(e.message);else{let t=ng.create(`idb-get`,{originalErrorMessage:e?.message});yh.warn(t.message)}}}async function mg(e,t){try{let n=(await fg()).transaction(ug,`readwrite`);await n.objectStore(ug).put(t,hg(e)),await n.done}catch(e){if(e instanceof bm)yh.warn(e.message);else{let t=ng.create(`idb-set`,{originalErrorMessage:e?.message});yh.warn(t.message)}}}function hg(e){return`${e.name}!${e.options.appId}`}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var gg=1024,_g=720*60*60*1e3,vg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider(`app`).getImmediate();this._storage=new xg(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=yg();return this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t)?void 0:(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=_g}),this._storage.overwrite(this._heartbeatsCache))}catch(e){yh.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=yg(),{heartbeatsToSend:t,unsentEntries:n}=bg(this._heartbeatsCache.heartbeats),r=Xp(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return yh.warn(e),``}}};function yg(){return new Date().toISOString().substring(0,10)}function bg(e,t=gg){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Sg(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sg(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var xg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _m()?vm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await pg(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return mg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return mg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function Sg(e){return Xp(JSON.stringify({version:2,heartbeats:e})).length}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Cg(e){$h(new Pm(`platform-logger`,e=>new hh(e),`PRIVATE`)),$h(new Pm(`heartbeat`,e=>new vg(e),`PRIVATE`)),sg(_h,vh,e),sg(_h,vh,`esm2017`),sg(`fire-js`,``)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Cg(``),sg(`firebase`,`10.14.1`,`app`);function wg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Tg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Eg=Tg,Dg=new xm(`auth`,`Firebase`,Tg()),Og=new Gm(`@firebase/auth`);function kg(e,...t){Og.logLevel<=B.WARN&&Og.warn(`Auth (${ig}): ${e}`,...t)}function Ag(e,...t){Og.logLevel<=B.ERROR&&Og.error(`Auth (${ig}): ${e}`,...t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function jg(e,...t){throw Ig(e,...t)}function Mg(e,...t){return Ig(e,...t)}function Ng(e,t,n){let r=Object.assign(Object.assign({},Eg()),{[t]:n});return new xm(`auth`,`Firebase`,r).create(t,{appName:e.name})}function Pg(e){return Ng(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Fg(e,t,n){let r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&jg(e,`argument-error`),Ng(e,`argument-error`,`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ig(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Dg.create(e,...t)}function V(e,t,...n){if(!e)throw Ig(t,...n)}function Lg(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw Ag(t),Error(t)}function Rg(e,t){e||Lg(t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function zg(){return typeof self<`u`&&self.location?.href||``}function Bg(){return Vg()===`http:`||Vg()===`https:`}function Vg(){return typeof self<`u`&&self.location?.protocol||null}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Hg(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(Bg()||pm()||`connection`in navigator)?navigator.onLine:!0}function Ug(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Wg=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rg(t>e,`Short delay should be less than long delay!`),this.isMobile=um()||mm()}get(){return Hg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Gg(e,t){Rg(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Kg=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;Lg(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;Lg(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;Lg(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},qg={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},Jg=new Wg(3e4,6e4);function Yg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Xg(e,t,n,r,i={}){return Zg(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=Dm(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c=Object.assign({method:t,headers:s},i);return fm()||(c.referrerPolicy=`no-referrer`),Kg.fetch()($g(e,e.config.apiHost,n,o),c)})}async function Zg(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},qg),t);try{let t=new t_(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw n_(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw n_(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw n_(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw n_(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw Ng(e,o,n);jg(e,o)}}catch(t){if(t instanceof bm)throw t;jg(e,`network-request-failed`,{message:String(t)})}}async function Qg(e,t,n,r,i={}){let a=await Xg(e,t,n,r,i);return`mfaPendingCredential`in a&&jg(e,`multi-factor-auth-required`,{_serverResponse:a}),a}function $g(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?Gg(e.config,i):`${e.config.apiScheme}://${i}`}function e_(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var t_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Mg(this.auth,`network-request-failed`)),Jg.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function n_(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Mg(e,t,r);return i.customData._tokenResponse=n,i}function r_(e){return e!==void 0&&e.enterprise!==void 0}var i_=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return e_(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}};async function a_(e,t){return Xg(e,`GET`,`/v2/recaptchaConfig`,Yg(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function o_(e,t){return Xg(e,`POST`,`/v1/accounts:delete`,t)}async function s_(e,t){return Xg(e,`POST`,`/v1/accounts:lookup`,t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function c_(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function l_(e,t=!1){let n=z(e),r=await n.getIdToken(t),i=d_(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:c_(u_(i.auth_time)),issuedAtTime:c_(u_(i.iat)),expirationTime:c_(u_(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function u_(e){return Number(e)*1e3}function d_(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return Ag(`JWT malformed, contained fewer than 3 sections`),null;try{let e=Zp(n);return e?JSON.parse(e):(Ag(`Failed to decode base64 JWT payload`),null)}catch(e){return Ag(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function f_(e){let t=d_(e);return V(t,`internal-error`),V(t.exp!==void 0,`internal-error`),V(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function p_(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof bm&&m_(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function m_({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var h_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},g_=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=c_(this.lastLoginAt),this.creationTime=c_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function __(e){let t=e.auth,n=await e.getIdToken(),r=await p_(e,s_(t,{idToken:n}));V(r?.users.length,t,`internal-error`);let i=r.users[0];e._notifyReloadListener(i);let a=i.providerUserInfo?.length?b_(i.providerUserInfo):[],o=y_(e.providerData,a),s=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!o?.length,l=s?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new g_(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(e,u)}async function v_(e){let t=z(e);await __(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function y_(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function b_(e){return e.map(e=>{var{providerId:t}=e,n=wg(e,[`providerId`]);return{providerId:t,uid:n.rawId||``,displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function x_(e,t){let n=await Zg(e,{},async()=>{let n=Dm({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=$g(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();return o[`Content-Type`]=`application/x-www-form-urlencoded`,Kg.fetch()(a,{method:`POST`,headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S_(e,t){return Xg(e,`POST`,`/v2/accounts:revokeToken`,Yg(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var C_=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,`internal-error`),V(e.idToken!==void 0,`internal-error`),V(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):f_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){V(e.length!==0,`internal-error`);let t=f_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await x_(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&(V(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&(V(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&(V(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Lg(`not implemented`)}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function w_(e,t){V(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var T_=class e{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=wg(e,[`uid`,`auth`,`stsTokenManager`]);this.providerId=`firebase`,this.proactiveRefresh=new h_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new g_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await p_(this,this.stsTokenManager.getToken(this.auth,e));return V(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return l_(this,e)}reload(){return v_(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await __(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tg(this.auth.app))return Promise.reject(Pg(this.auth));let e=await this.getIdToken();return await p_(this,o_(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;V(d&&h,t,`internal-error`);let g=C_.fromJSON(this.name,h);V(typeof d==`string`,t,`internal-error`),w_(r,t.name),w_(i,t.name),V(typeof f==`boolean`,t,`internal-error`),V(typeof p==`boolean`,t,`internal-error`),w_(a,t.name),w_(o,t.name),w_(s,t.name),w_(c,t.name),w_(l,t.name),w_(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>Object.assign({},e))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new C_;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await __(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];V(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:b_(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new C_;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new g_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},E_=new Map;function D_(e){Rg(e instanceof Function,`Expected a class definition`);let t=E_.get(e);return t?(Rg(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,E_.set(e,t),t)}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var O_=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};O_.type=`NONE`;var k_=O_;
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function A_(e,t,n){return`firebase:${e}:${t}:${n}`}var j_=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=A_(this.userKey,r.apiKey,i),this.fullPersistenceKey=A_(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?T_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(D_(k_),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||D_(k_),o=A_(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r=T_._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function M_(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(I_(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(N_(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(R_(t))return`Blackberry`;if(z_(t))return`Webos`;if(P_(t))return`Safari`;if((t.includes(`chrome/`)||F_(t))&&!t.includes(`edge/`))return`Chrome`;if(L_(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function N_(e=lm()){return/firefox\//i.test(e)}function P_(e=lm()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function F_(e=lm()){return/crios\//i.test(e)}function I_(e=lm()){return/iemobile/i.test(e)}function L_(e=lm()){return/android/i.test(e)}function R_(e=lm()){return/blackberry/i.test(e)}function z_(e=lm()){return/webos/i.test(e)}function B_(e=lm()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function V_(e=lm()){return B_(e)&&!!window.navigator?.standalone}function H_(){return hm()&&document.documentMode===10}function U_(e=lm()){return B_(e)||L_(e)||z_(e)||R_(e)||/windows phone/i.test(e)||I_(e)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function W_(e,t=[]){let n;switch(e){case`Browser`:n=M_(lm());break;case`Worker`:n=`${M_(lm())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${ig}/${r}`}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var G_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function K_(e,t={}){return Xg(e,`GET`,`/v2/passwordPolicy`,Yg(e,t))}
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var q_=6,J_=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??q_,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},Y_=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new G_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=D_(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await j_.create(this,e),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await s_(this,{idToken:e}),n=await T_._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tg(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await __(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ug()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tg(this.app))return Promise.reject(Pg(this));let t=e?z(e):null;return t&&V(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tg(this.app)?Promise.reject(Pg(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tg(this.app)?Promise.reject(Pg(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(D_(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await K_(this),t=new J_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xm(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),n={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await S_(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&D_(e)||this._popupRedirectResolver;V(t,this,`argument-error`),this.redirectPersistenceManager=await j_.create(this,[D_(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kg(`Error while retrieving App Check token: ${e.error}`),e?.token}};function X_(e){return z(e)}var Z_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Am(e=>this.observer=e)}get next(){return V(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},Q_={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function $_(e){Q_=e}function ev(e){return Q_.loadJS(e)}function tv(){return Q_.recaptchaEnterpriseScript}function nv(){return Q_.gapiScript}function rv(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var iv=`recaptcha-enterprise`,av=`NO_RECAPTCHA`,ov=class{constructor(e){this.type=iv,this.auth=X_(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{a_(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new i_(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;r_(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(av)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&r_(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=tv();t.length!==0&&(t+=n),ev(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function sv(e,t,n,r=!1){let i=new ov(e),a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}let o=Object.assign({},t);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(o,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),o}async function cv(e,t,n,r){if(e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)){let i=await sv(e,t,n,n===`getOobCode`);return r(e,i)}else return r(e,t).catch(async i=>{if(i.code===`auth/missing-recaptcha-token`){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await sv(e,t,n,n===`getOobCode`);return r(e,i)}else return Promise.reject(i)})}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function lv(e,t){let n=eg(e,`auth`);if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if(Tm(r,t??{}))return e;jg(e,`already-initialized`)}return n.initialize({options:t})}function uv(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(D_);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function dv(e,t,n){let r=X_(e);V(r._canInitEmulator,r,`emulator-config-failed`),V(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=fv(t),{host:o,port:s}=pv(t),c=s===null?``:`:${s}`;r.config.emulator={url:`${a}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})}),i||hv()}function fv(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function pv(e){let t=fv(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:mv(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:mv(t)}}}function mv(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function hv(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var gv=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lg(`not implemented`)}_getIdTokenResponse(e){return Lg(`not implemented`)}_linkToIdToken(e,t){return Lg(`not implemented`)}_getReauthenticationResolver(e){return Lg(`not implemented`)}};async function _v(e,t){return Xg(e,`POST`,`/v1/accounts:signUp`,t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function vv(e,t){return Qg(e,`POST`,`/v1/accounts:signInWithPassword`,Yg(e,t))}async function yv(e,t){return Xg(e,`POST`,`/v1/accounts:sendOobCode`,Yg(e,t))}async function bv(e,t){return yv(e,t)}async function xv(e,t){return yv(e,t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Sv(e,t){return Qg(e,`POST`,`/v1/accounts:signInWithEmailLink`,Yg(e,t))}async function Cv(e,t){return Qg(e,`POST`,`/v1/accounts:signInWithEmailLink`,Yg(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var wv=class e extends gv{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`};return cv(e,t,`signInWithPassword`,vv);case`emailLink`:return Sv(e,{email:this._email,oobCode:this._password});default:jg(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:let n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`};return cv(e,n,`signUpPassword`,_v);case`emailLink`:return Cv(e,{idToken:t,email:this._email,oobCode:this._password});default:jg(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Tv(e,t){return Qg(e,`POST`,`/v1/accounts:signInWithIdp`,Yg(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ev=`http://localhost`,Dv=class e extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jg(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let n=typeof t==`string`?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,a=wg(n,[`providerId`,`signInMethod`]);if(!r||!i)return null;let o=new e(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){let t=this.buildRequest();return Tv(e,t)}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,Tv(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Tv(e,t)}buildRequest(){let e={requestUri:Ev,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dm(t)}return e}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Ov(e,t){return Xg(e,`POST`,`/v1/accounts:sendVerificationCode`,Yg(e,t))}async function kv(e,t){return Qg(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Yg(e,t))}async function Av(e,t){let n=await Qg(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Yg(e,t));if(n.temporaryProof)throw n_(e,`account-exists-with-different-credential`,n);return n}var jv={USER_NOT_FOUND:`user-not-found`};async function Mv(e,t){let n=Object.assign(Object.assign({},t),{operation:`REAUTH`});return Qg(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Yg(e,n),jv)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Nv=class e extends gv{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return kv(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return Av(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Mv(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Pv(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function Fv(e){let t=Om(km(e)).link,n=t?Om(km(t)).deep_link_id:null,r=Om(km(e)).deep_link_id;return(r?Om(km(r)).link:null)||r||n||t||e}var Iv=class e{constructor(e){let t=Om(km(e)),n=t.apiKey??null,r=t.oobCode??null,i=Pv(t.mode??null);V(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.languageCode??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=Fv(t);try{return new e(n)}catch{return null}}},Lv=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return wv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=Iv.parseLink(t);return V(n,`argument-error`),wv._fromEmailAndCode(e,n.code,n.tenantId)}};Lv.PROVIDER_ID=`password`,Lv.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,Lv.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Rv=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},zv=class extends Rv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},Bv=class e extends zv{constructor(){super(`facebook.com`)}static credential(t){return Dv._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Bv.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,Bv.PROVIDER_ID=`facebook.com`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Vv=class e extends zv{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return Dv._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};Vv.GOOGLE_SIGN_IN_METHOD=`google.com`,Vv.PROVIDER_ID=`google.com`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Hv=class e extends zv{constructor(){super(`github.com`)}static credential(t){return Dv._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};Hv.GITHUB_SIGN_IN_METHOD=`github.com`,Hv.PROVIDER_ID=`github.com`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Uv=class e extends zv{constructor(){super(`twitter.com`)}static credential(t,n){return Dv._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};Uv.TWITTER_SIGN_IN_METHOD=`twitter.com`,Uv.PROVIDER_ID=`twitter.com`;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Wv(e,t){return Qg(e,`POST`,`/v1/accounts:signUp`,Yg(e,t))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Gv=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){let a=await T_._fromIdTokenResponse(t,r,i),o=Kv(r);return new e({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);let i=Kv(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})}};function Kv(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var qv=class e extends bm{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function Jv(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?qv._fromErrorAndOperation(e,n,t,r):n})}async function Yv(e,t,n=!1){let r=await p_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Gv._forOperation(e,`link`,r)}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Xv(e,t,n=!1){let{auth:r}=e;if(tg(r.app))return Promise.reject(Pg(r));let i=`reauthenticate`;try{let a=await p_(e,Jv(r,i,t,e),n);V(a.idToken,r,`internal-error`);let o=d_(a.idToken);V(o,r,`internal-error`);let{sub:s}=o;return V(e.uid===s,r,`user-mismatch`),Gv._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&jg(r,`user-mismatch`),e}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function Zv(e,t,n=!1){if(tg(e.app))return Promise.reject(Pg(e));let r=`signIn`,i=await Jv(e,r,t),a=await Gv._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Qv(e,t){return Zv(X_(e),t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function $v(e,t,n){V(n.url?.length>0,e,`invalid-continue-uri`),V(n.dynamicLinkDomain===void 0||n.dynamicLinkDomain.length>0,e,`invalid-dynamic-link-domain`),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,e,`missing-ios-bundle-id`),t.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,e,`missing-android-pkg-name`),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function ey(e){let t=X_(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ty(e,t,n){let r=X_(e),i={requestType:`PASSWORD_RESET`,email:t,clientType:`CLIENT_TYPE_WEB`};n&&$v(r,i,n),await cv(r,i,`getOobCode`,xv)}async function ny(e,t,n){if(tg(e.app))return Promise.reject(Pg(e));let r=X_(e),i=await cv(r,{returnSecureToken:!0,email:t,password:n,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,Wv).catch(t=>{throw t.code===`auth/password-does-not-meet-requirements`&&ey(e),t}),a=await Gv._fromIdTokenResponse(r,`signIn`,i);return await r._updateCurrentUser(a.user),a}function ry(e,t,n){return tg(e.app)?Promise.reject(Pg(e)):Qv(z(e),Lv.credential(t,n)).catch(async t=>{throw t.code===`auth/password-does-not-meet-requirements`&&ey(e),t})}async function iy(e,t){let n=z(e),r={requestType:`VERIFY_EMAIL`,idToken:await e.getIdToken()};t&&$v(n.auth,r,t);let{email:i}=await bv(n.auth,r);i!==e.email&&await e.reload()}function ay(e,t,n,r){return z(e).onIdTokenChanged(t,n,r)}function oy(e,t,n){return z(e).beforeAuthStateChanged(t,n)}function sy(e,t,n,r){return z(e).onAuthStateChanged(t,n,r)}function cy(e){return z(e).signOut()}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ly(e,t){return Xg(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Yg(e,t))}function uy(e,t){return Xg(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Yg(e,t))}function dy(e,t){return Xg(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Yg(e,t))}function fy(e,t){return Xg(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Yg(e,t))}var py=`__sak`,my=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(py,`1`),this.storage.removeItem(py),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},hy=1e3,gy=10,_y=class extends my{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);H_()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,gy):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},hy)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};_y.type=`LOCAL`;var vy=_y,yy=class extends my{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};yy.type=`SESSION`;var by=yy;
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function xy(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Sy=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=Array.from(a).map(async e=>e(t.origin,i)),s=await xy(o);t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:s})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};Sy.receivers=[];
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Cy(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var wy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=Cy(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ty(){return window}function Ey(e){Ty().location.href=e}
/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Dy(){return Ty().WorkerGlobalScope!==void 0&&typeof Ty().importScripts==`function`}async function Oy(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ky(){return(navigator==null?void 0:navigator.serviceWorker)?.controller||null}function Ay(){return Dy()?self:null}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var jy=`firebaseLocalStorageDb`,My=1,Ny=`firebaseLocalStorage`,Py=`fbase_key`,Fy=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function Iy(e,t){return e.transaction([Ny],t?`readwrite`:`readonly`).objectStore(Ny)}function Ly(){let e=indexedDB.deleteDatabase(jy);return new Fy(e).toPromise()}function Ry(){let e=indexedDB.open(jy,My);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(Ny,{keyPath:Py})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(Ny)?t(n):(n.close(),await Ly(),t(await Ry()))})})}async function zy(e,t,n){let r=Iy(e,!0).put({[Py]:t,value:n});return new Fy(r).toPromise()}async function By(e,t){let n=Iy(e,!1).get(t),r=await new Fy(n).toPromise();return r===void 0?null:r.value}function Vy(e,t){let n=Iy(e,!0).delete(t);return new Fy(n).toPromise()}var Hy=800,Uy=3,Wy=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await Ry(),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>Uy)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return Dy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sy._getInstance(Ay()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await Oy(),!this.activeServiceWorker)return;this.sender=new wy(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ky()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await Ry();return await zy(e,py,`1`),await Vy(e,py),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zy(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>By(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>{let t=Iy(e,!1).getAll();return new Fy(t).toPromise()});if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hy)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Wy.type=`LOCAL`;var Gy=Wy;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Ky(e,t){return Xg(e,`POST`,`/v2/accounts/mfaSignIn:start`,Yg(e,t))}function qy(e,t){return Xg(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Yg(e,t))}function Jy(e,t){return Xg(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Yg(e,t))}rv(`rcb`),new Wg(3e4,6e4);
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Yy=`recaptcha`;async function Xy(e,t,n){let r=await n.verify();try{V(typeof r==`string`,e,`argument-error`),V(n.type===Yy,e,`argument-error`);let i;if(i=typeof t==`string`?{phoneNumber:t}:t,`session`in i){let t=i.session;if(`phoneNumber`in i)return V(t.type===`enroll`,e,`internal-error`),(await ly(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{V(t.type===`signin`,e,`internal-error`);let n=i.multiFactorHint?.uid||i.multiFactorUid;return V(n,e,`missing-multi-factor-info`),(await Ky(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:t}=await Ov(e,{phoneNumber:i.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Zy=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=X_(t)}verifyPhoneNumber(e,t){return Xy(this.auth,e,z(t))}static credential(e,t){return Nv._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?Nv._fromTokenResponse(t,n):null}};Zy.PROVIDER_ID=`phone`,Zy.PHONE_SIGN_IN_METHOD=`phone`;
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Qy(e,t){return t?D_(t):(V(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var $y=class extends gv{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return Tv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function eb(e){return Zv(e.auth,new $y(e),e.bypassAuthState)}function tb(e){let{auth:t,user:n}=e;return V(n,t,`internal-error`),Xv(n,new $y(e),e.bypassAuthState)}async function nb(e){let{auth:t,user:n}=e;return V(n,t,`internal-error`),Yv(n,new $y(e),e.bypassAuthState)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var rb=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return eb;case`linkViaPopup`:case`linkViaRedirect`:return nb;case`reauthViaPopup`:case`reauthViaRedirect`:return tb;default:jg(this.auth,`internal-error`)}}resolve(e){Rg(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rg(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},ib=new Wg(2e3,1e4);async function ab(e,t,n){if(tg(e.app))return Promise.reject(Mg(e,`operation-not-supported-in-this-environment`));let r=X_(e);Fg(e,t,Rv);let i=Qy(r,n);return new ob(r,`signInViaPopup`,t,i).executeNotNull()}var ob=class e extends rb{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return V(e,this.auth,`internal-error`),e}async onExecution(){Rg(this.filter.length===1,`Popup operations only handle one event`);let e=Cy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Mg(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mg(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mg(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,ib.get())};e()}};ob.currentPopupAction=null;
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var sb=`pendingRedirect`,cb=new Map,lb=class extends rb{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=cb.get(this.auth._key());if(!e){try{let t=await ub(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}cb.set(this.auth._key(),e)}return this.bypassAuthState||cb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function ub(e,t){let n=pb(t),r=fb(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function db(e,t){cb.set(e._key(),t)}function fb(e){return D_(e._redirectPersistence)}function pb(e){return A_(sb,e.config.apiKey,e.name)}async function mb(e,t,n=!1){if(tg(e.app))return Promise.reject(Pg(e));let r=X_(e),i=Qy(r,t),a=await new lb(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var hb=600*1e3,gb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yb(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!vb(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(Mg(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hb&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}};function _b(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function vb({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function yb(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return vb(e);default:return!1}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function bb(e,t={}){return Xg(e,`GET`,`/v1/projects`,t)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var xb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sb=/^https?/;async function Cb(e){if(e.config.emulator)return;let{authorizedDomains:t}=await bb(e);for(let e of t)try{if(wb(e))return}catch{}jg(e,`unauthorized-domain`)}function wb(e){let t=zg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!Sb.test(n))return!1;if(xb.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}
/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Tb=new Wg(3e4,6e4);function Eb(){let e=Ty().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function Db(e){return new Promise((t,n)=>{function r(){Eb(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Eb(),n(Mg(e,`network-request-failed`))},timeout:Tb.get()})}if(Ty().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ty().gapi?.load)r();else{let t=rv(`iframefcb`);return Ty()[t]=()=>{gapi.load?r():n(Mg(e,`network-request-failed`))},ev(`${nv()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw Ob=null,e})}var Ob=null;function kb(e){return Ob||=Db(e),Ob}
/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ab=new Wg(5e3,15e3),jb=`__/auth/iframe`,Mb=`emulator/auth/iframe`,Nb={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},Pb=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function Fb(e){let t=e.config;V(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?Gg(t,Mb):`https://${e.config.authDomain}/${jb}`,r={apiKey:t.apiKey,appName:e.name,v:ig},i=Pb.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${Dm(r).slice(1)}`}async function Ib(e){let t=await kb(e),n=Ty().gapi;return V(n,e,`internal-error`),t.open({where:document.body,url:Fb(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nb,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=Mg(e,`network-request-failed`),a=Ty().setTimeout(()=>{r(i)},Ab.get());function o(){Ty().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}
/**
* @license
* Copyright 2020 Google LLC.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Lb={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},Rb=500,zb=600,Bb=`_blank`,Vb=`http://localhost`,Hb=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Ub(e,t,n,r=Rb,i=zb){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c=Object.assign(Object.assign({},Lb),{width:r.toString(),height:i.toString(),top:a,left:o}),l=lm().toLowerCase();n&&(s=F_(l)?Bb:n),N_(l)&&(t||=Vb,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(V_(l)&&s!==`_self`)return Wb(t||``,s),new Hb(null);let d=window.open(t||``,s,u);V(d,e,`popup-blocked`);try{d.focus()}catch{}return new Hb(d)}function Wb(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Gb=`__/auth/handler`,Kb=`emulator/auth/handler`,qb=`fac`;async function Jb(e,t,n,r,i,a){V(e.config.authDomain,e,`auth-domain-config-required`),V(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ig,eventId:i};if(t instanceof Rv){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,wm(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof zv){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${qb}=${encodeURIComponent(c)}`:``;return`${Yb(e)}?${Dm(s).slice(1)}${l}`}function Yb({config:e}){return e.emulator?Gg(e,Kb):`https://${e.authDomain}/${Gb}`}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Xb=`webStorageSupport`,Zb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=by,this._completeRedirectFn=mb,this._overrideRedirectResult=db}async _openPopup(e,t,n,r){Rg(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`);let i=await Jb(e,t,n,zg(),r);return Ub(e,i,Cy())}async _openRedirect(e,t,n,r){await this._originValidation(e);let i=await Jb(e,t,n,zg(),r);return Ey(i),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Rg(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await Ib(e),n=new gb(e);return t.register(`authEvent`,t=>(V(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xb,{type:Xb},n=>{let r=n?.[0]?.[Xb];r!==void 0&&t(!!r),jg(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Cb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return U_()||P_()||B_()}},Qb=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return Lg(`unexpected MultiFactorSessionType`)}}},$b=class e extends Qb{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return uy(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return qy(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},ex=class{constructor(){}static assertion(e){return $b._fromCredential(e)}};ex.FACTOR_ID=`phone`;var tx=class{static assertionForEnrollment(e,t){return nx._fromSecret(e,t)}static assertionForSignIn(e,t){return nx._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;V(t.user?.auth!==void 0,`internal-error`);let n=await dy(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return rx._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};tx.FACTOR_ID=`totp`;var nx=class e extends Qb{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return V(this.secret!==void 0,e,`argument-error`),fy(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){V(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Jy(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},rx=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(ix(e)||ix(t))&&(n=!0),n&&(ix(e)&&(e=this.auth.currentUser?.email||`unknownuser`),ix(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function ix(e){return e===void 0||e?.length===0}var ax=`@firebase/auth`,ox=`1.7.9`,sx=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function cx(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function lx(e){$h(new Pm(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;V(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c={apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:W_(e)},l=new Y_(r,i,a,c);return uv(l,n),l},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),$h(new Pm(`auth-internal`,e=>(e=>new sx(e))(X_(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),sg(ax,ox,cx(e)),sg(ax,ox,`esm2017`)}var ux=om(`authIdTokenMaxAge`)||300,dx=null,fx=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ux)return;let i=n?.token;dx!==i&&(dx=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function px(e=og()){let t=eg(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=lv(e,{popupRedirectResolver:Zb,persistence:[Gy,vy,by]}),r=om(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=fx(e.toString());oy(n,t,()=>t(n.currentUser)),ay(n,e=>t(e))}}let i=rm(`auth`);return i&&dv(n,`http://${i}`),n}function mx(){return document.getElementsByTagName(`head`)?.[0]??document}$_({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=Mg(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,mx().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),lx(`Browser`);var hx=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},gx={},_x,vx;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;var r=Array(16);if(typeof t==`string`)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.u=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.B,a=this.h,o=0;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&128>e?a(e,function(e){return new o([e|0],0>e?-1:0)}):new o([e|0],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(0>e)return g(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,2>t||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(0<=e.indexOf(`-`))throw Error(`number format error: interior "-" character`);for(var n=l(t**8),r=d,i=0;i<e.length;i+=8){var a=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+a),t);8>a?(a=l(t**+a),r=r.j(a).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,2>e||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);for(var t=l(e**6),n=this,r=``;;){var i=b(n,t).g;n=_(n,i.j(t));var a=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;6>a.length;)a=`0`+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(this.i(i)&65535)+(e.i(i)&65535),s=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(0>this.l(p)&&0>e.l(p))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.i(r)>>>16,s=this.i(r)&65535,c=e.i(i)>>>16,u=e.i(i)&65535;n[2*r+2*i]+=s*u,v(n,2*r+2*i),n[2*r+2*i+1]+=a*u,v(n,2*r+2*i+1),n[2*r+2*i+1]+=s*c,v(n,2*r+2*i+1),n[2*r+2*i+2]+=a*c,v(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;0>=r.l(e);)n=x(n),r=x(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!m(r);){var o=a.add(r);0>=o.l(e)&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:2**(r-48),a=l(n),o=a.j(t);h(o)||0<o.l(e);)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.A=function(e){return b(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function S(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vx=gx.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,_x=gx.Integer=o}).apply(hx===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:hx);var yx=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},bx={},xx,Sx,Cx,wx,Tx,Ex,Dx,Ox;(function(){var e,t=typeof Object.defineProperties==`function`?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof yx==`object`&&yx];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}function a(e,t){e instanceof String&&(e+=``);var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}i(`Array.prototype.values`,function(e){return e||function(){return a(this,function(e,t){return t})}});var o=o||{},s=this||self;function c(e){var t=typeof e;return t=t==`object`?e?Array.isArray(e)?`array`:t:`null`:t,t==`array`||t==`object`&&typeof e.length==`number`}function l(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function u(e,t,n){return e.call.apply(e.bind,arguments)}function d(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function f(e,t,n){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf(`native code`)!=-1?u:d,f.apply(null,arguments)}function p(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function g(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(c(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}class _{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function v(e){return/^[\s\xa0]*$/.test(e)}function y(){var e=s.navigator;return(e&&=e.userAgent)?e:``}function b(e){return b[` `](e),e}b[` `]=function(){};var x=y().indexOf(`Gecko`)!=-1&&!(y().toLowerCase().indexOf(`webkit`)!=-1&&y().indexOf(`Edge`)==-1)&&!(y().indexOf(`Trident`)!=-1||y().indexOf(`MSIE`)!=-1)&&y().indexOf(`Edge`)==-1;function S(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function C(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function ee(e){let t={};for(let n in e)t[n]=e[n];return t}let w=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function te(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ne(e){var t=1;e=e.split(`:`);let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function re(e){s.setTimeout(()=>{throw e},0)}function ie(){var e=ue;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class ae{constructor(){this.h=this.g=null}add(e,t){let n=oe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var oe=new _(()=>new se,e=>e.reset());class se{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,le=!1,ue=new ae,de=()=>{let e=s.Promise.resolve(void 0);ce=()=>{e.then(fe)}};var fe=()=>{for(var e;e=ie();){try{e.h.call(e.g)}catch(e){re(e)}var t=oe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}le=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};s.addEventListener(`test`,e,t),s.removeEventListener(`test`,e,t)}catch{}return e}();function he(e,t){if(T.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(x){a:{try{b(t.nodeName);var i=!0;break a}catch{}i=!1}i||(t=null)}}else n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType==`string`?e.pointerType:ge[e.pointerType]||``,this.state=e.state,this.i=e,e.defaultPrevented&&he.aa.h.call(this)}}m(he,T);var ge={2:`touch`,3:`pen`,4:`mouse`};he.prototype.h=function(){he.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _e=`closure_listenable_`+(1e6*Math.random()|0),ve=0;function ye(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ve,this.da=this.fa=!1}function be(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function xe(e){this.src=e,this.g={},this.h=0}xe.prototype.add=function(e,t,n,r,i){var a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);var o=Ce(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new ye(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function Se(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(be(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ce(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var we=`closure_lm_`+(1e6*Math.random()|0),Te={};function Ee(e,t,n,r,i){if(r&&r.once)return ke(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ee(e,t[a],n,r,i);return null}return n=Ie(n),e&&e[_e]?e.K(t,n,l(r)?!!r.capture:!!r,i):De(e,t,n,!1,r,i)}function De(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);var o=l(i)?!!i.capture:!!i,s=Pe(e);if(s||(e[we]=s=new xe(e)),n=s.add(t,n,r,o,a),n.proxy)return n;if(r=Oe(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)me||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Me(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function Oe(){function e(n){return t.call(e.src,e.listener,n)}let t=Ne;return e}function ke(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ke(e,t[a],n,r,i);return null}return n=Ie(n),e&&e[_e]?e.L(t,n,l(r)?!!r.capture:!!r,i):De(e,t,n,!0,r,i)}function Ae(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ae(e,t[a],n,r,i);else r=l(r)?!!r.capture:!!r,n=Ie(n),e&&e[_e]?(e=e.i,t=String(t).toString(),t in e.g&&(a=e.g[t],n=Ce(a,n,r,i),-1<n&&(be(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete e.g[t],e.h--)))):(e&&=Pe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ce(t,n,r,i)),(n=-1<e?t[e]:null)&&je(n))}function je(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[_e])Se(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Me(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pe(t))?(Se(n,e),n.h==0&&(n.src=null,t[we]=null)):be(e)}}}function Me(e){return e in Te?Te[e]:Te[e]=`on`+e}function Ne(e,t){if(e.da)e=!0;else{t=new he(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&je(e),e=n.call(r,t)}return e}function Pe(e){return e=e[we],e instanceof xe?e:null}var Fe=`__closure_events_fn_`+(1e9*Math.random()>>>0);function Ie(e){return typeof e==`function`?e:(e[Fe]||(e[Fe]=function(t){return e.handleEvent(t)}),e[Fe])}function Le(){pe.call(this),this.i=new xe(this),this.M=this,this.F=null}m(Le,pe),Le.prototype[_e]=!0,Le.prototype.removeEventListener=function(e,t,n,r){Ae(this,e,t,n,r)};function Re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new T(t,e);else if(t instanceof T)t.target=t.target||e;else{var i=t;t=new T(r,e),te(t,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ze(o,r,!0,t)&&i}if(o=t.g=e,i=ze(o,r,!0,t)&&i,i=ze(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)o=t.g=n[a],i=ze(o,r,!1,t)&&i}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)be(n[r]);delete e.g[t],e.h--}}this.F=null},Le.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Le.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ze(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,c=o.ha||o.src;o.fa&&Se(e.i,o),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}function Be(e,t,n){if(typeof e==`function`)n&&(e=f(e,n));else if(e&&typeof e.handleEvent==`function`)e=f(e.handleEvent,e);else throw Error(`Invalid listener argument`);return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Ve(e){e.g=Be(()=>{e.g=null,e.i&&(e.i=!1,Ve(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class He extends pe{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(e){pe.call(this),this.h=e,this.g={}}m(Ue,pe);var We=[];function Ge(e){S(e.g,function(e,t){this.g.hasOwnProperty(t)&&je(e)},e),e.g={}}Ue.prototype.N=function(){Ue.aa.N.call(this),Ge(this)},Ue.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Ke=s.JSON.stringify,qe=s.JSON.parse,Je=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function Ye(){}Ye.prototype.h=null;function Xe(e){return e.h||=e.i()}function Ze(){}var Qe={OPEN:`a`,kb:`b`,Ja:`c`,wb:`d`};function $e(){T.call(this,`d`)}m($e,T);function et(){T.call(this,`c`)}m(et,T);var tt={},nt=null;function rt(){return nt||=new Le}tt.La=`serverreachability`;function it(e){T.call(this,tt.La,e)}m(it,T);function at(e){let t=rt();Re(t,new it(t))}tt.STAT_EVENT=`statevent`;function ot(e,t){T.call(this,tt.STAT_EVENT,e),this.stat=t}m(ot,T);function st(e){let t=rt();Re(t,new ot(t,e))}tt.Ma=`timingevent`;function ct(e,t){T.call(this,tt.Ma,e),this.size=t}m(ct,T);function lt(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return s.setTimeout(function(){e()},t)}function ut(){this.g=!0}ut.prototype.xa=function(){this.g=!1};function dt(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o=``,s=a.split(`&`),c=0;c<s.length;c++){var l=s[c].split(`=`);if(1<l.length){var u=l[0];l=l[1];var d=u.split(`_`);o=2<=d.length&&d[1]==`type`?o+(u+`=`+l+`&`):o+(u+`=redacted&`)}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function ft(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function pt(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+ht(e,n)+(r?` `+r:``)})}function mt(e,t){e.info(function(){return`TIMEOUT: `+t})}ut.prototype.info=function(){};function ht(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if(a!=`noop`&&a!=`stop`&&a!=`close`)for(var o=1;o<i.length;o++)i[o]=``}}}}return Ke(n)}catch{return t}}var gt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_t={lb:`complete`,Hb:`success`,Ja:`error`,Ia:`abort`,zb:`ready`,Ab:`readystatechange`,TIMEOUT:`timeout`,vb:`incrementaldata`,yb:`progress`,ob:`downloadprogress`,Pb:`uploadprogress`},E;function vt(){}m(vt,Ye),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},E=new vt;function yt(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new Ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g=``,this.h=!1}var xt={},St={};function Ct(e,t,n){e.L=1,e.v=Zt(qt(t)),e.m=n,e.P=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),Dt(e),e.A=qt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),un(n.i,`t`,r),e.C=0,n=e.j.J,e.h=new bt,e.g=er(e.j,n?t:null,!e.m),0<e.O&&(e.M=new He(f(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i=`readystatechange`;Array.isArray(i)||(i&&(We[0]=i.toString()),i=We);for(var a=0;a<i.length;a++){var o=Ee(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?ee(e.H):{},e.m?(e.u||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.A,e.u,e.m,t)):(e.u=`GET`,e.g.ea(e.A,e.u,null,t)),at(),dt(e.i,e.u,e.A,e.l,e.R,e.m)}yt.prototype.ca=function(e){e=e.target;let t=this.M;t&&Mn(e)==3?t.j():this.Y(e)},yt.prototype.Y=function(e){try{if(e==this.g)a:{let f=Mn(this.g);var t=this.g.Ba();let p=this.g.Z();if(!(3>f)&&(f!=3||this.g&&(this.h.h||this.g.oa()||Nn(this.g)))){this.J||f!=4||t==7||at(t==8||0>=p?3:2),kt(this);var n=this.g.Z();this.X=n;b:if(Tt(this)){var r=Nn(this.g);e=``;var i=r.length,a=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>`u`){jt(this),At(this);var o=``;break b}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=n==200,ft(this.i,this.u,this.A,this.l,this.R,f,n),this.o){if(this.T&&!this.K){b:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!v(c)){var u=c;break b}}u=null}if(n=u)pt(this.i,this.l,n,`Initial handshake response via X-HTTP-Initial-Response`),this.K=!0,Mt(this,n);else{this.o=!1,this.s=3,st(12),jt(this),At(this);break a}}if(this.P){n=!0;let e;for(;!this.J&&this.C<o.length;)if(e=Et(this,o),e==St){f==4&&(this.s=4,st(14),n=!1),pt(this.i,this.l,null,`[Incomplete Response]`);break}else if(e==xt){this.s=4,st(15),pt(this.i,this.l,o,`[Invalid Chunk]`),n=!1;break}else pt(this.i,this.l,e,null),Mt(this,e);if(Tt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),f!=4||o.length!=0||this.h.h||(this.s=1,st(16),n=!1),this.o=this.o&&n,!n)pt(this.i,this.l,o,`[Invalid Chunked Response]`),jt(this),At(this);else if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info(`Great, no buffering proxy detected. Bytes received: `+o.length),Kn(d),d.M=!0,st(11))}}else pt(this.i,this.l,o,null),Mt(this,o);f==4&&jt(this),this.o&&!this.J&&(f==4?Yn(this.j,this):(this.o=!1,Dt(this)))}else Pn(this.g),n==400&&0<o.indexOf(`Unknown SID`)?(this.s=3,st(12)):(this.s=0,st(13)),jt(this),At(this)}}}catch{}};function Tt(e){return e.g?e.u==`GET`&&e.L!=2&&e.j.Ca:!1}function Et(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?St:(n=Number(t.substring(n,r)),isNaN(n)?xt:(r+=1,r+n>t.length?St:(t=t.slice(r,r+n),e.C=r+n,t)))}yt.prototype.cancel=function(){this.J=!0,jt(this)};function Dt(e){e.S=Date.now()+e.I,Ot(e,e.I)}function Ot(e,t){if(e.B!=null)throw Error(`WatchDog timer not null`);e.B=lt(f(e.ba,e),t)}function kt(e){e.B&&=(s.clearTimeout(e.B),null)}yt.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(mt(this.i,this.A),this.L!=2&&(at(),st(17)),jt(this),this.s=2,At(this)):Ot(this,this.S-e)};function At(e){e.j.G==0||e.J||Yn(e.j,e)}function jt(e){kt(e);var t=e.M;t&&typeof t.ma==`function`&&t.ma(),e.M=null,Ge(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Mt(e,t){try{var n=e.j;if(n.G!=0&&(n.g==e||Lt(n.h,e))){if(!e.K&&Lt(n.h,e)&&n.G==3){try{var r=n.Da.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Jn(n),Ln(n);else break a;Gn(n),st(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&n.v==0&&!n.C&&(n.C=lt(f(n.Za,n),6e3));if(1>=It(n.h)&&n.ca){try{n.ca()}catch{}n.ca=void 0}}else Zn(n,11)}else if((e.K||n.g==e)&&Jn(n),!v(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.T=l[0],l=l[1],n.G==2)if(l[0]==`c`){n.K=l[1],n.ia=l[2];let t=l[3];t!=null&&(n.la=t,n.j.info(`VER=`+n.la));let i=l[4];i!=null&&(n.Aa=i,n.j.info(`SVER=`+n.Aa));let u=l[5];u!=null&&typeof u==`number`&&0<u&&(r=1.5*u,n.L=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(Rt(a,a.h),null))}if(r.D){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.ya=e,D(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.R+`ms`)),r=n;var o=e;if(r.qa=$n(r,r.J?r.ia:null,r.W),o.K){zt(r.h,o);var s=o,c=r.L;c&&(s.I=c),s.B&&(kt(s),Dt(s)),r.g=o}else Wn(r);0<n.i.length&&zn(n)}else l[0]!=`stop`&&l[0]!=`close`||Zn(n,7);else n.G==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?Zn(n,7):In(n):l[0]!=`noop`&&n.l&&n.l.ta(l),n.v=0)}}at(4)}catch{}}var Nt=class{constructor(e,t){this.g=e,this.map=t}};function Pt(e){this.l=e||10,s.PerformanceNavigationTiming?(e=s.performance.getEntriesByType(`navigation`),e=0<e.length&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ft(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function It(e){return e.h?1:e.g?e.g.size:0}function Lt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Rt(e,t){e.g?e.g.add(t):e.h=t}function zt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Pt.prototype.cancel=function(){if(this.i=Bt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Bt(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function Vt(e){if(e.V&&typeof e.V==`function`)return e.V();if(typeof Map<`u`&&e instanceof Map||typeof Set<`u`&&e instanceof Set)return Array.from(e.values());if(typeof e==`string`)return e.split(``);if(c(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Ht(e){if(e.na&&typeof e.na==`function`)return e.na();if(!e.V||typeof e.V!=`function`){if(typeof Map<`u`&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<`u`&&e instanceof Set)){if(c(e)||typeof e==`string`){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}function Ut(e,t){if(e.forEach&&typeof e.forEach==`function`)e.forEach(t,void 0);else if(c(e)||typeof e==`string`)Array.prototype.forEach.call(e,t,void 0);else for(var n=Ht(e),r=Vt(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}var Wt=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function Gt(e,t){if(e){e=e.split(`&`);for(var n=0;n<e.length;n++){var r=e[n].indexOf(`=`),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g,` `)):``)}}}function Kt(e){if(this.g=this.o=this.j=``,this.s=null,this.m=this.l=``,this.h=!1,e instanceof Kt){this.h=e.h,Jt(this,e.j),this.o=e.o,this.g=e.g,Yt(this,e.s),this.l=e.l;var t=e.i,n=new on;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Xt(this,n),this.m=e.m}else e&&(t=String(e).match(Wt))?(this.h=!1,Jt(this,t[1]||``,!0),this.o=Qt(t[2]||``),this.g=Qt(t[3]||``,!0),Yt(this,t[4]),this.l=Qt(t[5]||``,!0),Xt(this,t[6]||``,!0),this.m=Qt(t[7]||``)):(this.h=!1,this.i=new on(null,this.h))}Kt.prototype.toString=function(){var e=[],t=this.j;t&&e.push($t(t,en,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push($t(t,en,!0),`@`),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.s,n!=null&&e.push(`:`,String(n))),(n=this.l)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push($t(n,n.charAt(0)==`/`?nn:tn,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,$t(n,an)),e.join(``)};function qt(e){return new Kt(e)}function Jt(e,t,n){e.j=n?Qt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Yt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error(`Bad port number `+t);e.s=t}else e.s=null}function Xt(e,t,n){t instanceof on?(e.i=t,fn(e.i,e.h)):(n||(t=$t(t,rn)),e.i=new on(t,e.h))}function D(e,t,n){e.i.set(t,n)}function Zt(e){return D(e,`zx`,Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function $t(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,O),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function O(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var en=/[#\/\?@]/g,tn=/[#\?:]/g,nn=/[#\?]/g,rn=/[#\?@]/g,an=/#/g;function on(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sn(e){e.g||(e.g=new Map,e.h=0,e.i&&Gt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=on.prototype,e.add=function(e,t){sn(this),this.i=null,e=dn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function cn(e,t){sn(e),t=dn(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ln(e,t){return sn(e),t=dn(e,t),e.g.has(t)}e.forEach=function(e,t){sn(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){sn(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){sn(this);let t=[];if(typeof e==`string`)ln(this,e)&&(t=t.concat(this.g.get(dn(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return sn(this),this.i=null,e=dn(this,e),ln(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=this.V(e),0<e.length?String(e[0]):t):t};function un(e,t,n){cn(e,t),0<n.length&&(e.i=null,e.g.set(dn(e,t),h(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;o[r]!==``&&(i+=`=`+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join(`&`)};function dn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function fn(e,t){t&&!e.j&&(sn(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(cn(this,t),un(this,n,e))},e)),e.j=t}function pn(e,t){let n=new ut;if(s.Image){let r=new Image;r.onload=p(hn,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=p(hn,n,`TestLoadImage: error`,!1,t,r),r.onabort=p(hn,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=p(hn,n,`TestLoadImage: timeout`,!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function mn(e,t){let n=new ut,r=new AbortController,i=setTimeout(()=>{r.abort(),hn(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?hn(n,`TestPingServer: ok`,!0,t):hn(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),hn(n,`TestPingServer: error`,!1,t)})}function hn(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function gn(){this.g=new Je}function _n(e,t,n){let r=n||``;try{Ut(e,function(e,n){let i=e;l(e)&&(i=Ke(e)),t.push(r+n+`=`+encodeURIComponent(i))})}catch(e){throw t.push(r+`type=_badmap`),e}}function vn(e){this.l=e.Ub||null,this.j=e.eb||!1}m(vn,Ye),vn.prototype.g=function(){return new yn(this.l,this.j)},vn.prototype.i=function(e){return function(){return e}}({});function yn(e,t){Le.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B=`GET`,this.A=``,this.g=!1,this.v=this.j=this.l=null}m(yn,Le),e=yn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.B=e,this.A=t,this.readyState=1,Sn(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.u=new Headers,this.status=0,this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(s.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.v=new TextDecoder;bn(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))};function bn(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xn(this):Sn(this),this.readyState==3&&bn(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,xn(this))},e.Qa=function(e){this.g&&(this.response=e,xn(this))},e.ga=function(){this.g&&xn(this)};function xn(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Sn(e)}e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function Sn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(yn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function Cn(e){let t=``;return S(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function wn(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=Cn(n),typeof e==`string`||D(e,t,n))}function k(e){Le.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D=``,this.m=0,this.l=``,this.j=this.B=this.u=this.A=!1,this.I=null,this.H=``,this.J=!1}m(k,Le);var Tn=/^https?$/i,En=[`POST`,`PUT`];e=k.prototype,e.Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():E.g(),this.v=this.o?Xe(this.o):Xe(E),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){Dn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(En,t,void 0))||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.H&&(this.g.responseType=this.H),`withCredentials`in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jn(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){Dn(this,e)}};function Dn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,On(e),An(e)}function On(e){e.A||(e.A=!0,Re(e,`complete`),Re(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,Re(this,`complete`),Re(this,`abort`),An(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),An(this,!0)),k.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?kn(this):this.bb())},e.bb=function(){kn(this)};function kn(e){if(e.h&&o!==void 0&&(!e.v[1]||Mn(e)!=4||e.Z()!=2)){if(e.u&&Mn(e)==4)Be(e.Ea,0,e);else if(Re(e,`readystatechange`),Mn(e)==4){e.h=!1;try{let o=e.Z();a:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.D).match(Wt)[1]||null;!i&&s.self&&s.self.location&&(i=s.self.location.protocol.slice(0,-1)),r=!Tn.test(i?i.toLowerCase():``)}n=r}if(n)Re(e,`complete`),Re(e,`success`);else{e.m=6;try{var a=2<Mn(e)?e.g.statusText:``}catch{a=``}e.l=a+` [`+e.Z()+`]`,On(e)}}finally{An(e)}}}}function An(e,t){if(e.g){jn(e);let n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||Re(e,`ready`);try{n.onreadystatechange=r}catch{}}}function jn(e){e.I&&=(s.clearTimeout(e.I),null)}e.isActive=function(){return!!this.g};function Mn(e){return e.g?e.g.readyState:0}e.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),qe(t)}};function Nn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.H){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Pn(e){let t={};e=(e.g&&2<=Mn(e)&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(v(e[r]))continue;var n=ne(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}C(t,function(e){return e.join(`, `)})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l==`string`?this.l:String(this.l)};function Fn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function A(e){this.Aa=0,this.i=[],this.j=new ut,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn(`failFast`,!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn(`baseRetryDelayMs`,5e3,e),this.cb=Fn(`retryDelaySeedMs`,1e4,e),this.Wa=Fn(`forwardChannelMaxRetries`,2,e),this.wa=Fn(`forwardChannelRequestTimeoutMs`,2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K=``,this.h=new Pt(e&&e.concurrentRequestLimit),this.Da=new gn,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=A.prototype,e.la=8,e.G=1,e.connect=function(e,t,n,r){st(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=$n(this,null,this.W),zn(this)};function In(e){if(Rn(e),e.G==3){var t=e.U++,n=qt(e.I);if(D(n,`SID`,e.K),D(n,`RID`,t),D(n,`TYPE`,`terminate`),Hn(e,n),t=new yt(e,e.j,t),t.L=2,t.v=Zt(qt(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),``)}catch{}!n&&s.Image&&(new Image().src=t.v,n=!0),n||(t.g=er(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Dt(t)}Qn(e)}function Ln(e){e.g&&=(Kn(e),e.g.cancel(),null)}function Rn(e){Ln(e),e.u&&=(s.clearTimeout(e.u),null),Jn(e),e.h.cancel(),e.s&&=(typeof e.s==`number`&&s.clearTimeout(e.s),null)}function zn(e){if(!Ft(e.h)&&!e.s){e.s=!0;var t=e.Ga;ce||de(),le||=(ce(),!0),ue.add(t,e),e.B=0}}function Bn(e,t){return It(e.h)>=e.h.j-(e.s?1:0)?!1:e.s?(e.i=t.D.concat(e.i),!0):e.G==1||e.G==2||e.B>=(e.Va?0:e.Wa)?!1:(e.s=lt(f(e.Ga,e,t),Xn(e,e.B)),e.B++,!0)}e.Ga=function(e){if(this.s)if(this.s=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new yt(this,this.j,e),a=this.o;if(this.S&&(a?(a=ee(a),te(a,this.S)):a=this.S),this.m!==null||this.O||(i.H=a,a=null),this.P)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=Un(this,i,t),n=qt(this.I),D(n,`RID`,e),D(n,`CVER`,22),this.D&&D(n,`X-HTTP-Session-Id`,this.D),Hn(this,n),a&&(this.O?t=`headers=`+encodeURIComponent(String(Cn(a)))+`&`+t:this.m&&wn(n,this.m,a)),Rt(this.h,i),this.Ua&&D(n,`TYPE`,`init`),this.P?(D(n,`$req`,t),D(n,`SID`,`null`),i.T=!0,Ct(i,n,null)):Ct(i,n,t),this.G=2}}else this.G==3&&(e?Vn(this,e):this.i.length==0||Ft(this.h)||Vn(this))};function Vn(e,t){var n=t?t.l:e.U++;let r=qt(e.I);D(r,`SID`,e.K),D(r,`RID`,n),D(r,`AID`,e.T),Hn(e,r),e.m&&e.o&&wn(r,e.m,e.o),n=new yt(e,e.j,n,e.B+1),e.m===null&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Un(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Rt(e.h,n),Ct(n,r,t)}function Hn(e,t){e.H&&S(e.H,function(e,n){D(t,n,e)}),e.l&&Ut({},function(e,n){D(t,n,e)})}function Un(e,t,n){n=Math.min(e.i.length,n);var r=e.l?f(e.l.Na,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?0<n?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g,s=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{_n(s,e,`req`+n+`_`)}catch{r&&r(s)}}if(a){r=e.join(`&`);break a}}}return e=e.i.splice(0,n),t.D=e,r}function Wn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;ce||de(),le||=(ce(),!0),ue.add(t,e),e.v=0}}function Gn(e){return e.g||e.u||3<=e.v?!1:(e.Y++,e.u=lt(f(e.Fa,e),Xn(e,e.v)),e.v++,!0)}e.Fa=function(){if(this.u=null,qn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var e=2*this.R;this.j.info(`BP detection timer enabled: `+e),this.A=lt(f(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.M=!0,st(10),Ln(this),qn(this))};function Kn(e){e.A!=null&&(s.clearTimeout(e.A),e.A=null)}function qn(e){e.g=new yt(e,e.j,`rpc`,e.Y),e.m===null&&(e.g.H=e.o),e.g.O=0;var t=qt(e.qa);D(t,`RID`,`rpc`),D(t,`SID`,e.K),D(t,`AID`,e.T),D(t,`CI`,e.F?`0`:`1`),!e.F&&e.ja&&D(t,`TO`,e.ja),D(t,`TYPE`,`xmlhttp`),Hn(e,t),e.m&&e.o&&wn(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=Zt(qt(t)),n.m=null,n.P=!0,wt(n,e)}e.Za=function(){this.C!=null&&(this.C=null,Ln(this),Gn(this),st(19))};function Jn(e){e.C!=null&&(s.clearTimeout(e.C),e.C=null)}function Yn(e,t){var n=null;if(e.g==t){Jn(e),Kn(e),e.g=null;var r=2}else if(Lt(e.h,t))n=t.D,zt(e.h,t),r=1;else return;if(e.G!=0){if(t.o)if(r==1){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;r=rt(),Re(r,new ct(r,n)),zn(e)}else Wn(e);else if(i=t.s,i==3||i==0&&0<t.X||!(r==1&&Bn(e,t)||r==2&&Gn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Zn(e,5);break;case 4:Zn(e,10);break;case 3:Zn(e,6);break;default:Zn(e,2)}}}function Xn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function Zn(e,t){if(e.j.info(`Error code `+t),t==2){var n=f(e.fb,e),r=e.Xa;let t=!r;r=new Kt(r||`//www.google.com/images/cleardot.gif`),s.location&&s.location.protocol==`http`||Jt(r,`https`),Zt(r),t?pn(r.toString(),n):mn(r.toString(),n)}else st(2);e.G=0,e.l&&e.l.sa(t),Qn(e),Rn(e)}e.fb=function(e){e?(this.j.info(`Successfully pinged google.com`),st(2)):(this.j.info(`Failed to ping google.com`),st(1))};function Qn(e){if(e.G=0,e.ka=[],e.l){let t=Bt(e.h);(t.length!=0||e.i.length!=0)&&(g(e.ka,t),g(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function $n(e,t,n){var r=n instanceof Kt?qt(n):new Kt(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Yt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;var a=new Kt(null);r&&Jt(a,r),t&&(a.g=t),i&&Yt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&D(r,n,t),D(r,`VER`,e.la),Hn(e,r),r}function er(e,t,n){if(t&&!e.J)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Ca&&!e.pa?new k(new vn({eb:n})):new k(e.pa),t.Ha(e.J),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function tr(){}e=tr.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function nr(){}nr.prototype.g=function(e,t){return new rr(e,t)};function rr(e,t){Le.call(this),this.g=new A(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e[`X-WebChannel-Client-Profile`]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!v(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!v(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new or(this)}m(rr,Le),rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){In(this.g)},rr.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.u&&(n={},n.__data__=Ke(e),e=n);t.i.push(new Nt(t.Ya++,e)),t.G==3&&zn(t)},rr.prototype.N=function(){this.g.l=null,delete this.j,In(this.g),delete this.g,rr.aa.N.call(this)};function ir(e){$e.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}m(ir,$e);function ar(){et.call(this),this.status=1}m(ar,et);function or(e){this.g=e}m(or,tr),or.prototype.ua=function(){Re(this.g,`a`)},or.prototype.ta=function(e){Re(this.g,new ir(e))},or.prototype.sa=function(e){Re(this.g,new ar)},or.prototype.ra=function(){Re(this.g,`b`)},nr.prototype.createWebChannel=nr.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,Ox=bx.createWebChannelTransport=function(){return new nr},Dx=bx.getStatEventTarget=function(){return rt()},Ex=bx.Event=tt,Tx=bx.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,wx=bx.ErrorCode=gt,_t.COMPLETE=`complete`,Cx=bx.EventType=_t,Ze.EventType=Qe,Qe.OPEN=`a`,Qe.CLOSE=`b`,Qe.ERROR=`c`,Qe.MESSAGE=`d`,Le.prototype.listen=Le.prototype.K,Sx=bx.WebChannel=Ze,bx.FetchXmlHttpFactory=vn,k.prototype.listenOnce=k.prototype.L,k.prototype.getLastError=k.prototype.Ka,k.prototype.getLastErrorCode=k.prototype.Ba,k.prototype.getStatus=k.prototype.Z,k.prototype.getResponseJson=k.prototype.Oa,k.prototype.getResponseText=k.prototype.oa,k.prototype.send=k.prototype.ea,k.prototype.setWithCredentials=k.prototype.Ha,xx=bx.XhrIo=k}).apply(yx===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:yx);var kx=`@firebase/firestore`,Ax=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};Ax.UNAUTHENTICATED=new Ax(null),Ax.GOOGLE_CREDENTIALS=new Ax(`google-credentials-uid`),Ax.FIRST_PARTY=new Ax(`first-party-uid`),Ax.MOCK_USER=new Ax(`mock-user`);
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var jx=`10.14.0`,Mx=new Gm(`@firebase/firestore`);function Nx(){return Mx.logLevel}function H(e,...t){if(Mx.logLevel<=B.DEBUG){let n=t.map(Ix);Mx.debug(`Firestore (${jx}): ${e}`,...n)}}function Px(e,...t){if(Mx.logLevel<=B.ERROR){let n=t.map(Ix);Mx.error(`Firestore (${jx}): ${e}`,...n)}}function Fx(e,...t){if(Mx.logLevel<=B.WARN){let n=t.map(Ix);Mx.warn(`Firestore (${jx}): ${e}`,...n)}}function Ix(e){if(typeof e==`string`)return e;try{
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
return function(e){return JSON.stringify(e)}(e)}catch{return e}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function U(e=`Unexpected state`){let t=`FIRESTORE (${jx}) INTERNAL ASSERTION FAILED: `+e;throw Px(t),Error(t)}function W(e,t){e||U()}function G(e,t){return e}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var K={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},q=class extends bm{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},Lx=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Rx=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},zx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ax.UNAUTHENTICATED)))}shutdown(){}},Bx=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},Vx=class{constructor(e){this.t=e,this.currentUser=Ax.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){W(this.o===void 0);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new Lx;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Lx,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{H(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(H(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new Lx)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(W(typeof t.accessToken==`string`),new Rx(t.accessToken,this.currentUser)):null:(H(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return W(e===null||typeof e==`string`),new Ax(e)}},Hx=class{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type=`FirstParty`,this.user=Ax.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set(`X-Goog-AuthUser`,this.l);let e=this.T();return e&&this.I.set(`Authorization`,e),this.h&&this.I.set(`X-Goog-Iam-Authorization-Token`,this.h),this.I}},Ux=class{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Hx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ax.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Wx=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},Gx=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){W(this.o===void 0);let n=e=>{e.error!=null&&H(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.R;return this.R=e.token,H(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{H(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?r(e):H(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(W(typeof e.token==`string`),this.R=e.token,new Wx(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Kx(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var qx=class{static newId(){let e=``;for(;e.length<20;){let t=Kx(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function J(e,t){return e<t?-1:e>t?1:0}function Jx(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Yx=class e{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new q(K.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<-62135596800||e>=253402300800)throw new q(K.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}},Y=class e{constructor(e){this.timestamp=e}static fromTimestamp(t){return new e(t)}static min(){return new e(new Yx(0,0))}static max(){return new e(new Yx(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},Xx=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&U(),n===void 0?n=e.length-t:n>e.length-t&&U(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Zx=class e extends Xx{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new q(K.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},Qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$x=class e extends Xx{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return Qx.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===`__name__`}static keyField(){return new e([`__name__`])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new q(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new q(K.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new q(K.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new q(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},X=class e{constructor(e){this.path=e}static fromPath(t){return new e(Zx.fromString(t))}static fromName(t){return new e(Zx.fromString(t).popFirst(5))}static empty(){return new e(Zx.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zx.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Zx.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new Zx(t.slice()))}},eS=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};eS.UNKNOWN_ID=-1;function tS(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Yx(n+1,0):new Yx(n,r));return new rS(i,X.empty(),t)}function nS(e){return new rS(e.readTime,e.key,-1)}var rS=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(Y.min(),X.empty(),-1)}static max(){return new e(Y.max(),X.empty(),-1)}};function iS(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=X.comparator(e.documentKey,t.documentKey),n===0?J(e.largestBatchId,t.largestBatchId):n):n}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var aS=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,oS=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
async function sS(e){if(e.code!==K.FAILED_PRECONDITION||e.message!==aS)throw e;H(`LocalStore`,`Unexpectedly lost primary lease`)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Z=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function cS(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function lS(e){return e.name===`IndexedDbTransactionError`}
/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var uS=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}};uS.oe=-1;function dS(e){return e==null}function fS(e){return e===0&&1/e==-1/0}function pS(e){return typeof e==`number`&&Number.isInteger(e)&&!fS(e)&&e<=2**53-1&&e>=-(2**53-1)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function mS(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hS(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gS(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var _S=class e{constructor(e,t){this.comparator=e,this.root=t||yS.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yS.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yS.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vS(this.root,e,this.comparator,!1)}getReverseIterator(){return new vS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vS(this.root,e,this.comparator,!0)}},vS=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yS=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();let e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}};yS.EMPTY=null,yS.RED=!0,yS.BLACK=!1,yS.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,t,n,r,i){return this}insert(e,t,n){return new yS(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var bS=class e{constructor(e){this.comparator=e,this.data=new _S(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xS(this.data.getIterator())}getIteratorFrom(e){return new xS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},xS=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},SS=class e{constructor(e){this.fields=e,e.sort($x.comparator)}static empty(){return new e([])}unionWith(t){let n=new bS($x.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jx(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},CS=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},wS=class e{constructor(e){this.binaryString=e}static fromBase64String(t){let n=function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new CS(`Invalid base64 string: `+e):e}}(t);return new e(n)}static fromUint8Array(t){let n=function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wS.EMPTY_BYTE_STRING=new wS(``);var TS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ES(e){if(W(!!e),typeof e==`string`){let t=0,n=TS.exec(e);if(W(!!n),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:DS(e.seconds),nanos:DS(e.nanos)}}function DS(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function OS(e){return typeof e==`string`?wS.fromBase64String(e):wS.fromUint8Array(e)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function kS(e){return(e?.mapValue?.fields||{}).__type__?.stringValue===`server_timestamp`}function AS(e){let t=e.mapValue.fields.__previous_value__;return kS(t)?AS(t):t}function jS(e){let t=ES(e.mapValue.fields.__local_write_time__.timestampValue);return new Yx(t.seconds,t.nanos)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var MS=class{constructor(e,t,n,r,i,a,o,s,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c}},NS=class e{constructor(e,t){this.projectId=e,this.database=t||`(default)`}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===`(default)`}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},PS={mapValue:{fields:{__type__:{stringValue:`__max__`}}}};function FS(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?kS(e)?4:ZS(e)?9007199254740991:YS(e)?10:11:U()}function IS(e,t){if(e===t)return!0;let n=FS(e);if(n!==FS(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jS(e).isEqual(jS(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=ES(e.timestampValue),r=ES(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return OS(e.bytesValue).isEqual(OS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return DS(e.geoPointValue.latitude)===DS(t.geoPointValue.latitude)&&DS(e.geoPointValue.longitude)===DS(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return DS(e.integerValue)===DS(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=DS(e.doubleValue),r=DS(t.doubleValue);return n===r?fS(n)===fS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jx(e.arrayValue.values||[],t.arrayValue.values||[],IS);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mS(n)!==mS(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!IS(n[e],r[e])))return!1;return!0}(e,t);default:return U()}}function LS(e,t){return(e.values||[]).find((e=>IS(e,t)))!==void 0}function RS(e,t){if(e===t)return 0;let n=FS(e),r=FS(t);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=DS(e.integerValue||e.doubleValue),r=DS(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zS(e.timestampValue,t.timestampValue);case 4:return zS(jS(e),jS(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){let n=OS(e),r=OS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=J(n[e],r[e]);if(t!==0)return t}return J(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=J(DS(e.latitude),DS(t.latitude));return n===0?J(DS(e.longitude),DS(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return BS(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n.value?.arrayValue,a=r.value?.arrayValue,o=J(i?.values?.length||0,a?.values?.length||0);return o===0?BS(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===PS.mapValue&&t===PS.mapValue)return 0;if(e===PS.mapValue)return 1;if(t===PS.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=J(r[e],a[e]);if(t!==0)return t;let o=RS(n[r[e]],i[a[e]]);if(o!==0)return o}return J(r.length,a.length)}(e.mapValue,t.mapValue);default:throw U()}}function zS(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return J(e,t);let n=ES(e),r=ES(t),i=J(n.seconds,r.seconds);return i===0?J(n.nanos,r.nanos):i}function BS(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=RS(n[e],r[e]);if(t)return t}return J(n.length,r.length)}function VS(e){return HS(e)}function HS(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=ES(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return OS(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return X.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=HS(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${HS(e.fields[i])}`;return n+`}`}(e.mapValue):U()}function US(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function WS(e){return!!e&&`integerValue`in e}function GS(e){return!!e&&`arrayValue`in e}function KS(e){return!!e&&`nullValue`in e}function qS(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function JS(e){return!!e&&`mapValue`in e}function YS(e){return(e?.mapValue?.fields||{}).__type__?.stringValue===`__vector__`}function XS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return hS(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=XS(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=XS(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ZS(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===`__max__`}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var QS=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!JS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=XS(t)}setAll(e){let t=$x.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=XS(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());JS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return IS(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];JS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hS(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(XS(this.value))}};function $S(e){let t=[];return hS(e.fields,((e,n)=>{let r=new $x([e]);if(JS(n)){let e=$S(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new SS(t)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var eC=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,Y.min(),Y.min(),Y.min(),QS.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,Y.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,Y.min(),Y.min(),QS.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,Y.min(),Y.min(),QS.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=QS.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=QS.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},tC=class{constructor(e,t){this.position=e,this.inclusive=t}};function nC(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?X.comparator(X.fromName(o.referenceValue),n.key):RS(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function rC(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!IS(e.position[n],t.position[n]))return!1;return!0}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var iC=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function aC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var oC=class{},sC=class e extends oC{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new hC(t,n,r):n===`array-contains`?new yC(t,r):n===`in`?new bC(t,r):n===`not-in`?new xC(t,r):n===`array-contains-any`?new SC(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new gC(e,n):new _C(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&this.matchesComparison(RS(t,this.value)):t!==null&&FS(this.value)===FS(t)&&this.matchesComparison(RS(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return U()}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cC=class e extends oC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(t,n){return new e(t,n)}matches(e){return lC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function lC(e){return e.op===`and`}function uC(e){return dC(e)&&lC(e)}function dC(e){for(let t of e.filters)if(t instanceof cC)return!1;return!0}function fC(e){if(e instanceof sC)return e.field.canonicalString()+e.op.toString()+VS(e.value);if(uC(e))return e.filters.map((e=>fC(e))).join(`,`);{let t=e.filters.map((e=>fC(e))).join(`,`);return`${e.op}(${t})`}}function pC(e,t){return e instanceof sC?function(e,t){return t instanceof sC&&e.op===t.op&&e.field.isEqual(t.field)&&IS(e.value,t.value)}(e,t):e instanceof cC?function(e,t){return t instanceof cC&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&pC(n,t.filters[r])),!0):!1}(e,t):void U()}function mC(e){return e instanceof sC?function(e){return`${e.field.canonicalString()} ${e.op} ${VS(e.value)}`}(e):e instanceof cC?function(e){return e.op.toString()+` {`+e.getFilters().map(mC).join(` ,`)+`}`}(e):`Filter`}var hC=class extends sC{constructor(e,t,n){super(e,t,n),this.key=X.fromName(n.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},gC=class extends sC{constructor(e,t){super(e,`in`,t),this.keys=vC(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},_C=class extends sC{constructor(e,t){super(e,`not-in`,t),this.keys=vC(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function vC(e,t){return(t.arrayValue?.values||[]).map((e=>X.fromName(e.referenceValue)))}var yC=class extends sC{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return GS(t)&&LS(t.arrayValue,this.value)}},bC=class extends sC{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&LS(this.value.arrayValue,t)}},xC=class extends sC{constructor(e,t){super(e,`not-in`,t)}matches(e){if(LS(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&!LS(this.value.arrayValue,t)}},SC=class extends sC{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!GS(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>LS(this.value.arrayValue,e)))}},CC=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.ue=null}};function wC(e,t=null,n=[],r=[],i=null,a=null,o=null){return new CC(e,t,n,r,i,a,o)}function TC(e){let t=G(e);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>fC(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),dS(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>VS(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>VS(e))).join(`,`)),t.ue=e}return t.ue}function EC(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!aC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rC(e.startAt,t.startAt)&&rC(e.endAt,t.endAt)}function DC(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var OC=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function kC(e,t,n,r,i,a,o,s){return new OC(e,t,n,r,i,a,o,s)}function AC(e){return new OC(e)}function jC(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function MC(e){return e.collectionGroup!==null}function NC(e){let t=G(e);if(t.ce===null){t.ce=[];let e=new Set;for(let n of t.explicitOrderBy)t.ce.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new bS($x.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new iC(r,n))})),e.has($x.keyField().canonicalString())||t.ce.push(new iC($x.keyField(),n))}return t.ce}function PC(e){let t=G(e);return t.le||=FC(t,NC(e)),t.le}function FC(e,t){if(e.limitType===`F`)return wC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new iC(e.field,t)}));let n=e.endAt?new tC(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new tC(e.startAt.position,e.startAt.inclusive):null;return wC(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function IC(e,t){let n=e.filters.concat([t]);return new OC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function LC(e,t,n){return new OC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function RC(e,t){return EC(PC(e),PC(t))&&e.limitType===t.limitType}function zC(e){return`${TC(PC(e))}|lt:${e.limitType}`}function BC(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>mC(e))).join(`, `)}]`),dS(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>VS(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>VS(e))).join(`,`)),`Target(${t})`}(PC(e))}; limitType=${e.limitType})`}function VC(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?X.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of NC(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=nC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,NC(e),t)||e.endAt&&!function(e,t,n){let r=nC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,NC(e),t))}(e,t)}function HC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function UC(e){return(t,n)=>{let r=!1;for(let i of NC(e)){let e=WC(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function WC(e,t,n){let r=e.field.isKeyField()?X.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?RS(r,i):U()}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return U()}}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var GC=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hS(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return gS(this.inner)}size(){return this.innerSize}},KC=new _S(X.comparator);function qC(){return KC}var JC=new _S(X.comparator);function YC(...e){let t=JC;for(let n of e)t=t.insert(n.key,n);return t}function XC(e){let t=JC;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ZC(){return $C()}function QC(){return $C()}function $C(){return new GC((e=>e.toString()),((e,t)=>e.isEqual(t)))}var ew=new _S(X.comparator),tw=new bS(X.comparator);function Q(...e){let t=tw;for(let n of e)t=t.add(n);return t}var nw=new bS(J);function rw(){return nw}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function iw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:fS(t)?`-0`:t}}function aw(e){return{integerValue:``+e}}function ow(e,t){return pS(t)?aw(t):iw(e,t)}
/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var sw=class{constructor(){this._=void 0}};function cw(e,t,n){return e instanceof dw?function(e,t){let n={fields:{__type__:{stringValue:`server_timestamp`},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&kS(t)&&(t=AS(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fw?pw(e,t):e instanceof mw?hw(e,t):function(e,t){let n=uw(e,t),r=_w(n)+_w(e.Pe);return WS(n)&&WS(e.Pe)?aw(r):iw(e.serializer,r)}(e,t)}function lw(e,t,n){return e instanceof fw?pw(e,t):e instanceof mw?hw(e,t):n}function uw(e,t){return e instanceof gw?function(e){return WS(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var dw=class extends sw{},fw=class extends sw{constructor(e){super(),this.elements=e}};function pw(e,t){let n=vw(t);for(let t of e.elements)n.some((e=>IS(e,t)))||n.push(t);return{arrayValue:{values:n}}}var mw=class extends sw{constructor(e){super(),this.elements=e}};function hw(e,t){let n=vw(t);for(let t of e.elements)n=n.filter((e=>!IS(e,t)));return{arrayValue:{values:n}}}var gw=class extends sw{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function _w(e){return DS(e.integerValue||e.doubleValue)}function vw(e){return GS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var yw=class{constructor(e,t){this.field=e,this.transform=t}};function bw(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fw&&t instanceof fw||e instanceof mw&&t instanceof mw?Jx(e.elements,t.elements,IS):e instanceof gw&&t instanceof gw?IS(e.Pe,t.Pe):e instanceof dw&&t instanceof dw}(e.transform,t.transform)}var xw=class{constructor(e,t){this.version=e,this.transformResults=t}},Sw=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Cw(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var ww=class{};function Tw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Fw(e.key,Sw.none()):new Aw(e.key,e.data,Sw.none());{let n=e.data,r=QS.empty(),i=new bS($x.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new jw(e.key,r,new SS(i.toArray()),Sw.none())}}function Ew(e,t,n){e instanceof Aw?function(e,t,n){let r=e.value.clone(),i=Nw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jw?function(e,t,n){if(!Cw(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=Nw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dw(e,t,n,r){return e instanceof Aw?function(e,t,n,r){if(!Cw(e.precondition,t))return n;let i=e.value.clone(),a=Pw(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof jw?function(e,t,n,r){if(!Cw(e.precondition,t))return n;let i=Pw(e.fieldTransforms,r,t),a=t.data;return a.setAll(Mw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Cw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ow(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=uw(r.transform,e||null);i!=null&&(n===null&&(n=QS.empty()),n.set(r.field,i))}return n||null}function kw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&Jx(e,t,((e,t)=>bw(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Aw=class extends ww{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},jw=class extends ww{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function Mw(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function Nw(e,t,n){let r=new Map;W(e.length===n.length);for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,lw(o,s,n[i]))}return r}function Pw(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,cw(e,a,t))}return r}var Fw=class extends ww{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Iw=class extends ww{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},Lw=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&Ew(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dw(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=Dw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=QC();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=Tw(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Y.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Q())}isEqual(e){return this.batchId===e.batchId&&Jx(this.mutations,e.mutations,((e,t)=>kw(e,t)))&&Jx(this.baseMutations,e.baseMutations,((e,t)=>kw(e,t)))}},Rw=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){W(t.mutations.length===r.length);let i=function(){return ew}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},zw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},Bw=class{constructor(e,t){this.count=e,this.unchangedNames=t}},Vw,$;function Hw(e){switch(e){default:return U();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Uw(e){if(e===void 0)return Px(`GRPC error has no .code`),K.UNKNOWN;switch(e){case Vw.OK:return K.OK;case Vw.CANCELLED:return K.CANCELLED;case Vw.UNKNOWN:return K.UNKNOWN;case Vw.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Vw.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Vw.INTERNAL:return K.INTERNAL;case Vw.UNAVAILABLE:return K.UNAVAILABLE;case Vw.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Vw.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Vw.NOT_FOUND:return K.NOT_FOUND;case Vw.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Vw.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Vw.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Vw.ABORTED:return K.ABORTED;case Vw.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Vw.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Vw.DATA_LOSS:return K.DATA_LOSS;default:return U()}}($=Vw||={})[$.OK=0]=`OK`,$[$.CANCELLED=1]=`CANCELLED`,$[$.UNKNOWN=2]=`UNKNOWN`,$[$.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,$[$.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,$[$.NOT_FOUND=5]=`NOT_FOUND`,$[$.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,$[$.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,$[$.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,$[$.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,$[$.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,$[$.ABORTED=10]=`ABORTED`,$[$.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,$[$.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,$[$.INTERNAL=13]=`INTERNAL`,$[$.UNAVAILABLE=14]=`UNAVAILABLE`,$[$.DATA_LOSS=15]=`DATA_LOSS`;
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Ww=null;
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Gw(){return new TextEncoder}
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Kw=new _x([4294967295,4294967295],0);function qw(e){let t=Gw().encode(e),n=new vx;return n.update(t),new Uint8Array(n.digest())}function Jw(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new _x([n,r],0),new _x([i,a],0)]}var Yw=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Xw(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new Xw(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Xw(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=_x.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(_x.fromNumber(n)));return r.compare(Kw)===1&&(r=new _x([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=qw(e),[n,r]=Jw(t);for(let e=0;e<this.hashCount;e++){let t=this.Ee(n,r,e);if(!this.de(t))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new e(a,i,n);return r.forEach((e=>o.insert(e))),o}insert(e){if(this.Ie===0)return;let t=qw(e),[n,r]=Jw(t);for(let e=0;e<this.hashCount;e++){let t=this.Ee(n,r,e);this.Ae(t)}}Ae(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Xw=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},Zw=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,Qw.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Y.min(),i,new _S(J),qC(),Q())}},Qw=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,Q(),Q(),Q())}},$w=class{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}},eT=class{constructor(e,t){this.targetId=e,this.me=t}},tT=class{constructor(e,t,n=wS.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},nT=class{constructor(){this.fe=0,this.ge=aT(),this.pe=wS.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Q(),t=Q(),n=Q();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:U()}})),new Qw(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=aT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){--this.fe,W(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},rT=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=qC(),this.qe=iT(),this.Qe=new _S(J)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{let n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:U()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){let t=e.targetId,n=e.me.count,r=this.Je(t);if(r){let i=r.target;if(DC(i))if(n===0){let e=new X(i.path);this.Ue(t,e,eC.newNoDocument(e,Y.min()))}else W(n===1);else{let r=this.Ye(t);if(r!==n){let n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(i!==0){this.je(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Qe=this.Qe.insert(t,e)}Ww?.et(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>{var t;return(t=r?.mightContain(e))!=null&&t}}),a}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=OS(n).toUint8Array()}catch(e){if(e instanceof CS)return Fx(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new Yw(a,r,i)}catch(e){return Fx(e instanceof Xw?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.Ie===0?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){let n=this.Le.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,n,null),r++)})),r}rt(e){let t=new Map;this.Be.forEach(((n,r)=>{let i=this.Je(r);if(i){if(n.current&&DC(i.target)){let t=new X(i.target.path);this.ke.get(t)!==null||this.it(r,t)||this.Ue(r,t,eC.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Q();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.Je(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));let r=new Zw(e,t,this.Qe,this.ke,n);return this.ke=qC(),this.qe=iT(),this.Qe=new _S(J),r}$e(e,t){if(!this.ze(e))return;let n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new nT,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bS(J),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||H(`WatchChangeAggregator`,`Detected inactive target`,e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nT),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function iT(){return new _S(X.comparator)}function aT(){return new _S(X.comparator)}var oT=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),sT=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),cT=(()=>({and:`AND`,or:`OR`}))(),lT=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function uT(e,t){return e.useProto3Json||dS(t)?t:{value:t}}function dT(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function fT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pT(e,t){return dT(e,t.toTimestamp())}function mT(e){return W(!!e),Y.fromTimestamp(function(e){let t=ES(e);return new Yx(t.seconds,t.nanos)}(e))}function hT(e,t){return gT(e,t).canonicalString()}function gT(e,t){let n=function(e){return new Zx([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function _T(e){let t=Zx.fromString(e);return W(BT(t)),t}function vT(e,t){return hT(e.databaseId,t.path)}function yT(e,t){let n=_T(t);if(n.get(1)!==e.databaseId.projectId)throw new q(K.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(K.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new X(CT(n))}function bT(e,t){return hT(e.databaseId,t)}function xT(e){let t=_T(e);return t.length===4?Zx.emptyPath():CT(t)}function ST(e){return new Zx([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function CT(e){return W(e.length>4&&e.get(4)===`documents`),e.popFirst(5)}function wT(e,t,n){return{name:vT(e,t),fields:n.value.mapValue.fields}}function TT(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:U()}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(W(t===void 0||typeof t==`string`),wS.fromBase64String(t||``)):(W(t===void 0||t instanceof Buffer||t instanceof Uint8Array),wS.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){let t=e.code===void 0?K.UNKNOWN:Uw(e.code);return new q(t,e.message||``)}(o);n=new tT(r,i,a,s||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=yT(e,r.document.name),a=mT(r.document.updateTime),o=r.document.createTime?mT(r.document.createTime):Y.min(),s=new QS({mapValue:{fields:r.document.fields}}),c=eC.newFoundDocument(i,a,o,s),l=r.targetIds||[],u=r.removedTargetIds||[];n=new $w(l,u,c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=yT(e,r.document),a=r.readTime?mT(r.readTime):Y.min(),o=eC.newNoDocument(i,a),s=r.removedTargetIds||[];n=new $w([],s,o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=yT(e,r.document),a=r.removedTargetIds||[];n=new $w([],a,i,null)}else{if(!(`filter`in t))return U();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new Bw(r,i),o=e.targetId;n=new eT(o,a)}}return n}function ET(e,t){let n;if(t instanceof Aw)n={update:wT(e,t.key,t.value)};else if(t instanceof Fw)n={delete:vT(e,t.key)};else if(t instanceof jw)n={update:wT(e,t.key,t.data),updateMask:zT(t.fieldMask)};else{if(!(t instanceof Iw))return U();n={verify:vT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof dw)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof fw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gw)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw U()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?U():{exists:t.exists}:{updateTime:pT(e,t.updateTime)}}(e,t.precondition)),n}function DT(e,t){return e&&e.length>0?(W(t!==void 0),e.map((e=>function(e,t){let n=e.updateTime?mT(e.updateTime):mT(t);return n.isEqual(Y.min())&&(n=mT(t)),new xw(n,e.transformResults||[])}(e,t)))):[]}function OT(e,t){return{documents:[bT(e,t.path)]}}function kT(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=bT(e,i);let a=function(e){if(e.length!==0)return RT(cC.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:IT(e.field),direction:NT(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=uT(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function AT(e){let t=xT(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){W(r===1);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=MT(e);return t instanceof cC&&uC(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new iC(LT(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,dS(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before,n=e.values||[];return new tC(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before,n=e.values||[];return new tC(n,t)}(n.endAt)),kC(t,i,o,a,s,`F`,c,l)}function jT(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return U()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?U():function(e){return cC.create(e.compositeFilter.filters.map((e=>MT(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return U()}}(e.compositeFilter.op))}(e):function(e){return sC.create(LT(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;default:return U()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=LT(e.unaryFilter.field);return sC.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=LT(e.unaryFilter.field);return sC.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=LT(e.unaryFilter.field);return sC.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=LT(e.unaryFilter.field);return sC.create(i,`!=`,{nullValue:`NULL_VALUE`});default:return U()}}(e)}function NT(e){return oT[e]}function PT(e){return sT[e]}function FT(e){return cT[e]}function IT(e){return{fieldPath:e.canonicalString()}}function LT(e){return $x.fromServerFormat(e.fieldPath)}function RT(e){return e instanceof sC?function(e){if(e.op===`==`){if(qS(e.value))return{unaryFilter:{field:IT(e.field),op:`IS_NAN`}};if(KS(e.value))return{unaryFilter:{field:IT(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(qS(e.value))return{unaryFilter:{field:IT(e.field),op:`IS_NOT_NAN`}};if(KS(e.value))return{unaryFilter:{field:IT(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:IT(e.field),op:PT(e.op),value:e.value}}}(e):e instanceof cC?function(e){let t=e.getFilters().map((e=>RT(e)));return t.length===1?t[0]:{compositeFilter:{op:FT(e.op),filters:t}}}(e):U()}function zT(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function BT(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var VT=class e{constructor(e,t,n,r,i=Y.min(),a=Y.min(),o=wS.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},HT=class{constructor(e){this.ct=e}};function UT(e){let t=AT({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?LC(t,t.limit,`L`):t}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var WT=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if(`nullValue`in e)this.dt(t,5);else if(`booleanValue`in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if(`integerValue`in e)this.dt(t,15),t.At(DS(e.integerValue));else if(`doubleValue`in e){let n=DS(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),fS(n)?t.At(0):t.At(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.dt(t,20),typeof n==`string`&&(n=ES(n)),t.Rt(`${n.seconds||``}`),t.At(n.nanos||0)}else if(`stringValue`in e)this.Vt(e.stringValue,t),this.ft(t);else if(`bytesValue`in e)this.dt(t,30),t.gt(OS(e.bytesValue)),this.ft(t);else if(`referenceValue`in e)this.yt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else `mapValue`in e?ZS(e)?this.dt(t,2**53-1):YS(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):`arrayValue`in e?(this.bt(e.arrayValue,t),this.ft(t)):U()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let n=e.fields||{};this.dt(t,55);for(let e of Object.keys(n))this.Vt(e,t),this.Tt(n[e],t)}wt(e,t){let n=e.fields||{};this.dt(t,53);let r=`value`,i=n[r].arrayValue?.values?.length||0;this.dt(t,15),t.At(DS(i)),this.Vt(r,t),this.Tt(n[r],t)}bt(e,t){let n=e.values||[];this.dt(t,50);for(let e of n)this.Tt(e,t)}yt(e,t){this.dt(t,37),X.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}};WT.vt=new WT;
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var GT=class{constructor(){this.un=new KT}addToCollectionParentIndex(e,t){return this.un.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(rS.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(rS.min())}updateCollectionGroup(e,t,n){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}},KT=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bS(Zx.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bS(Zx.comparator)).toArray()}};new Uint8Array;var qT=class e{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
qT.DEFAULT_COLLECTION_PERCENTILE=10,qT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qT.DEFAULT=new qT(41943040,qT.DEFAULT_COLLECTION_PERCENTILE,qT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qT.DISABLED=new qT(-1,0,0);
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var JT=class e{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new e(0)}static kn(){return new e(-1)}},YT=class{constructor(){this.changes=new GC((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,eC.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):Z.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},XT=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},ZT=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&Dw(n.mutation,e,SS.empty(),Yx.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Q()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Q()){let r=ZC();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=YC();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=ZC();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Q())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=qC(),a=$C(),o=function(){return $C()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof jw)?i=i.insert(t.key,t):o===void 0?a.set(t.key,SS.empty()):(a.set(t.key,o.mutation.getFieldMask()),Dw(o.mutation,t,o.mutation.getFieldMask(),Yx.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new XT(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=$C(),r=new _S(((e,t)=>e-t)),i=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||SS.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||Q()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=QC();c.forEach((e=>{if(!i.has(e)){let r=Tw(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return Z.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Z.resolve(ZC()),o=-1,s=i;return a.next((t=>Z.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Z.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Q()))).next((e=>({batchId:o,changes:XC(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next((e=>{let t=YC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=YC();return this.indexManager.getCollectionParents(e,i).next((o=>Z.forEach(o,(o=>{let s=function(e,t){return new OC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,eC.newInvalidDocument(r)))}));let n=YC();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&Dw(a.mutation,r,SS.empty(),Yx.now()),VC(t,r)&&(n=n.insert(e,r))})),n}))}},QT=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Z.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:mT(e.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:UT(e.bundledQuery),readTime:mT(e.readTime)}}(t)),Z.resolve()}},$T=class{constructor(){this.overlays=new _S(X.comparator),this.Ir=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){let n=ZC();return Z.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Z.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Ir.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),Z.resolve()}getOverlaysForCollection(e,t,n){let r=ZC(),i=t.length+1,a=new X(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Z.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new _S(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=ZC(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=ZC(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Z.resolve(o)}ht(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new zw(t,n));let i=this.Ir.get(t);i===void 0&&(i=Q(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}},eE=class{constructor(){this.sessionToken=wS.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}},tE=class{constructor(){this.Tr=new bS(nE.Er),this.dr=new bS(nE.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let n=new nE(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new nE(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){let t=new X(new Zx([])),n=new nE(t,e),r=new nE(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new X(new Zx([])),n=new nE(t,e),r=new nE(t,e+1),i=Q();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new nE(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},nE=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||J(e.wr,t.wr)}static Ar(e,t){return J(e.wr,t.wr)||X.comparator(e.key,t.key)}},rE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bS(nE.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Lw(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.br=this.br.add(new nE(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(e,t){return Z.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.vr(n),i=r<0?0:r;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new nE(t,0),r=new nE(t,1/0),i=[];return this.br.forEachInRange([n,r],(e=>{let t=this.Dr(e.wr);i.push(t)})),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bS(J);return t.forEach((e=>{let t=new nE(e,0),r=new nE(e,1/0);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),Z.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;X.isDocumentKey(i)||(i=i.child(``));let a=new nE(new X(i),0),o=new bS(J);return this.br.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),a),Z.resolve(this.Cr(o))}Cr(e){let t=[];return e.forEach((e=>{let n=this.Dr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){W(this.Fr(t.batchId,`removed`)===0),this.mutationQueue.shift();let n=this.br;return Z.forEach(t.mutations,(r=>{let i=new nE(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){let n=new nE(t,0),r=this.br.firstAfterOrEqual(n);return Z.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},iE=class{constructor(e){this.Mr=e,this.docs=function(){return new _S(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return Z.resolve(n?n.document.mutableCopy():eC.newInvalidDocument(t))}getEntries(e,t){let n=qC();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():eC.newInvalidDocument(e))})),Z.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=qC(),a=t.path,o=new X(a.child(``)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||iS(nS(o),n)<=0||(r.has(o.key)||VC(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,t,n,r){U()}Or(e,t){return Z.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new aE(this)}getSize(e){return Z.resolve(this.size)}},aE=class extends YT{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),Z.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}},oE=class{constructor(e){this.persistence=e,this.Nr=new GC((e=>TC(e)),EC),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tE,this.targetCount=0,this.kr=JT.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Z.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new JT(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Kn(t),Z.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),--this.targetCount,Z.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.Nr.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Z.waitFor(i).next((()=>r))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){let n=this.Nr.get(t)||null;return Z.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Z.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Z.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){let n=this.Br.yr(t);return Z.resolve(n)}containsKey(e,t){return Z.resolve(this.Br.containsKey(t))}},sE=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new uS(0),this.Kr=!1,this.Kr=!0,this.$r=new eE,this.referenceDelegate=e(this),this.Ur=new oE(this),this.indexManager=new GT,this.remoteDocumentCache=function(e){return new iE(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new HT(t),this.Gr=new QT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $T,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new rE(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){H(`MemoryPersistence`,`Starting transaction:`,e);let r=new cE(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return Z.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}},cE=class extends oS{constructor(e){super(),this.currentSequenceNumber=e}},lE=class e{constructor(e){this.persistence=e,this.Jr=new tE,this.Yr=null}static Zr(t){return new e(t)}get Xr(){if(this.Yr)return this.Yr;throw U()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Z.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(n=>{let r=X.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,Y.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Z.or([()=>Z.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}},uE=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(t,n){let r=Q(),i=Q();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},dE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},fE=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gm()?8:cS(lm())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new dE;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(Nx()<=B.DEBUG&&H(`QueryEngine`,`SDK will not create cache indexes for query:`,BC(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.ji,`documents`),Z.resolve()):(Nx()<=B.DEBUG&&H(`QueryEngine`,`Query:`,BC(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.Hi*r?(Nx()<=B.DEBUG&&H(`QueryEngine`,`The SDK decides to create cache indexes for query:`,BC(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,PC(t))):Z.resolve())}Yi(e,t){if(jC(t))return Z.resolve(null);let n=PC(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=LC(t,null,`F`),n=PC(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=Q(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.ts(t,r);return this.ns(t,a,i,n.readTime)?this.Yi(e,LC(t,null,`F`)):this.rs(e,a,t,n)}))))})))))}Zi(e,t,n,r){return jC(t)||r.isEqual(Y.min())?Z.resolve(null):this.Ji.getDocuments(e,n).next((i=>{let a=this.ts(t,i);return this.ns(t,a,n,r)?Z.resolve(null):(Nx()<=B.DEBUG&&H(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),BC(t)),this.rs(e,a,t,tS(r,-1)).next((e=>e)))}))}ts(e,t){let n=new bS(UC(e));return t.forEach(((t,r)=>{VC(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Nx()<=B.DEBUG&&H(`QueryEngine`,`Using full collection scan to execute query:`,BC(t)),this.Ji.getDocumentsMatchingQuery(e,t,rS.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},pE=class{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new _S(J),this._s=new GC((e=>TC(e)),EC),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZT(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.os)))}};function mE(e,t,n,r){return new pE(e,t,n,r)}async function hE(e,t){let n=G(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=Q();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function gE(e,t){let n=G(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=Z.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);W(a!==null),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Q();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function _E(e){let t=G(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function vE(e,t){let n=G(e),r=t.snapshotVersion,i=n.os;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.Ur.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Ur.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(wS.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.Ur.updateTargetData(e,l))}));let s=qC(),c=Q();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(yE(e,a,t.documentUpdates).next((e=>{s=e.Ps,c=e.Is}))),!r.isEqual(Y.min())){let t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Z.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.os=i,e)))}function yE(e,t,n){let r=Q(),i=Q();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=qC();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Y.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):H(`LocalStore`,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{Ps:r,Is:i}}))}function bE(e,t){let n=G(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function xE(e,t){let n=G(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,Z.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new VT(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.os.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function SE(e,t,n){let r=G(e),i=r.os.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!lS(e))throw e;H(`LocalStore`,`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function CE(e,t,n){let r=G(e),i=Y.min(),a=Q();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=G(e),i=r._s.get(n);return i===void 0?r.Ur.getTargetData(t,n):Z.resolve(r.os.get(i))}(r,e,PC(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:Y.min(),n?a:Q()))).next((e=>(wE(r,HC(t),e),{documents:e,Ts:a})))))}function wE(e,t,n){let r=e.us.get(t)||Y.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}var TE=class{constructor(){this.activeTargetIds=rw()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},EE=class{constructor(){this.so=new TE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||`not-current`}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new TE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},DE=class{_o(e){}shutdown(){}},OE=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener(`online`,this.ao),window.removeEventListener(`offline`,this.co)}Po(){window.addEventListener(`online`,this.ao),window.addEventListener(`offline`,this.co)}uo(){H(`ConnectivityMonitor`,`Network connectivity changed: AVAILABLE`);for(let e of this.ho)e(0)}lo(){H(`ConnectivityMonitor`,`Network connectivity changed: UNAVAILABLE`);for(let e of this.ho)e(1)}static D(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},kE=null;function AE(){return kE===null?kE=function(){return 268435456+Math.round(2147483648*Math.random())}():kE++,`0x`+kE.toString(16)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var jE={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},ME=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}},NE=`WebChannelConnection`,PE=class extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+`://`+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co=this.databaseId.database===`(default)`?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){let a=AE(),o=this.xo(e,t.toUriEncodedString());H(`RestConnection`,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(s,r,i),this.No(e,o,s,n).then((t=>(H(`RestConnection`,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Fx(`RestConnection`,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Lo(e,t,n,r,i,a){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+jx}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){let n=jE[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){let i=AE();return new Promise(((a,o)=>{let s=new xx;s.setWithCredentials(!0),s.listenOnce(Cx.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case wx.NO_ERROR:let t=s.getResponseJson();H(NE,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case wx.TIMEOUT:H(NE,`RPC '${e}' ${i} timed out`),o(new q(K.DEADLINE_EXCEEDED,`Request time out`));break;case wx.HTTP_ERROR:let n=s.getStatus();if(H(NE,`RPC '${e}' ${i} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(K).indexOf(t)>=0?t:K.UNKNOWN}(t.status);o(new q(e,t.message))}else o(new q(K.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new q(K.UNAVAILABLE,`Connection failed.`));break;default:U()}}finally{H(NE,`RPC '${e}' ${i} completed.`)}}));let c=JSON.stringify(r);H(NE,`RPC '${e}' ${i} sending request:`,r),s.send(t,`POST`,c,n,15)}))}Bo(e,t,n){let r=AE(),i=[this.Do,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=Ox(),o=Dx(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Oo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);H(NE,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s),d=!1,f=!1,p=new ME({Io:t=>{f?H(NE,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(H(NE,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),H(NE,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,Sx.EventType.OPEN,(()=>{f||(H(NE,`RPC '${e}' stream ${r} transport opened.`),p.yo())})),m(u,Sx.EventType.CLOSE,(()=>{f||(f=!0,H(NE,`RPC '${e}' stream ${r} transport closed`),p.So())})),m(u,Sx.EventType.ERROR,(t=>{f||(f=!0,Fx(NE,`RPC '${e}' stream ${r} transport errored:`,t),p.So(new q(K.UNAVAILABLE,`The operation could not be completed`)))})),m(u,Sx.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];W(!!n);let i=n,a=i.error||i[0]?.error;if(a){H(NE,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=Vw[e];if(t!==void 0)return Uw(t)}(t),i=a.message;n===void 0&&(n=K.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.So(new q(n,i)),u.close()}else H(NE,`RPC '${e}' stream ${r} received:`,n),p.bo(n)}})),m(o,Ex.STAT_EVENT,(t=>{t.stat===Tx.PROXY?H(NE,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Tx.NOPROXY&&H(NE,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.wo()}),0),p}};function FE(){return typeof document<`u`?document:null}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function IE(e){return new lT(e,!0)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var LE=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&H(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}},RE=class{constructor(e,t,n,r,i,a,o,s){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new LE(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state===4?this.i_():this.auth()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&=(this.Zo.cancel(),null)}c_(){this.Xo&&=(this.Xo.cancel(),null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e===4?t&&t.code===K.RESOURCE_EXHAUSTED?(Px(t.toString()),Px(`Using maximum backoff delay to prevent overloading the backend.`),this.t_.Wo()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.t_.reset(),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Yo===t&&this.P_(e,n)}),(t=>{e((()=>{let e=new q(K.UNKNOWN,`Fetching auth token failed: `+t.message);return this.I_(e)}))}))}P_(e,t){let n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>++this.e_==1?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return H(`PersistentStream`,`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(H(`PersistentStream`,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},zE=class extends RE{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}T_(e,t){return this.connection.Bo(`Listen`,e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=TT(this.serializer,e),n=function(e){if(!(`targetChange`in e))return Y.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?Y.min():t.readTime?mT(t.readTime):Y.min()}(e);return this.listener.d_(t,n)}A_(e){let t={};t.database=ST(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=DC(r)?{documents:OT(e,r)}:{query:kT(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=fT(e,t.resumeToken);let r=uT(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Y.min())>0){n.readTime=dT(e,t.snapshotVersion.toTimestamp());let r=uT(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=jT(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){let t={};t.database=ST(this.serializer),t.removeTarget=e,this.a_(t)}},BE=class extends RE{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo(`Write`,e,t)}E_(e){return W(!!e.streamToken),this.lastStreamToken=e.streamToken,W(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){W(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=DT(e.writeResults,e.commitTime),n=mT(e.commitTime);return this.listener.g_(n,t)}p_(){let e={};e.database=ST(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>ET(this.serializer,e)))};this.a_(t)}},VE=class extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new q(K.FAILED_PRECONDITION,`The client has already been terminated.`)}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Mo(e,gT(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new q(K.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Lo(e,gT(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new q(K.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}},HE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_(`Unknown`),this.b_=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this.b_=null,this.F_(`Backend didn't respond within 10 seconds.`),this.C_(`Offline`),Promise.resolve()))))}M_(e){this.state===`Online`?this.C_(`Unknown`):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_(`Offline`)))}set(e){this.x_(),this.S_=0,e===`Online`&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Px(t),this.D_=!1):H(`OnlineStateTracker`,t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}},UE=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{QE(this)&&(H(`RemoteStore`,`Restarting streams for network reachability change.`),await async function(e){let t=G(e);t.L_.add(4),await GE(t),t.q_.set(`Unknown`),t.L_.delete(4),await WE(t)}(this))}))})),this.q_=new HE(n,r)}};async function WE(e){if(QE(e))for(let t of e.B_)await t(!0)}async function GE(e){for(let t of e.B_)await t(!1)}function KE(e,t){let n=G(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),ZE(n)?XE(n):_D(n).r_()&&JE(n,t))}function qE(e,t){let n=G(e),r=_D(n);n.N_.delete(t),r.r_()&&YE(n,t),n.N_.size===0&&(r.r_()?r.o_():QE(n)&&n.q_.set(`Unknown`))}function JE(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Y.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_D(e).A_(t)}function YE(e,t){e.Q_.xe(t),_D(e).R_(t)}function XE(e){e.Q_=new rT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),_D(e).start(),e.q_.v_()}function ZE(e){return QE(e)&&!_D(e).n_()&&e.N_.size>0}function QE(e){return G(e).L_.size===0}function $E(e){e.Q_=void 0}async function eD(e){e.q_.set(`Online`)}async function tD(e){e.N_.forEach(((t,n)=>{JE(e,t)}))}async function nD(e,t){$E(e),ZE(e)?(e.q_.M_(t),XE(e)):e.q_.set(`Unknown`)}async function rD(e,t,n){if(e.q_.set(`Online`),t instanceof tT&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){H(`RemoteStore`,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await iD(e,n)}else if(t instanceof $w?e.Q_.Ke(t):t instanceof eT?e.Q_.He(t):e.Q_.We(t),!n.isEqual(Y.min()))try{let t=await _E(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(wS.EMPTY_BYTE_STRING,r.snapshotVersion)),YE(e,t);let i=new VT(r.target,t,n,r.sequenceNumber);JE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){H(`RemoteStore`,`Failed to raise snapshot:`,t),await iD(e,t)}}async function iD(e,t,n){if(!lS(t))throw t;e.L_.add(1),await GE(e),e.q_.set(`Offline`),n||=()=>_E(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{H(`RemoteStore`,`Retrying IndexedDB access`),await n(),e.L_.delete(1),await WE(e)}))}function aD(e,t){return t().catch((n=>iD(e,n,t)))}async function oD(e){let t=G(e),n=vD(t),r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;sD(t);)try{let e=await bE(t.localStore,r);if(e===null){t.O_.length===0&&n.o_();break}r=e.batchId,cD(t,e)}catch(e){await iD(t,e)}lD(t)&&uD(t)}function sD(e){return QE(e)&&e.O_.length<10}function cD(e,t){e.O_.push(t);let n=vD(e);n.r_()&&n.V_&&n.m_(t.mutations)}function lD(e){return QE(e)&&!vD(e).n_()&&e.O_.length>0}function uD(e){vD(e).start()}async function dD(e){vD(e).p_()}async function fD(e){let t=vD(e);for(let n of e.O_)t.m_(n.mutations)}async function pD(e,t,n){let r=e.O_.shift(),i=Rw.from(r,t,n);await aD(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await oD(e)}async function mD(e,t){t&&vD(e).V_&&await async function(e,t){if(function(e){return Hw(e)&&e!==K.ABORTED}(t.code)){let n=e.O_.shift();vD(e).s_(),await aD(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await oD(e)}}(e,t),lD(e)&&uD(e)}async function hD(e,t){let n=G(e);n.asyncQueue.verifyOperationInProgress(),H(`RemoteStore`,`RemoteStore received new credentials`);let r=QE(n);n.L_.add(3),await GE(n),r&&n.q_.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await WE(n)}async function gD(e,t){let n=G(e);t?(n.L_.delete(2),await WE(n)):t||(n.L_.add(2),await GE(n),n.q_.set(`Unknown`))}function _D(e){return e.K_||(e.K_=function(e,t,n){let r=G(e);return r.w_(),new zE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:eD.bind(null,e),Ro:tD.bind(null,e),mo:nD.bind(null,e),d_:rD.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),ZE(e)?XE(e):e.q_.set(`Unknown`)):(await e.K_.stop(),$E(e))}))),e.K_}function vD(e){return e.U_||(e.U_=function(e,t,n){let r=G(e);return r.w_(),new BE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:dD.bind(null,e),mo:mD.bind(null,e),f_:fD.bind(null,e),g_:pD.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await oD(e)):(await e.U_.stop(),e.O_.length>0&&(H(`RemoteStore`,`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var yD=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lx,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=Date.now()+r,s=new e(t,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(K.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function bD(e,t){if(Px(`AsyncQueue`,`${t}: ${e}`),lS(e))return new q(K.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var xD=class e{constructor(e){this.comparator=e?(t,n)=>e(t,n)||X.comparator(t.key,n.key):(e,t)=>X.comparator(e.key,t.key),this.keyedMap=YC(),this.sortedSet=new _S(this.comparator)}static emptySet(t){return new e(t.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},SD=class{constructor(){this.W_=new _S(X.comparator)}track(e){let t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):U():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}},CD=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,xD.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&RC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},wD=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}},TD=class{constructor(){this.queries=ED(),this.onlineState=`Unknown`,this.Y_=new Set}terminate(){(function(e,t){let n=G(e),r=n.queries;n.queries=ED(),r.forEach(((e,n)=>{for(let e of n.j_)e.onError(t)}))})(this,new q(K.ABORTED,`Firestore shutting down`))}};function ED(){return new GC((e=>zC(e)),RC)}async function DD(e,t){let n=G(e),r=3,i=t.query,a=n.queries.get(i);a?!a.H_()&&t.J_()&&(r=2):(a=new wD,r=t.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=bD(e,`Initialization of query '${BC(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.j_.push(t),t.Z_(n.onlineState),a.z_&&t.X_(a.z_)&&jD(n)}async function OD(e,t){let n=G(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.j_.indexOf(t);e>=0&&(a.j_.splice(e,1),a.j_.length===0?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kD(e,t){let n=G(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.j_)t.X_(e)&&(r=!0);i.z_=e}}r&&jD(n)}function AD(e,t,n){let r=G(e),i=r.queries.get(t);if(i)for(let e of i.j_)e.onError(n);r.queries.delete(t)}function jD(e){e.Y_.forEach((e=>{e.next()}))}var MD,ND;(ND=MD||={}).ea=`default`,ND.Cache=`cache`;var PD=class{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState=`Unknown`,this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new CD(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let n=t!==`Offline`;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=CD.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==MD.Cache}},FD=class{constructor(e){this.key=e}},ID=class{constructor(e){this.key=e}},LD=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Q(),this.mutatedKeys=Q(),this.Aa=UC(e),this.Ra=new xD(this.Aa)}get Va(){return this.Ta}ma(e,t){let n=t?t.fa:new SD,r=t?t.Ra:this.Ra,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=VC(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.ga(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.Aa(u,s)>0||c&&this.Aa(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:a,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let a=e.fa.G_();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=r!=null&&r;let o=t&&!r?this.ya():[],s=this.da.size===0&&this.current&&!r?1:0,c=s!==this.Ea;return this.Ea=s,a.length!==0||c?{snapshot:new CD(this.query,e.Ra,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new SD,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Q(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));let t=[];return e.forEach((e=>{this.da.has(e)||t.push(new ID(e))})),this.da.forEach((n=>{e.has(n)||t.push(new FD(n))})),t}ba(e){this.Ta=e.Ts,this.da=Q();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return CD.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},RD=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},zD=class{constructor(e){this.key=e,this.va=!1}},BD=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new GC((e=>zC(e)),RC),this.Ma=new Map,this.xa=new Set,this.Oa=new _S(X.comparator),this.Na=new Map,this.La=new tE,this.Ba={},this.ka=new Map,this.qa=JT.kn(),this.onlineState=`Unknown`,this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}};async function VD(e,t,n=!0){let r=lO(e),i,a=r.Fa.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await UD(r,t,n,!0),i}async function HD(e,t){let n=lO(e);await UD(n,t,!0,!1)}async function UD(e,t,n,r){let i=await xE(e.localStore,PC(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await WD(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&KE(e.remoteStore,i),s}async function WD(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await CE(e.localStore,t.query,!1).then((({documents:e})=>t.view.ma(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return rO(e,t.targetId,s.wa),s.snapshot}(e,t,n,r);let a=await CE(e.localStore,t,!0),o=new LD(t,a.Ts),s=o.ma(a.documents),c=Qw.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);rO(e,n,l.wa);let u=new RD(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),l.snapshot}async function GD(e,t,n){let r=G(e),i=r.Fa.get(t),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter((e=>!RC(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await SE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qE(r.remoteStore,i.targetId),tO(r,i.targetId)})).catch(sS)):(tO(r,i.targetId),await SE(r.localStore,i.targetId,!0))}async function KD(e,t){let n=G(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qE(n.remoteStore,r.targetId))}async function qD(e,t,n){let r=uO(e);try{let e=await function(e,t){let n=G(e),r=Yx.now(),i=t.reduce(((e,t)=>e.add(t.key)),Q()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=qC(),c=Q();return n.cs.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=Ow(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new jw(e.key,t,$S(t.value.mapValue),Sw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:XC(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||=new _S(J),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await oO(r,e.changes),await oD(r.remoteStore)}catch(e){let t=bD(e,`Failed to persist write`);n.reject(t)}}async function JD(e,t){let n=G(e);try{let e=await vE(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Na.get(t);r&&(W(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?W(r.va):e.removedDocuments.size>0&&(W(r.va),r.va=!1))})),await oO(n,e,t)}catch(e){await sS(e)}}function YD(e,t,n){let r=G(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Fa.forEach(((n,r)=>{let i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=G(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.j_)e.Z_(t)&&(r=!0)})),r&&jD(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function XD(e,t,n){let r=G(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Na.get(t),a=i&&i.key;if(a){let e=new _S(X.comparator);e=e.insert(a,eC.newNoDocument(a,Y.min()));let n=Q().add(a),i=new Zw(Y.min(),new Map,new _S(J),e,n);await JD(r,i),r.Oa=r.Oa.remove(a),r.Na.delete(t),aO(r)}else await SE(r.localStore,t,!1).then((()=>tO(r,t,n))).catch(sS)}async function ZD(e,t){let n=G(e),r=t.batch.batchId;try{let e=await gE(n.localStore,t);eO(n,r,null),$D(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await oO(n,e)}catch(e){await sS(e)}}async function QD(e,t,n){let r=G(e);try{let e=await function(e,t){let n=G(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(W(t!==null),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);eO(r,t,n),$D(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await oO(r,e)}catch(e){await sS(e)}}function $D(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function eO(e,t,n){let r=G(e),i=r.Ba[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function tO(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||nO(e,t)}))}function nO(e,t){e.xa.delete(t.path.canonicalString());let n=e.Oa.get(t);n!==null&&(qE(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),aO(e))}function rO(e,t,n){for(let r of n)r instanceof FD?(e.La.addReference(r.key,t),iO(e,r)):r instanceof ID?(H(`SyncEngine`,`Document no longer in limbo: `+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||nO(e,r.key)):U()}function iO(e,t){let n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(H(`SyncEngine`,`New document in limbo: `+n),e.xa.add(r),aO(e))}function aO(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){let t=e.xa.values().next().value;e.xa.delete(t);let n=new X(Zx.fromString(t)),r=e.qa.next();e.Na.set(r,new zD(n)),e.Oa=e.Oa.insert(n,r),KE(e.remoteStore,new VT(PC(AC(n.path)),r,`TargetPurposeLimboResolution`,uS.oe))}}async function oO(e,t,n){let r=G(e),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,s)=>{o.push(r.Ka(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=uE.Wi(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){let n=G(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>Z.forEach(t,(t=>Z.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Z.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!lS(e))throw e;H(`LocalStore`,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.os.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(t,i)}}}(r.localStore,a))}async function sO(e,t){let n=G(e);if(!n.currentUser.isEqual(t)){H(`SyncEngine`,`User change. New user:`,t.toKey());let e=await hE(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new q(K.CANCELLED,t))}))})),e.ka.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await oO(n,e.hs)}}function cO(e,t){let n=G(e),r=n.Na.get(t);if(r&&r.va)return Q().add(r.key);{let e=Q(),r=n.Ma.get(t);if(!r)return e;for(let t of r){let r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function lO(e){let t=G(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XD.bind(null,t),t.Ca.d_=kD.bind(null,t.eventManager),t.Ca.$a=AD.bind(null,t.eventManager),t}function uO(e){let t=G(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QD.bind(null,t),t}var dO=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=IE(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return mE(this.persistence,new fE,e.initialUser,this.serializer)}Ga(e){return new sE(lE.Zr,this.serializer)}Wa(e){return new EE}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};dO.provider={build:()=>new dO};var fO=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>YD(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sO.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TD}()}createDatastore(e){let t=IE(e.databaseInfo.databaseId),n=function(e){return new PE(e)}(e.databaseInfo);return function(e,t,n,r){return new VE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new UE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>YD(this.syncEngine,e,0)),function(){return OE.D()?new OE:new DE}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new BD(e,t,n,r,i,a);return o&&(s.Qa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){let t=G(e);H(`RemoteStore`,`RemoteStore shutting down.`),t.L_.add(5),await GE(t),t.k_.shutdown(),t.q_.set(`Unknown`)}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}};fO.provider={build:()=>new fO};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var pO=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Px(`Uncaught Error in snapshot listener:`,e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},mO=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ax.UNAUTHENTICATED,this.clientId=qx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{H(`FirestoreClient`,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(H(`FirestoreClient`,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Lx;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=bD(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function hO(e,t){e.asyncQueue.verifyOperationInProgress(),H(`FirestoreClient`,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await hE(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function gO(e,t){e.asyncQueue.verifyOperationInProgress();let n=await _O(e);H(`FirestoreClient`,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>hD(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>hD(t.remoteStore,n))),e._onlineComponents=t}async function _O(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(`FirestoreClient`,`Using user provided OfflineComponentProvider`);try{await hO(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===K.FAILED_PRECONDITION||e.code===K.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Fx(`Error using user provided cache. Falling back to memory cache: `+n),await hO(e,new dO)}}else H(`FirestoreClient`,`Using default OfflineComponentProvider`),await hO(e,new dO);return e._offlineComponents}async function vO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(`FirestoreClient`,`Using user provided OnlineComponentProvider`),await gO(e,e._uninitializedComponentsProvider._online)):(H(`FirestoreClient`,`Using default OnlineComponentProvider`),await gO(e,new fO))),e._onlineComponents}function yO(e){return vO(e).then((e=>e.syncEngine))}async function bO(e){let t=await vO(e),n=t.eventManager;return n.onListen=VD.bind(null,t.syncEngine),n.onUnlisten=GD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=HD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=KD.bind(null,t.syncEngine),n}function xO(e,t,n={}){let r=new Lx;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new pO({next:s=>{a.Za(),t.enqueueAndForget((()=>OD(e,o)));let c=s.docs.has(n);!c&&s.fromCache?i.reject(new q(K.UNAVAILABLE,`Failed to get document because the client is offline.`)):c&&s.fromCache&&r&&r.source===`server`?i.reject(new q(K.UNAVAILABLE,`Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)`)):i.resolve(s)},error:e=>i.reject(e)}),o=new PD(AC(n.path),a,{includeMetadataChanges:!0,_a:!0});return DD(e,o)}(await bO(e),e.asyncQueue,t,n,r))),r.promise}function SO(e,t,n={}){let r=new Lx;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new pO({next:n=>{a.Za(),t.enqueueAndForget((()=>OD(e,o))),n.fromCache&&r.source===`server`?i.reject(new q(K.UNAVAILABLE,`Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)`)):i.resolve(n)},error:e=>i.reject(e)}),o=new PD(n,a,{includeMetadataChanges:!0,_a:!0});return DD(e,o)}(await bO(e),e.asyncQueue,t,n,r))),r.promise}
/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function CO(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wO=new Map;
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function TO(e,t,n){if(!n)throw new q(K.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function EO(e,t,n,r){if(!0===t&&!0===r)throw new q(K.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function DO(e){if(!X.isDocumentKey(e))throw new q(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function OO(e){if(X.isDocumentKey(e))throw new q(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function kO(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:U()}function AO(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(K.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=kO(e);throw new q(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var jO=class{constructor(e){var t;if(e.host===void 0){if(e.ssl!==void 0)throw new q(K.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=`firestore.googleapis.com`,this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)==null||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(K.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}EO(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CO(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new q(K.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new q(K.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new q(K.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},MO=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new jO({}),this._settingsFrozen=!1,this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new q(K.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new q(K.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new jO(e),e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new zx;switch(e.type){case`firstParty`:return new Ux(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new q(K.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=wO.get(e);t&&(H(`ComponentProvider`,`Removing Datastore`),wO.delete(e),t.terminate())}(this),Promise.resolve()}};function NO(e,t,n,r={}){let i=(e=AO(e,MO))._getSettings(),a=`${t}:${n}`;if(i.host!==`firestore.googleapis.com`&&i.host!==a&&Fx(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=Ax.MOCK_USER;else{t=cm(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new q(K.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new Ax(i)}e._authCredentials=new Bx(new Rx(t,n))}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var PO=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},FO=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new IO(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}},IO=class e extends PO{constructor(e,t,n){super(e,t,AC(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new FO(this.firestore,null,new X(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function LO(e,t,...n){if(e=z(e),TO(`collection`,`path`,t),e instanceof MO){let r=Zx.fromString(t,...n);return OO(r),new IO(e,null,r)}{if(!(e instanceof FO||e instanceof IO))throw new q(K.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(Zx.fromString(t,...n));return OO(r),new IO(e.firestore,null,r)}}function RO(e,t,...n){if(e=z(e),arguments.length===1&&(t=qx.newId()),TO(`doc`,`path`,t),e instanceof MO){let r=Zx.fromString(t,...n);return DO(r),new FO(e,null,new X(r))}{if(!(e instanceof FO||e instanceof IO))throw new q(K.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(Zx.fromString(t,...n));return DO(r),new FO(e.firestore,e instanceof IO?e.converter:null,new X(r))}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var zO=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new LE(this,`async_queue_retry`),this.Vu=()=>{let e=FE();e&&H(`AsyncQueue`,`Visibility state changed to `+e.visibilityState),this.t_.jo()},this.mu=e;let t=FE();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=FE();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));let t=new Lx;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!lS(e))throw e;H(`AsyncQueue`,`Operation failed with retryable error: `+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){let t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;let t=function(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}(e);throw Px(`INTERNAL UNHANDLED ERROR: `,t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let r=yD.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&U()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.Tu)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function BO(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var VO=class extends MO{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new zO,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new zO(e),this._firestoreClient=void 0,await e}}};function HO(e,t){let n=typeof e==`object`?e:og(),r=typeof e==`string`?e:t||`(default)`,i=eg(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=im(`firestore`);e&&NO(i,...e)}return i}function UO(e){if(e._terminated)throw new q(K.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||WO(e),e._firestoreClient}function WO(e){var t,n;let r=e._freezeSettings(),i=function(e,t,n,r){return new MS(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,CO(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,r);e._componentsProvider||(t=r.localCache)!=null&&t._offlineComponentProvider&&(n=r.localCache)!=null&&n._onlineComponentProvider&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new mO(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var GO=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(wS.fromBase64String(t))}catch(e){throw new q(K.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(wS.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}},KO=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new q(K.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new $x(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},qO=class{constructor(e){this._methodName=e}},JO=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new q(K.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new q(K.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}},YO=class{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}},XO=/^__.*__$/,ZO=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new Aw(e,this.data,t,this.fieldTransforms):new jw(e,this.data,this.fieldMask,t,this.fieldTransforms)}},QO=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new jw(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function $O(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}var ek=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){let t=this.path?.child(e),n=this.Fu({path:t,xu:!1});return n.Ou(e),n}Nu(e){let t=this.path?.child(e),n=this.Fu({path:t,xu:!1});return n.vu(),n}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gk(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu(`Document fields must not be empty`);if($O(this.Cu)&&XO.test(e))throw this.Bu(`Document fields cannot begin and end with "__"`)}},tk=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||IE(e)}Qu(e,t,n,r=!1){return new ek({Cu:e,methodName:t,qu:n,path:$x.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function nk(e){let t=e._freezeSettings(),n=IE(e._databaseId);return new tk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function rk(e,t,n,r,i,a={}){let o=e.Qu(a.merge||a.mergeFields?2:0,t,n,i);fk(`Data must be an object, but it was:`,o,r);let s=uk(r,o),c,l;if(a.merge)c=new SS(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=pk(t,r,n);if(!o.contains(i))throw new q(K.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);_k(e,i)||e.push(i)}c=new SS(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new ZO(new QS(s),c,l)}var ik=class e extends qO{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}},ak=class e extends qO{_toFieldTransform(e){return new yw(e.path,new dw)}isEqual(t){return t instanceof e}};function ok(e,t,n,r){let i=e.Qu(1,t,n);fk(`Data must be an object, but it was:`,i,r);let a=[],o=QS.empty();hS(r,((e,r)=>{let s=hk(t,e,n);r=z(r);let c=i.Nu(s);if(r instanceof ik)a.push(s);else{let e=lk(r,c);e!=null&&(a.push(s),o.set(s,e))}}));let s=new SS(a);return new QO(o,s,i.fieldTransforms)}function sk(e,t,n,r,i,a){let o=e.Qu(1,t,n),s=[pk(t,r,n)],c=[i];if(a.length%2!=0)throw new q(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(pk(t,a[e])),c.push(a[e+1]);let l=[],u=QS.empty();for(let e=s.length-1;e>=0;--e)if(!_k(l,s[e])){let t=s[e],n=c[e];n=z(n);let r=o.Nu(t);if(n instanceof ik)l.push(t);else{let e=lk(n,r);e!=null&&(l.push(t),u.set(t,e))}}let d=new SS(l);return new QO(u,d,o.fieldTransforms)}function ck(e,t,n,r=!1){return lk(n,e.Qu(r?4:3,t))}function lk(e,t){if(dk(e=z(e)))return fk(`Unsupported field value:`,t,e),uk(e,t);if(e instanceof qO)return function(e,t){if(!$O(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=lk(i,t.Lu(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=z(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return ow(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=Yx.fromDate(e);return{timestampValue:dT(t.serializer,n)}}if(e instanceof Yx){let n=new Yx(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dT(t.serializer,n)}}if(e instanceof JO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof GO)return{bytesValue:fT(t.serializer,e._byteString)};if(e instanceof FO){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:hT(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof YO)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:`__vector__`},value:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.Bu(`VectorValues must only contain numeric values.`);return iw(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${kO(e)}`)}(e,t)}function uk(e,t){let n={};return gS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hS(e,((e,r)=>{let i=lk(r,t.Mu(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function dk(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof Yx||e instanceof JO||e instanceof GO||e instanceof FO||e instanceof qO||e instanceof YO)}function fk(e,t,n){if(!dk(n)||!function(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}(n)){let r=kO(n);throw r===`an object`?t.Bu(e+` a custom object`):t.Bu(e+` `+r)}}function pk(e,t,n){if((t=z(t))instanceof KO)return t._internalPath;if(typeof t==`string`)return hk(e,t);throw gk(`Field path arguments must be of type string or `,e,!1,void 0,n)}var mk=RegExp(`[~\\*/\\[\\]]`);function hk(e,t,n){if(t.search(mk)>=0)throw gk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new KO(...t.split(`.`))._internalPath}catch{throw gk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function gk(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new q(K.INVALID_ARGUMENT,s+e+c)}function _k(e,t){return e.some((e=>e.isEqual(t)))}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var vk=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new FO(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new yk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(bk(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},yk=class extends vk{data(){return super.data()}};function bk(e,t){return typeof t==`string`?hk(e,t):t instanceof KO?t._internalPath:t._delegate._internalPath}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function xk(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new q(K.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var Sk=class{},Ck=class extends Sk{};function wk(e,t,...n){let r=[];t instanceof Sk&&r.push(t),r=r.concat(n),function(e){let t=e.filter((e=>e instanceof Dk)).length,n=e.filter((e=>e instanceof Tk)).length;if(t>1||t>0&&n>0)throw new q(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let t of r)e=t._apply(e);return e}var Tk=class e extends Ck{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type=`where`}static _create(t,n,r){return new e(t,n,r)}_apply(e){let t=this._parse(e);return Mk(e._query,t),new PO(e.firestore,e.converter,IC(e._query,t))}_parse(e){let t=nk(e.firestore);return function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if(a===`array-contains`||a===`array-contains-any`)throw new q(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if(a===`in`||a===`not-in`){jk(o,a);let t=[];for(let n of o)t.push(Ak(r,e,n));s={arrayValue:{values:t}}}else s=Ak(r,e,o)}else a!==`in`&&a!==`not-in`&&a!==`array-contains-any`||jk(o,a),s=ck(n,t,o,a===`in`||a===`not-in`);return sC.create(i,a,s)}(e._query,`where`,t,e.firestore._databaseId,this._field,this._op,this._value)}};function Ek(e,t,n){let r=t,i=bk(`where`,e);return Tk._create(i,r,n)}var Dk=class e extends Sk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(t,n){return new e(t,n)}_parse(e){let t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return t.length===1?t[0]:cC.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(e,t){let n=e,r=t.getFlattenedFilters();for(let e of r)Mk(n,e),n=IC(n,e)}(e._query,t),new PO(e.firestore,e.converter,IC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type===`and`?`and`:`or`}},Ok=class e extends Ck{constructor(e,t){super(),this._field=e,this._direction=t,this.type=`orderBy`}static _create(t,n){return new e(t,n)}_apply(e){let t=function(e,t,n){if(e.startAt!==null)throw new q(K.INVALID_ARGUMENT,`Invalid query. You must not call startAt() or startAfter() before calling orderBy().`);if(e.endAt!==null)throw new q(K.INVALID_ARGUMENT,`Invalid query. You must not call endAt() or endBefore() before calling orderBy().`);return new iC(t,n)}(e._query,this._field,this._direction);return new PO(e.firestore,e.converter,function(e,t){let n=e.explicitOrderBy.concat([t]);return new OC(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}};function kk(e,t=`asc`){let n=t,r=bk(`orderBy`,e);return Ok._create(r,n)}function Ak(e,t,n){if(typeof(n=z(n))==`string`){if(n===``)throw new q(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.`);if(!MC(t)&&n.indexOf(`/`)!==-1)throw new q(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(Zx.fromString(n));if(!X.isDocumentKey(r))throw new q(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return US(e,new X(r))}if(n instanceof FO)return US(e,n._key);throw new q(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kO(n)}.`)}function jk(e,t){if(!Array.isArray(e)||e.length===0)throw new q(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Mk(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case`!=`:return[`!=`,`not-in`];case`array-contains-any`:case`in`:return[`not-in`];case`not-in`:return[`array-contains-any`,`in`,`not-in`,`!=`];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}var Nk=class{convertValue(e,t=`none`){switch(FS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return DS(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(OS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw U()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return hS(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=(e.fields?.value.arrayValue?.values)?.map((e=>DS(e.doubleValue)));return new YO(t)}convertGeoPoint(e){return new JO(DS(e.latitude),DS(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=AS(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(jS(e));default:return null}}convertTimestamp(e){let t=ES(e);return new Yx(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=Zx.fromString(e);W(BT(n));let r=new NS(n.get(1),n.get(3)),i=new X(n.popFirst(5));return r.isEqual(t)||Px(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Pk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Fk=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ik=class extends vk{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Lk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(bk(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}},Lk=class extends Ik{data(e={}){return super.data(e)}},Rk=class{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Fk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Lk(this._firestore,this._userDataWriter,n.key,n,new Fk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new q(K.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new Lk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Fk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new Lk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:zk(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function zk(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return U()}}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Bk(e){e=AO(e,FO);let t=AO(e.firestore,VO);return xO(UO(t),e._key).then((n=>Jk(t,e,n)))}var Vk=class extends Nk{constructor(e){super(),this.firestore=e}convertBytes(e){return new GO(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new FO(this.firestore,null,t)}};function Hk(e){e=AO(e,PO);let t=AO(e.firestore,VO),n=UO(t),r=new Vk(t);return xk(e._query),SO(n,e._query).then((n=>new Rk(t,r,e,n)))}function Uk(e,t,n){e=AO(e,FO);let r=AO(e.firestore,VO),i=Pk(e.converter,t,n);return qk(r,[rk(nk(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,Sw.none())])}function Wk(e,t,n,...r){e=AO(e,FO);let i=AO(e.firestore,VO),a=nk(i),o;return o=typeof(t=z(t))==`string`||t instanceof KO?sk(a,`updateDoc`,e._key,t,n,r):ok(a,`updateDoc`,e._key,t),qk(i,[o.toMutation(e._key,Sw.exists(!0))])}function Gk(e,t){let n=AO(e.firestore,VO),r=RO(e),i=Pk(e.converter,t);return qk(n,[rk(nk(e.firestore),`addDoc`,r._key,i,e.converter!==null,{}).toMutation(r._key,Sw.exists(!1))]).then((()=>r))}function Kk(e,...t){e=z(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||BO(t[r])||(n=t[r],r++);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(BO(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof FO)o=AO(e.firestore,VO),s=AC(e._key.path),a={next:n=>{t[r]&&t[r](Jk(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=AO(e,PO);o=AO(n.firestore,VO),s=n._query;let i=new Vk(o);a={next:e=>{t[r]&&t[r](new Rk(o,i,n,e))},error:t[r+1],complete:t[r+2]},xk(e._query)}return function(e,t,n,r){let i=new pO(r),a=new PD(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>DD(await bO(e),a))),()=>{i.Za(),e.asyncQueue.enqueueAndForget((async()=>OD(await bO(e),a)))}}(UO(o),s,i,a)}function qk(e,t){return function(e,t){let n=new Lx;return e.asyncQueue.enqueueAndForget((async()=>qD(await yO(e),t,n))),n.promise}(UO(e),t)}function Jk(e,t,n){let r=n.docs.get(t._key),i=new Vk(e);return new Ik(e,i,t._key,r,new Fk(n.hasPendingWrites,n.fromCache),t.converter)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Yk=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nk(e)}set(e,t,n){this._verifyNotCommitted();let r=Xk(e,this._firestore),i=Pk(r.converter,t,n),a=rk(this._dataReader,`WriteBatch.set`,r._key,i,r.converter!==null,n);return this._mutations.push(a.toMutation(r._key,Sw.none())),this}update(e,t,n,...r){this._verifyNotCommitted();let i=Xk(e,this._firestore),a;return a=typeof(t=z(t))==`string`||t instanceof KO?sk(this._dataReader,`WriteBatch.update`,i._key,t,n,r):ok(this._dataReader,`WriteBatch.update`,i._key,t),this._mutations.push(a.toMutation(i._key,Sw.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=Xk(e,this._firestore);return this._mutations=this._mutations.concat(new Fw(t._key,Sw.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(K.FAILED_PRECONDITION,`A write batch can no longer be used after commit() has been called.`)}};function Xk(e,t){if((e=z(e)).firestore!==t)throw new q(K.INVALID_ARGUMENT,`Provided document reference is from a different Firestore instance.`);return e}function Zk(){return new ak(`serverTimestamp`)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Qk(e){return UO(e=AO(e,VO)),new Yk(e,(t=>qk(e,t)))}(function(e,t=!0){(function(e){jx=e})(ig),$h(new Pm(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new VO(new Vx(e.getProvider(`auth-internal`)),new Gx(e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new q(K.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new NS(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),sg(kx,`4.7.3`,e),sg(kx,`4.7.3`,`esm2017`)})();
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var $k=`firebasestorage.googleapis.com`,eA=`storageBucket`,tA=120*1e3,nA=600*1e3,rA=class e extends bm{constructor(t,n,r=0){super(aA(t),`Firebase Storage: ${n} (${aA(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return aA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}},iA;(function(e){e.UNKNOWN=`unknown`,e.OBJECT_NOT_FOUND=`object-not-found`,e.BUCKET_NOT_FOUND=`bucket-not-found`,e.PROJECT_NOT_FOUND=`project-not-found`,e.QUOTA_EXCEEDED=`quota-exceeded`,e.UNAUTHENTICATED=`unauthenticated`,e.UNAUTHORIZED=`unauthorized`,e.UNAUTHORIZED_APP=`unauthorized-app`,e.RETRY_LIMIT_EXCEEDED=`retry-limit-exceeded`,e.INVALID_CHECKSUM=`invalid-checksum`,e.CANCELED=`canceled`,e.INVALID_EVENT_NAME=`invalid-event-name`,e.INVALID_URL=`invalid-url`,e.INVALID_DEFAULT_BUCKET=`invalid-default-bucket`,e.NO_DEFAULT_BUCKET=`no-default-bucket`,e.CANNOT_SLICE_BLOB=`cannot-slice-blob`,e.SERVER_FILE_WRONG_SIZE=`server-file-wrong-size`,e.NO_DOWNLOAD_URL=`no-download-url`,e.INVALID_ARGUMENT=`invalid-argument`,e.INVALID_ARGUMENT_COUNT=`invalid-argument-count`,e.APP_DELETED=`app-deleted`,e.INVALID_ROOT_OPERATION=`invalid-root-operation`,e.INVALID_FORMAT=`invalid-format`,e.INTERNAL_ERROR=`internal-error`,e.UNSUPPORTED_ENVIRONMENT=`unsupported-environment`})(iA||={});function aA(e){return`storage/`+e}function oA(){return new rA(iA.UNKNOWN,`An unknown error occurred, please check the error payload for server response.`)}function sA(e){return new rA(iA.OBJECT_NOT_FOUND,`Object '`+e+`' does not exist.`)}function cA(e){return new rA(iA.QUOTA_EXCEEDED,`Quota for bucket '`+e+`' exceeded, please view quota on https://firebase.google.com/pricing/.`)}function lA(){return new rA(iA.UNAUTHENTICATED,`User is not authenticated, please authenticate using Firebase Authentication and try again.`)}function uA(){return new rA(iA.UNAUTHORIZED_APP,`This app does not have permission to access Firebase Storage on this project.`)}function dA(e){return new rA(iA.UNAUTHORIZED,`User does not have permission to access '`+e+`'.`)}function fA(){return new rA(iA.RETRY_LIMIT_EXCEEDED,`Max retry time for operation exceeded, please try again.`)}function pA(){return new rA(iA.CANCELED,`User canceled the upload/download.`)}function mA(e){return new rA(iA.INVALID_URL,`Invalid URL '`+e+`'.`)}function hA(e){return new rA(iA.INVALID_DEFAULT_BUCKET,`Invalid default bucket '`+e+`'.`)}function gA(){return new rA(iA.NO_DEFAULT_BUCKET,`No default bucket found. Did you set the '`+eA+`' property when initializing the app?`)}function _A(){return new rA(iA.CANNOT_SLICE_BLOB,`Cannot slice blob for upload. Please retry the upload.`)}function vA(){return new rA(iA.NO_DOWNLOAD_URL,`The given file does not have any download URLs.`)}function yA(e){return new rA(iA.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bA(e){return new rA(iA.INVALID_ARGUMENT,e)}function xA(){return new rA(iA.APP_DELETED,`The Firebase app was deleted.`)}function SA(e){return new rA(iA.INVALID_ROOT_OPERATION,`The operation '`+e+`' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').`)}function CA(e,t){return new rA(iA.INVALID_FORMAT,`String does not match format '`+e+`': `+t)}function wA(e){throw new rA(iA.INTERNAL_ERROR,`Internal error: `+e)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var TA=class e{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return`/b/`+e(this.bucket)+`/o/`+e(this.path)}bucketOnlyServerUrl(){return`/b/`+encodeURIComponent(this.bucket)+`/o`}static makeFromBucketSpec(t,n){let r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,``)}if(r.path===``)return r;throw hA(t)}static makeFromUrl(t,n){let r=null,i=`([A-Za-z0-9.\\-_]+)`;function a(e){e.path.charAt(e.path.length-1)===`/`&&(e.path_=e.path_.slice(0,-1))}let o=RegExp(`^gs://`+i+`(/(.*))?$`,`i`),s={bucket:1,path:3};function c(e){e.path_=decodeURIComponent(e.path)}let l=n.replace(/[.]/g,`\\.`),u=RegExp(`^https?://${l}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?\$`,`i`),d={bucket:1,path:3},f=n===$k?`(?:storage.googleapis.com|storage.cloud.google.com)`:n,p=RegExp(`^https?://${f}/${i}/([^?#]*)`,`i`),m=[{regex:o,indices:s,postModify:a},{regex:u,indices:d,postModify:c},{regex:p,indices:{bucket:1,path:2},postModify:c}];for(let n=0;n<m.length;n++){let i=m[n],a=i.regex.exec(t);if(a){let t=a[i.indices.bucket],n=a[i.indices.path];n||=``,r=new e(t,n),i.postModify(r);break}}if(r==null)throw mA(t);return r}},EA=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function DA(e,t,n){let r=1,i=null,a=null,o=!1,s=0;function c(){return s===2}let l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function d(t){i=setTimeout(()=>{i=null,e(p,c())},t)}function f(){a&&clearTimeout(a)}function p(e,...t){if(l){f();return}if(e){f(),u.call(null,e,...t);return}if(c()||o){f(),u.call(null,e,...t);return}r<64&&(r*=2);let n;s===1?(s=2,n=0):n=(r+Math.random())*1e3,d(n)}let m=!1;function h(e){m||(m=!0,f(),!l&&(i===null?e||(s=1):(e||(s=2),clearTimeout(i),d(0))))}return d(0),a=setTimeout(()=>{o=!0,h(!0)},n),h}function OA(e){e(!1)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function kA(e){return e!==void 0}function AA(e){return typeof e==`object`&&!Array.isArray(e)}function jA(e){return typeof e==`string`||e instanceof String}function MA(e){return NA()&&e instanceof Blob}function NA(){return typeof Blob<`u`}function PA(e,t,n,r){if(r<t)throw bA(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw bA(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function FA(e,t,n){let r=t;return n??(r=`https://${t}`),`${n}://${r}/v0${e}`}function IA(e){let t=encodeURIComponent,n=`?`;for(let r in e)if(e.hasOwnProperty(r)){let i=t(r)+`=`+t(e[r]);n=n+i+`&`}return n=n.slice(0,-1),n}var LA;(function(e){e[e.NO_ERROR=0]=`NO_ERROR`,e[e.NETWORK_ERROR=1]=`NETWORK_ERROR`,e[e.ABORT=2]=`ABORT`})(LA||={});
/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function RA(e,t){let n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||r||i}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var zA=class{constructor(e,t,n,r,i,a,o,s,c,l,u,d=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t){e(!1,new BA(!1,null,!0));return}let n=this.connectionFactory_();this.pendingConnection_=n;let r=e=>{let t=e.loaded,n=e.lengthComputable?e.total:-1;this.progressCallback_!==null&&this.progressCallback_(t,n)};this.progressCallback_!==null&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&n.removeUploadProgressListener(r),this.pendingConnection_=null;let t=n.getErrorCode()===LA.NO_ERROR,i=n.getStatus();if(!t||RA(i,this.additionalRetryCodes_)&&this.retry){let t=n.getErrorCode()===LA.ABORT;e(!1,new BA(!1,null,t));return}let a=this.successCodes_.indexOf(i)!==-1;e(!0,new BA(a,n))})},t=(e,t)=>{let n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(i,i.getResponse());kA(e)?n(e):n()}catch(e){r(e)}else if(i!==null){let e=oA();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){let e=this.appDelete_?xA():pA();r(e)}else{let e=fA();r(e)}};this.canceled_?t(!1,new BA(!1,null,!0)):this.backoffId_=DA(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},BA=class{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}};function VA(e,t){t!==null&&t.length>0&&(e.Authorization=`Firebase `+t)}function HA(e,t){e[`X-Firebase-Storage-Version`]=`webjs/`+(t??`AppManager`)}function UA(e,t){t&&(e[`X-Firebase-GMPID`]=t)}function WA(e,t){t!==null&&(e[`X-Firebase-AppCheck`]=t)}function GA(e,t,n,r,i,a,o=!0){let s=IA(e.urlParams),c=e.url+s,l=Object.assign({},e.headers);return UA(l,t),VA(l,n),HA(l,a),WA(l,r),new zA(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function KA(){if(typeof BlobBuilder<`u`)return BlobBuilder;if(typeof WebKitBlobBuilder<`u`)return WebKitBlobBuilder}function qA(...e){let t=KA();if(t!==void 0){let n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}else if(NA())return new Blob(e);else throw new rA(iA.UNSUPPORTED_ENVIRONMENT,`This browser doesn't seem to support creating Blobs`)}function JA(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function YA(e){if(typeof atob>`u`)throw yA(`base-64`);return atob(e)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var XA={RAW:`raw`,BASE64:`base64`,BASE64URL:`base64url`,DATA_URL:`data_url`},ZA=class{constructor(e,t){this.data=e,this.contentType=t||null}};function QA(e,t){switch(e){case XA.RAW:return new ZA($A(t));case XA.BASE64:case XA.BASE64URL:return new ZA(tj(e,t));case XA.DATA_URL:return new ZA(rj(t),ij(t))}throw oA()}function $A(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)==55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)==56320))t.push(239,191,189);else{let i=r,a=e.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else (r&64512)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function ej(e){let t;try{t=decodeURIComponent(e)}catch{throw CA(XA.DATA_URL,`Malformed data URL.`)}return $A(t)}function tj(e,t){switch(e){case XA.BASE64:{let n=t.indexOf(`-`)!==-1,r=t.indexOf(`_`)!==-1;if(n||r)throw CA(e,`Invalid character '`+(n?`-`:`_`)+`' found: is it base64url encoded?`);break}case XA.BASE64URL:{let n=t.indexOf(`+`)!==-1,r=t.indexOf(`/`)!==-1;if(n||r)throw CA(e,`Invalid character '`+(n?`+`:`/`)+`' found: is it base64 encoded?`);t=t.replace(/-/g,`+`).replace(/_/g,`/`);break}}let n;try{n=YA(t)}catch(t){throw t.message.includes(`polyfill`)?t:CA(e,`Invalid character found`)}let r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}var nj=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw CA(XA.DATA_URL,`Must be formatted 'data:[<mediatype>][;base64],<data>`);let n=t[1]||null;n!=null&&(this.base64=aj(n,`;base64`),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(`,`)+1)}};function rj(e){let t=new nj(e);return t.base64?tj(XA.BASE64,t.rest):ej(t.rest)}function ij(e){return new nj(e).contentType}function aj(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var oj=class e{constructor(e,t){let n=0,r=``;MA(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,n){if(MA(this.data_)){let r=this.data_,i=JA(r,t,n);return i===null?null:new e(i)}else{let r=new Uint8Array(this.data_.buffer,t,n-t);return new e(r,!0)}}static getBlob(...t){if(NA()){let n=t.map(t=>t instanceof e?t.data_:t);return new e(qA.apply(null,n))}else{let n=t.map(e=>jA(e)?QA(XA.RAW,e).data:e.data_),r=0;n.forEach(e=>{r+=e.byteLength});let i=new Uint8Array(r),a=0;return n.forEach(e=>{for(let t=0;t<e.length;t++)i[a++]=e[t]}),new e(i,!0)}}uploadData(){return this.data_}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function sj(e){let t;try{t=JSON.parse(e)}catch{return null}return AA(t)?t:null}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function cj(e){if(e.length===0)return null;let t=e.lastIndexOf(`/`);return t===-1?``:e.slice(0,t)}function lj(e,t){let n=t.split(`/`).filter(e=>e.length>0).join(`/`);return e.length===0?n:e+`/`+n}function uj(e){let t=e.lastIndexOf(`/`,e.length-2);return t===-1?e:e.slice(t+1)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function dj(e,t){return t}var fj=class{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||dj}},pj=null;function mj(e){return!jA(e)||e.length<2?e:uj(e)}function hj(){if(pj)return pj;let e=[];e.push(new fj(`bucket`)),e.push(new fj(`generation`)),e.push(new fj(`metageneration`)),e.push(new fj(`name`,`fullPath`,!0));function t(e,t){return mj(t)}let n=new fj(`name`);n.xform=t,e.push(n);function r(e,t){return t===void 0?t:Number(t)}let i=new fj(`size`);return i.xform=r,e.push(i),e.push(new fj(`timeCreated`)),e.push(new fj(`updated`)),e.push(new fj(`md5Hash`,null,!0)),e.push(new fj(`cacheControl`,null,!0)),e.push(new fj(`contentDisposition`,null,!0)),e.push(new fj(`contentEncoding`,null,!0)),e.push(new fj(`contentLanguage`,null,!0)),e.push(new fj(`contentType`,null,!0)),e.push(new fj(`metadata`,`customMetadata`,!0)),pj=e,pj}function gj(e,t){function n(){let n=e.bucket,r=e.fullPath,i=new TA(n,r);return t._makeStorageReference(i)}Object.defineProperty(e,`ref`,{get:n})}function _j(e,t,n){let r={};r.type=`file`;let i=n.length;for(let e=0;e<i;e++){let i=n[e];r[i.local]=i.xform(r,t[i.server])}return gj(r,e),r}function vj(e,t,n){let r=sj(t);return r===null?null:_j(e,r,n)}function yj(e,t,n,r){let i=sj(t);if(i===null||!jA(i.downloadTokens))return null;let a=i.downloadTokens;if(a.length===0)return null;let o=encodeURIComponent;return a.split(`,`).map(t=>{let i=e.bucket,a=e.fullPath,s=`/b/`+o(i)+`/o/`+o(a),c=FA(s,n,r),l=IA({alt:`media`,token:t});return c+l})[0]}function bj(e,t){let n={},r=t.length;for(let i=0;i<r;i++){let r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}var xj=class{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Sj(e){if(!e)throw oA()}function Cj(e,t){function n(n,r){let i=vj(e,r,t);return Sj(i!==null),i}return n}function wj(e,t){function n(n,r){let i=vj(e,r,t);return Sj(i!==null),yj(i,r,e.host,e._protocol)}return n}function Tj(e){function t(t,n){let r;return r=t.getStatus()===401?t.getErrorText().includes(`Firebase App Check token is invalid`)?uA():lA():t.getStatus()===402?cA(e.bucket):t.getStatus()===403?dA(e.path):n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}return t}function Ej(e){let t=Tj(e);function n(n,r){let i=t(n,r);return n.getStatus()===404&&(i=sA(e.path)),i.serverResponse=r.serverResponse,i}return n}function Dj(e,t,n){let r=t.fullServerUrl(),i=FA(r,e.host,e._protocol),a=e.maxOperationRetryTime,o=new xj(i,`GET`,wj(e,n),a);return o.errorHandler=Ej(t),o}function Oj(e,t){return e&&e.contentType||t&&t.type()||`application/octet-stream`}function kj(e,t,n){let r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||=Oj(null,t),r}function Aj(e,t,n,r,i){let a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":`multipart`};function s(){let e=``;for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}let c=s();o[`Content-Type`]=`multipart/related; boundary=`+c;let l=kj(t,r,i),u=bj(l,n),d=`--`+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+c+`--`,p=oj.getBlob(d,r,f);if(p===null)throw _A();let m={name:l.fullPath},h=FA(a,e.host,e._protocol),g=e.maxUploadRetryTime,_=new xj(h,`POST`,Cj(e,n),g);return _.urlParams=m,_.headers=o,_.body=p.uploadData(),_.errorHandler=Tj(t),_}var jj=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=LA.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener(`abort`,()=>{this.errorCode_=LA.ABORT,e()}),this.xhr_.addEventListener(`error`,()=>{this.errorCode_=LA.NETWORK_ERROR,e()}),this.xhr_.addEventListener(`load`,()=>{e()})})}send(e,t,n,r){if(this.sent_)throw wA(`cannot .send() more than once`);if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return n===void 0?this.xhr_.send():this.xhr_.send(n),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wA(`cannot .getErrorCode() before sending`);return this.errorCode_}getStatus(){if(!this.sent_)throw wA(`cannot .getStatus() before sending`);try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wA(`cannot .getResponse() before sending`);return this.xhr_.response}getErrorText(){if(!this.sent_)throw wA(`cannot .getErrorText() before sending`);return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener(`progress`,e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener(`progress`,e)}},Mj=class extends jj{initXhr(){this.xhr_.responseType=`text`}};function Nj(){return new Mj}
/**
* @license
* Copyright 2019 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Pj=class e{constructor(e,t){this._service=e,t instanceof TA?this._location=t:this._location=TA.makeFromUrl(t,e.host)}toString(){return`gs://`+this._location.bucket+`/`+this._location.path}_newRef(t,n){return new e(t,n)}get root(){let e=new TA(this._location.bucket,``);return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uj(this._location.path)}get storage(){return this._service}get parent(){let t=cj(this._location.path);if(t===null)return null;let n=new TA(this._location.bucket,t);return new e(this._service,n)}_throwIfRoot(e){if(this._location.path===``)throw SA(e)}};function Fj(e,t,n){e._throwIfRoot(`uploadBytes`);let r=Aj(e.storage,e._location,hj(),new oj(t,!0),n);return e.storage.makeRequestWithTokens(r,Nj).then(t=>({metadata:t,ref:e}))}function Ij(e){e._throwIfRoot(`getDownloadURL`);let t=Dj(e.storage,e._location,hj());return e.storage.makeRequestWithTokens(t,Nj).then(e=>{if(e===null)throw vA();return e})}function Lj(e,t){let n=lj(e._location.path,t),r=new TA(e._location.bucket,n);return new Pj(e.storage,r)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function Rj(e){return/^[A-Za-z]+:\/\//.test(e)}function zj(e,t){return new Pj(e,t)}function Bj(e,t){if(e instanceof Wj){let n=e;if(n._bucket==null)throw gA();let r=new Pj(n,n._bucket);return t==null?r:Bj(r,t)}else if(t!==void 0)return Lj(e,t);else return e}function Vj(e,t){if(t&&Rj(t)){if(e instanceof Wj)return zj(e,t);throw bA(`To use ref(service, url), the first argument must be a Storage instance.`)}else return Bj(e,t)}function Hj(e,t){let n=t?.[eA];return n==null?null:TA.makeFromBucketSpec(n,e)}function Uj(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol=`http`;let{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i==`string`?i:cm(i,e.app.options.projectId))}var Wj=class{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=$k,this._protocol=`https`,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tA,this._maxUploadRetryTime=nA,this._requests=new Set,r==null?this._bucket=Hj(this._host,this.app.options):this._bucket=TA.makeFromBucketSpec(r,this._host)}get host(){return this._host}set host(e){this._host=e,this._url==null?this._bucket=Hj(e,this.app.options):this._bucket=TA.makeFromBucketSpec(this._url,e)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PA(`time`,0,1/0,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PA(`time`,0,1/0,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pj(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new EA(xA());{let a=GA(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){let[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}},Gj=`@firebase/storage`,Kj=`0.13.2`,qj=`storage`;function Jj(e,t,n){return e=z(e),Fj(e,t,n)}function Yj(e){return e=z(e),Ij(e)}function Xj(e,t){return e=z(e),Vj(e,t)}function Zj(e=og(),t){e=z(e);let n=eg(e,qj).getImmediate({identifier:t}),r=im(`storage`);return r&&Qj(n,...r),n}function Qj(e,t,n,r={}){Uj(e,t,n,r)}function $j(e,{instanceIdentifier:t}){let n=e.getProvider(`app`).getImmediate(),r=e.getProvider(`auth-internal`),i=e.getProvider(`app-check-internal`);return new Wj(n,r,i,t,ig)}function eM(){$h(new Pm(qj,$j,`PUBLIC`).setMultipleInstances(!0)),sg(Gj,Kj,``),sg(Gj,Kj,`esm2017`)}eM();
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var tM=`type.googleapis.com/google.protobuf.Int64Value`,nM=`type.googleapis.com/google.protobuf.UInt64Value`;function rM(e,t){let n={};for(let r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function iM(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e==`number`&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)===`[object String]`)return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(e=>iM(e));if(typeof e==`function`||typeof e==`object`)return rM(e,e=>iM(e));throw Error(`Data cannot be encoded in JSON: `+e)}function aM(e){if(e==null)return e;if(e[`@type`])switch(e[`@type`]){case tM:case nM:{let t=Number(e.value);if(isNaN(t))throw Error(`Data cannot be decoded from JSON: `+e);return t}default:throw Error(`Data cannot be decoded from JSON: `+e)}return Array.isArray(e)?e.map(e=>aM(e)):typeof e==`function`||typeof e==`object`?rM(e,e=>aM(e)):e}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var oM=`functions`,sM={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},cM=class extends bm{constructor(e,t,n){super(`${oM}/${e}`,t||``),this.details=n}};function lM(e){if(e>=200&&e<300)return`ok`;switch(e){case 0:return`internal`;case 400:return`invalid-argument`;case 401:return`unauthenticated`;case 403:return`permission-denied`;case 404:return`not-found`;case 409:return`aborted`;case 429:return`resource-exhausted`;case 499:return`cancelled`;case 500:return`internal`;case 501:return`unimplemented`;case 503:return`unavailable`;case 504:return`deadline-exceeded`}return`unknown`}function uM(e,t){let n=lM(e),r=n,i;try{let e=t&&t.error;if(e){let t=e.status;if(typeof t==`string`){if(!sM[t])return new cM(`internal`,`internal`);n=sM[t],r=t}let a=e.message;typeof a==`string`&&(r=a),i=e.details,i!==void 0&&(i=aM(i))}}catch{}return n===`ok`?null:new cM(n,r,i)}
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var dM=class{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>{}),this.messaging||t.get().then(e=>this.messaging=e,()=>{}),this.appCheck||n.get().then(e=>this.appCheck=e,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!(`Notification`in self)||Notification.permission!==`granted`))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){let t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){let t=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:r}}},fM=`us-central1`;function pM(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new cM(`deadline-exceeded`,`deadline-exceeded`))},e)}),cancel:()=>{t&&clearTimeout(t)}}}var mM=class{constructor(e,t,n,r,i=fM,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new dM(t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{let e=new URL(i);this.customDomain=e.origin+(e.pathname===`/`?``:e.pathname),this.region=fM}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){let t=this.app.options.projectId;return this.emulatorOrigin===null?this.customDomain===null?`https://${this.region}-${t}.cloudfunctions.net/${e}`:`${this.customDomain}/${e}`:`${this.emulatorOrigin}/${t}/${this.region}/${e}`}};function hM(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function gM(e,t,n){return(r=>vM(e,t,r,n||{}))}async function _M(e,t,n,r){n[`Content-Type`]=`application/json`;let i;try{i=await r(e,{method:`POST`,body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}function vM(e,t,n,r){let i=e._url(t);return yM(e,i,n,r)}async function yM(e,t,n,r){n=iM(n);let i={data:n},a={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(a.Authorization=`Bearer `+o.authToken),o.messagingToken&&(a[`Firebase-Instance-ID-Token`]=o.messagingToken),o.appCheckToken!==null&&(a[`X-Firebase-AppCheck`]=o.appCheckToken);let s=r.timeout||7e4,c=pM(s),l=await Promise.race([_M(t,i,a,e.fetchImpl),c.promise,e.cancelAllRequests]);if(c.cancel(),!l)throw new cM(`cancelled`,`Firebase Functions instance was deleted.`);let u=uM(l.status,l.json);if(u)throw u;if(!l.json)throw new cM(`internal`,`Response is not valid JSON object.`);let d=l.json.data;if(d===void 0&&(d=l.json.result),d===void 0)throw new cM(`internal`,`Response is missing data field.`);return{data:aM(d)}}var bM=`@firebase/functions`,xM=`0.11.8`,SM=`auth-internal`,CM=`app-check-internal`,wM=`messaging-internal`;function TM(e,t){$h(new Pm(oM,(t,{instanceIdentifier:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(SM),a=t.getProvider(wM),o=t.getProvider(CM);return new mM(r,i,a,o,n,e)},`PUBLIC`).setMultipleInstances(!0)),sg(bM,xM,t),sg(bM,xM,`esm2017`)}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function EM(e=og(),t=fM){let n=eg(z(e),oM).getImmediate({identifier:t}),r=im(`functions`);return r&&DM(n,...r),n}function DM(e,t,n){hM(z(e),t,n)}function OM(e,t,n){return gM(z(e),t,n)}TM(fetch.bind(self));var kM=ag({apiKey:`AIzaSyB5tbiceoljg9tmMTGb7yU6M9YKncTGODI`,authDomain:`campus-placement-portal-f2faf.firebaseapp.com`,projectId:`campus-placement-portal-f2faf`,storageBucket:`campus-placement-portal-f2faf.firebasestorage.app`,messagingSenderId:`539813984901`,appId:`1:539813984901:web:401c3187c4d3132978c7ec`});const AM=px(kM),jM=HO(kM),MM=Zj(kM),NM=EM(kM),PM=new Vv;PM.setCustomParameters({prompt:`select_account`});const FM=async(e,t)=>ny(AM,e,t),IM=async(e,t)=>ry(AM,e,t),LM=async()=>ab(AM,PM),RM=async()=>cy(AM),zM=async e=>iy(e,{url:`${window.location.origin}/auth/verify-pending`,handleCodeInApp:!0}),BM=async e=>ty(AM,e,{url:`${window.location.origin}/auth/login`,handleCodeInApp:!0}),VM=async(e,t={})=>{if(!e)return;let n=RO(jM,`users`,e.uid);if(!(await Bk(n)).exists()){let{displayName:r,email:i,uid:a}=e,o=Zk();try{await Uk(n,{uid:a,name:r||t.name||``,email:i,role:`pending`,approved:!1,createdAt:o,skills:[],...t})}catch(e){throw console.error(`Error creating user document:`,e),e}}return n},HM=async e=>{if(!e)return null;try{let t=RO(jM,`users`,e),n=await Bk(t);return n.exists()?{id:n.id,...n.data()}:null}catch(e){return console.error(`Error getting user document:`,e),null}},UM=async(e,t)=>{if(e)try{let n=RO(jM,`users`,e);await Wk(n,{...t,updatedAt:Zk()})}catch(e){throw console.error(`Error updating user document:`,e),e}},WM=OM(NM,`assignUserRole`),GM={STUDENT:`student`,FACULTY:`faculty`,PLACEMENT:`placement`,RECRUITER:`recruiter`,ADMIN:`admin`,PENDING_STUDENT:`pending_student`,PENDING_RECRUITER:`pending_recruiter`},KM={[GM.STUDENT]:[`read_own_profile`,`create_application`,`read_internships`],[GM.FACULTY]:[`read_own_profile`,`read_students`,`approve_applications`],[GM.PLACEMENT]:[`read_all_profiles`,`approve_roles`,`manage_internships`,`read_analytics`],[GM.RECRUITER]:[`read_anonymized_profiles`,`create_internships`,`read_applications`],[GM.ADMIN]:[`full_access`]},qM=(e,t)=>e===GM.ADMIN?!0:KM[e]?.includes(t)||!1,JM=e=>[`.edu`,`.ac.in`,`.edu.in`,`university.edu`,`college.edu`].some(t=>e.toLowerCase().includes(t)),YM=async(e,t,n,r={})=>{try{let i={userId:e,userEmail:t,requestedRole:n,status:`pending`,createdAt:new Date,...r};await Gk(LO(jM,`roleApprovalRequests`),i),console.log(`Role approval request created successfully`)}catch(e){throw console.error(`Error creating role approval request:`,e),e}},XM=async()=>{try{let e=wk(LO(jM,`roleApprovalRequests`),kk(`createdAt`,`desc`));return(await Hk(e)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error(`Error fetching role approval requests:`,e),e}},ZM=async(e,t,n)=>{try{let r=RO(jM,`roleApprovalRequests`,e);await Wk(r,{status:t,reviewedBy:n,reviewedAt:new Date}),console.log(`Role approval request updated successfully`)}catch(e){throw console.error(`Error updating role approval request:`,e),e}};var QM=(0,b.createContext)();const $M=()=>{let e=(0,b.useContext)(QM);if(!e)throw Error(`useAuth must be used within an AuthProvider`);return e},eN=({children:e})=>{let[t,n]=(0,b.useState)(null),[r,i]=(0,b.useState)(null),[a,o]=(0,b.useState)(null),[s,c]=(0,b.useState)(null),[l,u]=(0,b.useState)(!0),[d,f]=(0,b.useState)(null),p=async e=>{if(!e){c(null),o(null);return}try{let t=(await HM(e.uid))?.role||`pending`;return o(t),c({role:t}),{role:t}}catch(e){return console.error(`Error getting user role:`,e),c(null),o(`pending`),null}},m=async()=>{if(t)try{await t.getIdToken(!0),await p(t)}catch(e){console.error(`Error refreshing token:`,e)}},h=async e=>{if(!e){i(null);return}try{let t=await HM(e);return i(t),t}catch(e){return console.error(`Error getting user profile:`,e),i(null),null}},g=e=>qM(a,e),_=e=>a?(Array.isArray(e)?e:[e]).includes(a):!1,v=()=>r?.approved===!0,y=()=>t?.email&&[`admin@test.com`,`faculty@test.com`,`placement@test.com`,`recruiter@test.com`,`student@test.com`].includes(t.email)&&r?.approved?!0:t?.emailVerified===!0,x=(e=[],n=[])=>!t||!y()||!v()&&!e.includes(`pending`)||e.length>0&&!_(e)?!1:n.length>0?n.some(e=>g(e)):!0,S=()=>t?y()?v()?{status:`active`,message:`Signed in as ${a}`,role:a}:{status:`pending`,message:`Your account is pending approval from the placement team`,action:`wait-approval`}:{status:`unverified`,message:`Please verify your email address`,action:`verify-email`}:{status:`unauthenticated`,message:`Not signed in`};(0,b.useEffect)(()=>sy(AM,async e=>{u(!0),f(null);try{if(n(e),e){let[t,n]=await Promise.all([p(e),h(e.uid)]);n||(await VM(e),await h(e.uid))}else i(null),o(null),c(null)}catch(e){console.error(`Auth state change error:`,e),f(e.message)}finally{u(!1)}}),[]);let C={currentUser:t,userProfile:r,userRole:a,customClaims:s,loading:l,authError:d,isEmailVerified:y,isApproved:v,getUserStatus:S,hasRole:_,checkPermission:g,canAccess:x,refreshUserData:async()=>{t&&await Promise.all([p(t),h(t.uid)])},forceTokenRefresh:m,refreshUserProfile:h,refreshUserClaims:p,VALID_ROLES:GM};return(0,R.jsx)(QM.Provider,{value:C,children:e})},tN={APPLICATION_SUBMITTED:{type:`application`,category:`Application`,priority:`medium`,icon:`📋`,sound:`notification`},APPLICATION_APPROVED:{type:`approval`,category:`Application`,priority:`high`,icon:`✅`,sound:`success`},APPLICATION_REJECTED:{type:`rejection`,category:`Application`,priority:`high`,icon:`❌`,sound:`alert`},INTERVIEW_SCHEDULED:{type:`interview`,category:`Interview`,priority:`high`,icon:`📅`,sound:`alert`},INTERVIEW_RESCHEDULED:{type:`interview`,category:`Interview`,priority:`high`,icon:`🔄`,sound:`notification`},INTERVIEW_REMINDER:{type:`reminder`,category:`Interview`,priority:`high`,icon:`⏰`,sound:`alert`},CERTIFICATE_GENERATED:{type:`certificate`,category:`Achievement`,priority:`high`,icon:`🏆`,sound:`success`},FEEDBACK_SUBMITTED:{type:`update`,category:`Feedback`,priority:`medium`,icon:`📝`,sound:`notification`},AI_SKILL_SUGGESTION:{type:`ai_suggestion`,category:`AI Recommendation`,priority:`low`,icon:`🤖`,sound:`notification`},PROFILE_INCOMPLETE:{type:`reminder`,category:`Profile`,priority:`medium`,icon:`👤`,sound:`notification`},SEAT_ALERT:{type:`update`,category:`Internship`,priority:`high`,icon:`⚠️`,sound:`alert`},MENTOR_ASSIGNED:{type:`update`,category:`Mentorship`,priority:`medium`,icon:`👨‍🏫`,sound:`notification`}},nN={student:{APPLICATION_APPROVED:e=>({title:`Application Approved! 🎉`,message:`Your application for ${e.internshipTitle} at ${e.company} has been approved by your mentor.`,actionUrl:`/applications/${e.applicationId}`,actionText:`View Details`}),APPLICATION_REJECTED:e=>({title:`Application Update`,message:`Your application for ${e.internshipTitle} needs revision. Check mentor feedback for details.`,actionUrl:`/applications/${e.applicationId}`,actionText:`View Feedback`}),INTERVIEW_SCHEDULED:e=>({title:`Interview Scheduled! 📅`,message:`Your interview for ${e.internshipTitle} is scheduled for ${e.interviewDate} at ${e.interviewTime}.`,actionUrl:`/interviews/${e.interviewId}`,actionText:`View Details`}),CERTIFICATE_GENERATED:e=>({title:`Certificate Ready! 🏆`,message:`Your internship certificate for ${e.internshipTitle} is ready for download.`,actionUrl:`/certificates/${e.certificateId}`,actionText:`Download`}),AI_SKILL_SUGGESTION:e=>({title:`AI Skill Recommendation 🤖`,message:`Add ${e.suggestedSkill} to increase your internship match rate by ${e.improvementPercentage}%.`,actionUrl:`/profile/skills`,actionText:`Update Skills`}),PROFILE_INCOMPLETE:e=>({title:`Complete Your Profile`,message:`Your profile is ${e.completionPercentage}% complete. Add missing information to get better internship matches.`,actionUrl:`/profile`,actionText:`Complete Profile`})},mentor:{APPLICATION_SUBMITTED:e=>({title:`New Application Pending`,message:`${e.studentName} has applied for ${e.internshipTitle}. Review and approve/reject the application.`,actionUrl:`/mentor/approvals/${e.applicationId}`,actionText:`Review Application`}),INTERVIEW_RESCHEDULED:e=>({title:`Interview Reschedule Request`,message:`${e.studentName} has requested to reschedule the interview for ${e.internshipTitle}.`,actionUrl:`/mentor/interviews/${e.interviewId}`,actionText:`View Request`}),FEEDBACK_REMINDER:e=>({title:`Feedback Reminder`,message:`Please provide feedback for ${e.studentName}'s completed internship at ${e.company}.`,actionUrl:`/mentor/feedback/${e.internshipId}`,actionText:`Submit Feedback`})},placement:{APPLICATION_SUBMITTED:e=>({title:`New Application Received`,message:`${e.studentName} applied for ${e.internshipTitle} at ${e.company}.`,actionUrl:`/placement/applications/${e.applicationId}`,actionText:`View Application`}),SEAT_ALERT:e=>({title:`Low Seat Alert ⚠️`,message:`${e.internshipTitle} at ${e.company} has only ${e.remainingSeats} seats remaining out of ${e.totalSeats}.`,actionUrl:`/placement/internships/${e.internshipId}`,actionText:`View Internship`}),INTERVIEW_CONFLICT:e=>({title:`Interview Conflict Detected`,message:`Scheduling conflict detected for ${e.studentName}'s interview on ${e.date}.`,actionUrl:`/placement/interviews/${e.interviewId}`,actionText:`Resolve Conflict`})},admin:{SYSTEM_ALERT:e=>({title:`System Alert`,message:e.message,actionUrl:e.actionUrl,actionText:`View Details`}),USER_REGISTRATION:e=>({title:`New User Registration`,message:`${e.userName} (${e.role}) has registered and needs approval.`,actionUrl:`/admin/users/${e.userId}`,actionText:`Review User`})}};var rN=new class{constructor(){this.listeners=new Map}async createNotification(e,t,n={}){try{let r=tN[t];if(!r)throw Error(`Unknown notification type: ${t}`);let i=n.userRole||`student`,a=nN[i]?.[t];if(!a)return console.warn(`No template found for ${t} and role ${i}`),null;let o=(a(n)),s={userId:e,type:r.type,category:r.category,priority:r.priority,icon:r.icon,title:o.title,message:o.message,actionUrl:o.actionUrl,actionText:o.actionText,read:!1,timestamp:Zk(),data:n,soundType:r.sound};return{id:(await Gk(LO(jM,`notifications`),s)).id,...s,timestamp:new Date}}catch(e){throw console.error(`Error creating notification:`,e),e}}async createBulkNotifications(e,t,n={}){try{let r=(Qk(jM)),i=[];for(let a of e){let e=tN[t];if(!e)continue;let o=n.userRoles?.[a]||`student`,s=nN[o]?.[t];if(!s)continue;let c=(s(n)),l=(RO(LO(jM,`notifications`))),u={userId:a,type:e.type,category:e.category,priority:e.priority,icon:e.icon,title:c.title,message:c.message,actionUrl:c.actionUrl,actionText:c.actionText,read:!1,timestamp:Zk(),data:n,soundType:e.sound};r.set(l,u),i.push({id:l.id,...u,timestamp:new Date})}return await r.commit(),i}catch(e){throw console.error(`Error creating bulk notifications:`,e),e}}async markAsRead(e){try{let t=(RO(jM,`notifications`,e));await Wk(t,{read:!0,readAt:Zk()})}catch(e){throw console.error(`Error marking notification as read:`,e),e}}async markAllAsRead(e){try{let t=(wk(LO(jM,`notifications`),Ek(`userId`,`==`,e),Ek(`read`,`==`,!1))),n=await(Hk(t)),r=(Qk(jM));n.docs.forEach(e=>{r.update(e.ref,{read:!0,readAt:Zk()})}),await r.commit()}catch(e){throw console.error(`Error marking all notifications as read:`,e),e}}subscribeToNotifications(e,t){this.listeners.has(e)&&this.listeners.get(e)();let n=(wk(LO(jM,`notifications`),Ek(`userId`,`==`,e),kk(`timestamp`,`desc`))),r=(Kk(n,e=>{let n=[];e.forEach(e=>{n.push({id:e.id,...e.data()})}),t(n)},e=>{console.error(`Error listening to notifications:`,e)}));return this.listeners.set(e,r),r}unsubscribeFromNotifications(e){this.listeners.has(e)&&(this.listeners.get(e)(),this.listeners.delete(e))}cleanup(){this.listeners.forEach(e=>{e()}),this.listeners.clear()}async getNotificationStats(e){try{let t=(wk(LO(jM,`notifications`),Ek(`userId`,`==`,e))),n=await(Hk(t)),r={total:0,unread:0,byType:{},byPriority:{high:0,medium:0,low:0}};return n.forEach(e=>{let t=e.data();r.total++,t.read||r.unread++,r.byType[t.type]=(r.byType[t.type]||0)+1,r.byPriority[t.priority]=(r.byPriority[t.priority]||0)+1}),r}catch(e){throw console.error(`Error getting notification stats:`,e),e}}async notifyApplicationApproved(e,t){return this.createNotification(e,`APPLICATION_APPROVED`,{...t,userRole:`student`})}async notifyApplicationRejected(e,t){return this.createNotification(e,`APPLICATION_REJECTED`,{...t,userRole:`student`})}async notifyInterviewScheduled(e,t){return this.createNotification(e,`INTERVIEW_SCHEDULED`,{...t,userRole:`student`})}async notifyCertificateGenerated(e,t){return this.createNotification(e,`CERTIFICATE_GENERATED`,{...t,userRole:`student`})}async notifyMentorNewApplication(e,t){return this.createNotification(e,`APPLICATION_SUBMITTED`,{...t,userRole:`mentor`})}async notifyPlacementNewApplication(e,t){return this.createBulkNotifications(e,`APPLICATION_SUBMITTED`,{...t,userRoles:e.reduce((e,t)=>({...e,[t]:`placement`}),{})})}async notifyAISkillSuggestion(e,t){return this.createNotification(e,`AI_SKILL_SUGGESTION`,{...t,userRole:`student`})}async notifySeatAlert(e,t){return this.createBulkNotifications(e,`SEAT_ALERT`,{...t,userRoles:e.reduce((e,t)=>({...e,[t]:`placement`}),{})})}},iN=(0,b.createContext)();const aN=()=>{let e=(0,b.useContext)(iN);if(!e)throw Error(`useNotifications must be used within a NotificationProvider`);return e},oN=({children:e})=>{let{currentUser:t,userProfile:n}=$M(),[r,i]=(0,b.useState)([]),[a,o]=(0,b.useState)(0),[s,c]=(0,b.useState)(!0),[l,u]=(0,b.useState)(null),[d,f]=(0,b.useState)([]);(0,b.useEffect)(()=>{if(!t?.uid){i([]),o(0),c(!1);return}c(!0),u(null);let e=[{id:`notif1`,title:`Application Approved`,message:`Your application for Frontend Developer at TechCorp has been approved!`,type:`success`,timestamp:new Date,read:!1},{id:`notif2`,title:`Interview Scheduled`,message:`Interview scheduled for tomorrow at 2 PM for Full Stack Developer position.`,type:`info`,timestamp:new Date(Date.now()-864e5),read:!0}];return setTimeout(()=>{i(e),o(e.filter(e=>!e.read).length),c(!1)},500),()=>{}},[t?.uid]);let p=(0,b.useCallback)(async e=>{try{await rN.markAsRead(e),i(t=>t.map(t=>t.id===e?{...t,read:!0,readAt:new Date}:t)),o(e=>Math.max(0,e-1))}catch(e){console.error(`Error marking notification as read:`,e)}},[]),m=(0,b.useCallback)(async()=>{if(t?.uid)try{await rN.markAllAsRead(t.uid),i(e=>e.map(e=>({...e,read:!0,readAt:new Date}))),o(0)}catch(e){console.error(`Error marking all notifications as read:`,e)}},[t?.uid]),h=(0,b.useCallback)(async(e,t,r={})=>{try{return await rN.createNotification(e,t,{...r,userRole:n?.role})}catch(e){throw console.error(`Error creating notification:`,e),e}},[n?.role]),g=(0,b.useCallback)(async(e,t,n={})=>{try{return await rN.createBulkNotifications(e,t,n)}catch(e){throw console.error(`Error creating bulk notifications:`,e),e}},[]),_=(0,b.useCallback)(e=>r.filter(t=>t.type===e),[r]),v=(0,b.useCallback)(e=>r.filter(t=>t.priority===e),[r]),y=(0,b.useCallback)(()=>r.filter(e=>!e.read),[r]),x=(0,b.useCallback)(e=>{f(t=>t.filter(t=>t.id!==e))},[]),S=(0,b.useCallback)(()=>{f([])},[]),C=(0,b.useCallback)(e=>{e.read||p(e.id),e.actionUrl&&window.location&&(window.history&&window.history.pushState?(window.history.pushState(null,``,e.actionUrl),window.dispatchEvent(new PopStateEvent(`popstate`))):window.location.href=e.actionUrl)},[p]),ee=(0,b.useCallback)(async(e,t)=>rN.notifyApplicationApproved(e,t),[]),w=(0,b.useCallback)(async(e,t)=>rN.notifyApplicationRejected(e,t),[]),te=(0,b.useCallback)(async(e,t)=>rN.notifyInterviewScheduled(e,t),[]),ne=(0,b.useCallback)(async(e,t)=>rN.notifyCertificateGenerated(e,t),[]),re=(0,b.useCallback)(async(e,t)=>rN.notifyMentorNewApplication(e,t),[]),ie=(0,b.useCallback)(async(e,t)=>rN.notifyPlacementNewApplication(e,t),[]),ae=(0,b.useCallback)(async(e,t)=>rN.notifyAISkillSuggestion(e,t),[]),oe=(0,b.useCallback)(async(e,t)=>rN.notifySeatAlert(e,t),[]),se=(0,b.useCallback)(()=>{let e={total:r.length,unread:a,byType:{},byPriority:{high:0,medium:0,low:0},byCategory:{}};return r.forEach(t=>{e.byType[t.type]=(e.byType[t.type]||0)+1,e.byPriority[t.priority]!==void 0&&e.byPriority[t.priority]++,e.byCategory[t.category]=(e.byCategory[t.category]||0)+1}),e},[r,a]),ce={notifications:r,unreadCount:a,loading:s,error:l,toastQueue:d,markAsRead:p,markAllAsRead:m,createNotification:h,createBulkNotifications:g,handleNotificationClick:C,removeToast:x,clearToasts:S,getNotificationsByType:_,getNotificationsByPriority:v,getUnreadNotifications:y,getNotificationStats:se,notifyApplicationApproved:ee,notifyApplicationRejected:w,notifyInterviewScheduled:te,notifyCertificateGenerated:ne,notifyMentorNewApplication:re,notifyPlacementNewApplication:ie,notifyAISkillSuggestion:ae,notifySeatAlert:oe};return(0,R.jsx)(iN.Provider,{value:ce,children:e})};var sN=Fp`
  /* Import keyframes */
  ${`
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from { 
      opacity: 0; 
      transform: translateY(20px); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }
  
  @keyframes slideDown {
    from { 
      opacity: 0; 
      transform: translateY(-20px); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }
  
  @keyframes scaleIn {
    from { 
      opacity: 0; 
      transform: scale(0.9); 
    }
    to { 
      opacity: 1; 
      transform: scale(1); 
    }
  }
  
  @keyframes bounce {
    0%, 20%, 53%, 80%, 100% {
      transform: translate3d(0, 0, 0);
    }
    40%, 43% {
      transform: translate3d(0, -8px, 0);
    }
    70% {
      transform: translate3d(0, -4px, 0);
    }
    90% {
      transform: translate3d(0, -2px, 0);
    }
  }
  
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }
  
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  
  @keyframes shimmer {
    0% {
      background-position: -200px 0;
    }
    100% {
      background-position: calc(200px + 100%) 0;
    }
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  @keyframes glow {
    0%, 100% {
      box-shadow: 0 0 5px rgba(211, 47, 47, 0.3);
    }
    50% {
      box-shadow: 0 0 20px rgba(211, 47, 47, 0.6);
    }
  }
  
  @keyframes confetti {
    0% {
      transform: translateY(-100vh) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(720deg);
      opacity: 0;
    }
  }
  
  @keyframes countUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`}

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    font-size: 16px;
    scroll-behavior: smooth;
  }

  body {
    font-family: ${({theme:e})=>e.typography.fontFamily.primary};
    line-height: ${({theme:e})=>e.typography.lineHeight.normal};
    color: ${({theme:e})=>e.colors.text};
    background: ${({theme:e})=>e.colors.backgroundGradient};
    transition: all ${({theme:e})=>e.transitions.normal};
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    font-weight: ${({theme:e})=>e.typography.fontWeight.semibold};
    line-height: ${({theme:e})=>e.typography.lineHeight.tight};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    color: ${({theme:e})=>e.colors.text};
  }

  h1 { font-size: ${({theme:e})=>e.typography.fontSize[`4xl`]}; }
  h2 { font-size: ${({theme:e})=>e.typography.fontSize[`3xl`]}; }
  h3 { font-size: ${({theme:e})=>e.typography.fontSize[`2xl`]}; }
  h4 { font-size: ${({theme:e})=>e.typography.fontSize.xl}; }
  h5 { font-size: ${({theme:e})=>e.typography.fontSize.lg}; }
  h6 { font-size: ${({theme:e})=>e.typography.fontSize.base}; }

  p {
    margin-bottom: ${({theme:e})=>e.spacing.md};
    line-height: ${({theme:e})=>e.typography.lineHeight.relaxed};
  }

  /* Links */
  a {
    color: ${({theme:e})=>e.colors.primary};
    text-decoration: none;
    transition: all ${({theme:e})=>e.transitions.fast};
    position: relative;

    &:hover {
      color: ${({theme:e})=>e.colors.primaryDark};
      transform: translateY(-1px);
    }

    &:focus {
      outline: 2px solid ${({theme:e})=>e.colors.focus};
      outline-offset: 2px;
      border-radius: ${({theme:e})=>e.borderRadius.sm};
    }
  }

  /* Buttons */
  button {
    font-family: inherit;
    cursor: pointer;
    border: none;
    background: none;
    transition: all ${({theme:e})=>e.transitions.fast};
    border-radius: ${({theme:e})=>e.borderRadius.md};

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
    }

    &:focus {
      outline: 2px solid ${({theme:e})=>e.colors.focus};
      outline-offset: 2px;
    }
  }

  /* Form Elements */
  input, textarea, select {
    font-family: inherit;
    font-size: inherit;
    transition: all ${({theme:e})=>e.transitions.fast};
    border-radius: ${({theme:e})=>e.borderRadius.md};

    &:focus {
      outline: none;
      box-shadow: 0 0 0 3px ${({theme:e})=>e.colors.focus};
    }
  }

  /* Images */
  img {
    max-width: 100%;
    height: auto;
    border-radius: ${({theme:e})=>e.borderRadius.sm};
  }

  /* Scrollbar Styles */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: ${({theme:e})=>e.colors.surface};
    border-radius: ${({theme:e})=>e.borderRadius.sm};
  }

  ::-webkit-scrollbar-thumb {
    background: ${({theme:e})=>e.colors.border};
    border-radius: ${({theme:e})=>e.borderRadius.sm};
    transition: background ${({theme:e})=>e.transitions.fast};

    &:hover {
      background: ${({theme:e})=>e.colors.primary};
    }
  }

  /* Selection Styles */
  ::selection {
    background: ${({theme:e})=>e.colors.primary};
    color: white;
  }

  /* Utility Classes */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 ${({theme:e})=>e.spacing.lg};
    
    @media (max-width: 768px) {
      padding: 0 ${({theme:e})=>e.spacing.md};
    }
  }

  .text-center { text-align: center; }
  .text-left { text-align: left; }
  .text-right { text-align: right; }

  /* Animation Classes */
  .animate-fade-in { animation: fadeIn 0.3s ease-out; }
  .animate-slide-up { animation: slideUp 0.4s ease-out; }
  .animate-slide-down { animation: slideDown 0.4s ease-out; }
  .animate-scale-in { animation: scaleIn 0.2s ease-out; }
  .animate-bounce { animation: bounce 0.6s ease-out; }
  .animate-pulse { animation: pulse 2s infinite; }
  .animate-spin { animation: spin 1s linear infinite; }
  .animate-float { animation: float 3s ease-in-out infinite; }
  .animate-glow { animation: glow 2s infinite; }

  /* Hover Effects */
  .hover-lift {
    transition: transform ${({theme:e})=>e.transitions.fast};
    &:hover { transform: translateY(-2px); }
  }

  .hover-scale {
    transition: transform ${({theme:e})=>e.transitions.fast};
    &:hover { transform: scale(1.05); }
  }

  .hover-glow {
    transition: box-shadow ${({theme:e})=>e.transitions.fast};
    &:hover { box-shadow: 0 0 20px ${({theme:e})=>e.colors.shadowLight}; }
  }

  /* Loading States */
  .loading {
    pointer-events: none;
    opacity: 0.7;
  }

  /* Responsive Utilities */
  @media (max-width: ${({theme:e})=>e.breakpoints.sm}) {
    html { font-size: 14px; }
  }

  @media (max-width: ${({theme:e})=>e.breakpoints.xs}) {
    html { font-size: 13px; }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Print Styles */
  @media print {
    * {
      background: white !important;
      color: black !important;
      box-shadow: none !important;
    }
    .no-print { display: none !important; }
  }
`,cN=L(N.nav)`
  position: sticky;
  top: 0;
  z-index: 1000;
  background: ${({theme:e})=>e.colors.background};
  backdrop-filter: blur(10px);
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.sm};
  transition: all ${({theme:e})=>e.transitions.normal};
`,lN=L.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.md};
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 70px;

  @media (max-width: 768px) {
    padding: 0 ${({theme:e})=>e.spacing.sm};
  }
`,uN=L(jt)`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  font-size: 1.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  text-decoration: none;
  transition: color ${({theme:e})=>e.transitions.fast};

  &:hover {
    color: ${({theme:e})=>e.colors.primary};
  }
`,dN=L(N.div)`
  width: 40px;
  height: 40px;
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.2rem;
  font-weight: bold;
`,fN=L.div`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.lg};

  @media (max-width: 768px) {
    display: none;
  }
`,pN=L(jt)`
  color: ${({theme:e})=>e.colors.text};
  text-decoration: none;
  font-weight: 500;
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  transition: all ${({theme:e})=>e.transitions.fast};
  position: relative;

  &:hover {
    color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.surface};
  }

  &.active {
    color: ${({theme:e})=>e.colors.primary};
    
    &::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 50%;
      transform: translateX(-50%);
      width: 20px;
      height: 2px;
      background: ${({theme:e})=>e.colors.primary};
      border-radius: 1px;
    }
  }
`,mN=L.div`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.md};
`,hN=L(N.button)`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.lg};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 600;
  font-size: 0.9rem;
  transition: all ${({theme:e})=>e.transitions.fast};
  cursor: pointer;
  border: 2px solid transparent;

  &.primary {
    background: ${({theme:e})=>e.colors.gradient};
    color: white;
    border-color: ${({theme:e})=>e.colors.primary};

    &:hover {
      transform: translateY(-2px);
      box-shadow: ${({theme:e})=>e.shadows.md};
    }
  }

  &.secondary {
    background: transparent;
    color: ${({theme:e})=>e.colors.text};
    border-color: ${({theme:e})=>e.colors.border};

    &:hover {
      border-color: ${({theme:e})=>e.colors.primary};
      color: ${({theme:e})=>e.colors.primary};
    }
  }

  @media (max-width: 480px) {
    padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.md};
    font-size: 0.8rem;
  }
`,gN=L(N.button)`
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: ${({theme:e})=>e.colors.surface};
  border: 2px solid ${({theme:e})=>e.colors.border};
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.primary};
    color: white;
  }
`,_N=L(N.button)`
  display: none;
  width: 44px;
  height: 44px;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.surface};
  border: 2px solid ${({theme:e})=>e.colors.border};
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  cursor: pointer;

  @media (max-width: 768px) {
    display: flex;
  }

  span {
    width: 20px;
    height: 2px;
    background: ${({theme:e})=>e.colors.text};
    transition: all ${({theme:e})=>e.transitions.fast};
    transform-origin: center;

    &:nth-child(1) {
      transform: ${({isOpen:e})=>e?`rotate(45deg) translateY(6px)`:`none`};
    }

    &:nth-child(2) {
      opacity: ${({isOpen:e})=>e?`0`:`1`};
    }

    &:nth-child(3) {
      transform: ${({isOpen:e})=>e?`rotate(-45deg) translateY(-6px)`:`none`};
    }
  }
`,vN=L(N.div)`
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: ${({theme:e})=>e.colors.background};
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  padding: ${({theme:e})=>e.spacing.lg};
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.md};

  @media (min-width: 769px) {
    display: none;
  }
`,yN=L(jt)`
  color: ${({theme:e})=>e.colors.text};
  text-decoration: none;
  font-weight: 500;
  padding: ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  transition: all ${({theme:e})=>e.transitions.fast};
  text-align: center;

  &:hover, &.active {
    color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.surface};
  }
`,bN=L(N.div)`
  position: relative;
  display: inline-block;
`,xN=L(N.button)`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.surface};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  color: ${({theme:e})=>e.colors.text};
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
  }

  .avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: ${({theme:e})=>e.colors.gradient};
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 0.9rem;
  }

  .info {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    
    .name {
      font-size: 0.9rem;
      font-weight: 600;
    }
    
    .role {
      font-size: 0.7rem;
      color: ${({theme:e})=>e.colors.primary};
      text-transform: uppercase;
    }
  }

  @media (max-width: 768px) {
    .info {
      display: none;
    }
  }
`,SN=L(N.div)`
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: ${({theme:e})=>e.spacing.sm};
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  min-width: 200px;
  overflow: hidden;
  z-index: 1000;
`,CN=L(jt)`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  padding: ${({theme:e})=>e.spacing.md};
  color: ${({theme:e})=>e.colors.text};
  text-decoration: none;
  transition: background ${({theme:e})=>e.transitions.fast};

  &:hover {
    background: ${({theme:e})=>e.colors.surface};
  }

  .icon {
    font-size: 1.1rem;
  }
`,wN=L.button`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  padding: ${({theme:e})=>e.spacing.md};
  width: 100%;
  background: none;
  border: none;
  color: ${({theme:e})=>e.colors.text};
  text-align: left;
  cursor: pointer;
  transition: background ${({theme:e})=>e.transitions.fast};

  &:hover {
    background: ${({theme:e})=>e.colors.surface};
  }

  .icon {
    font-size: 1.1rem;
  }
`;L.div`
  display: inline-flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  background: rgba(211, 47, 47, 0.1);
  color: ${({theme:e})=>e.colors.primary};
  border-radius: ${({theme:e})=>e.borderRadius.sm};
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  margin-left: ${({theme:e})=>e.spacing.sm};
`;var TN=()=>{let{theme:e,isDarkMode:t,toggleTheme:n}=Vp(),{currentUser:r,userProfile:i,userRole:a,hasRole:o,getUserStatus:s,isEmailVerified:c}=$M(),l=qe(),u=Ye(),[d,f]=(0,b.useState)(!1),[p,m]=(0,b.useState)(!1),h=[{path:`/`,label:`Home`},{path:`/about`,label:`About`}];r&&c()&&o([`placement`,`admin`])&&h.push({path:`/admin/role-approvals`,label:`Role Approvals`});let g=()=>{f(!d)},_=()=>{m(!p)},v=async()=>{try{await RM(),m(!1),u(`/`)}catch(e){console.error(`Sign out error:`,e)}},y=e=>e?e.split(` `).map(e=>e[0]).join(``).toUpperCase().slice(0,2):`?`,x=()=>{if(!a)return`/dashboard`;switch(a){case`admin`:return`/admin`;case`faculty`:return`/faculty`;case`placement`:return`/placement`;case`recruiter`:return`/recruiter`;case`student`:return`/student`;default:return`/dashboard`}},S=e=>{switch(e){case`student`:return`🎓`;case`faculty`:return`👨‍🏫`;case`placement`:return`📋`;case`recruiter`:return`🏢`;case`admin`:return`👑`;default:return`👤`}};return s(),(0,R.jsxs)(cN,{initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:`easeOut`},children:[(0,R.jsxs)(lN,{children:[(0,R.jsxs)(uN,{to:`/`,children:[(0,R.jsx)(dN,{whileHover:{rotate:360},transition:{duration:.5},children:`🎓`}),(0,R.jsx)(`span`,{children:`Campus Portal`})]}),(0,R.jsx)(fN,{children:h.map(e=>(0,R.jsx)(pN,{to:e.path,className:l.pathname===e.path?`active`:``,children:e.label},e.path))}),(0,R.jsxs)(mN,{children:[(0,R.jsx)(gN,{onClick:n,whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":`Switch to ${t?`light`:`dark`} mode`,children:(0,R.jsx)(N.span,{initial:{rotate:-180,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:180,opacity:0},transition:{duration:.3},children:t?`☀️`:`🌙`},t?`moon`:`sun`)}),r?(0,R.jsxs)(bN,{children:[(0,R.jsxs)(xN,{onClick:_,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,R.jsx)(`div`,{className:`avatar`,children:y(i?.name||r.displayName)}),(0,R.jsxs)(`div`,{className:`info`,children:[(0,R.jsx)(`div`,{className:`name`,children:i?.name||r.displayName||`User`}),(0,R.jsxs)(`div`,{className:`role`,children:[S(a),` `,a||`pending`]})]}),(0,R.jsx)(`span`,{children:`▼`})]}),(0,R.jsx)(Iu,{children:p&&(0,R.jsxs)(SN,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:[(0,R.jsxs)(CN,{to:x(),onClick:()=>m(!1),children:[(0,R.jsx)(`span`,{className:`icon`,children:`🏠`}),`Dashboard`]}),o([`placement`,`admin`])&&(0,R.jsxs)(CN,{to:`/admin/role-approvals`,onClick:()=>m(!1),children:[(0,R.jsx)(`span`,{className:`icon`,children:`👥`}),`Role Approvals`]}),(0,R.jsxs)(CN,{to:`/profile`,onClick:()=>m(!1),children:[(0,R.jsx)(`span`,{className:`icon`,children:`👤`}),`Profile`]}),(0,R.jsxs)(CN,{to:`/settings`,onClick:()=>m(!1),children:[(0,R.jsx)(`span`,{className:`icon`,children:`⚙️`}),`Settings`]}),(0,R.jsxs)(wN,{onClick:v,children:[(0,R.jsx)(`span`,{className:`icon`,children:`🚪`}),`Sign Out`]})]})})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(N.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,R.jsx)(hN,{as:jt,to:`/auth/login`,className:`secondary`,children:`Login`})}),(0,R.jsx)(N.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,R.jsx)(hN,{as:jt,to:`/auth/signup`,className:`primary`,children:`Sign Up`})})]}),(0,R.jsxs)(_N,{onClick:g,isOpen:d,whileTap:{scale:.9},children:[(0,R.jsx)(`span`,{}),(0,R.jsx)(`span`,{}),(0,R.jsx)(`span`,{})]})]})]}),(0,R.jsx)(Iu,{children:d&&(0,R.jsx)(vN,{initial:{opacity:0,height:0},animate:{opacity:1,height:`auto`},exit:{opacity:0,height:0},transition:{duration:.3},children:h.map(e=>(0,R.jsx)(yN,{to:e.path,className:l.pathname===e.path?`active`:``,onClick:()=>f(!1),children:e.label},e.path))})})]})},EN=L.footer`
  background: ${({theme:e})=>e.colors.surface};
  border-top: 1px solid ${({theme:e})=>e.colors.border};
  margin-top: auto;
  padding: ${({theme:e})=>e.spacing.xxl} 0 ${({theme:e})=>e.spacing.lg};
`,DN=L.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.md};

  @media (max-width: 768px) {
    padding: 0 ${({theme:e})=>e.spacing.sm};
  }
`,ON=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: ${({theme:e})=>e.spacing.xxl};
  margin-bottom: ${({theme:e})=>e.spacing.xxl};

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: ${({theme:e})=>e.spacing.xl};
    text-align: center;
  }
`,kN=L.div`
  h3 {
    color: ${({theme:e})=>e.colors.primary};
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: ${({theme:e})=>e.spacing.lg};
  }
`,AN=L.ul`
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.sm};
`,jN=L(N.li)`
  a {
    color: ${({theme:e})=>e.colors.textSecondary};
    text-decoration: none;
    transition: color ${({theme:e})=>e.transitions.fast};
    font-size: 0.9rem;

    &:hover {
      color: ${({theme:e})=>e.colors.primary};
    }
  }
`,MN=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.md};
  margin-top: ${({theme:e})=>e.spacing.lg};

  @media (max-width: 768px) {
    justify-content: center;
  }
`,NN=L(N.a)`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: ${({theme:e})=>e.colors.background};
  border: 2px solid ${({theme:e})=>e.colors.border};
  display: flex;
  align-items: center;
  justify-content: center;
  color: ${({theme:e})=>e.colors.textSecondary};
  text-decoration: none;
  font-size: 1.2rem;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.primary};
    color: white;
    transform: translateY(-2px);
  }
`,PN=L.div`
  p {
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.9rem;
    line-height: 1.6;
    margin-bottom: ${({theme:e})=>e.spacing.md};
  }
`,FN=L.div`
  p {
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.9rem;
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.sm};

    @media (max-width: 768px) {
      justify-content: center;
    }
  }

  span {
    font-weight: 500;
  }
`,IN=L.div`
  border-top: 1px solid ${({theme:e})=>e.colors.border};
  padding-top: ${({theme:e})=>e.spacing.lg};
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.spacing.md};

  @media (max-width: 768px) {
    flex-direction: column;
    text-align: center;
  }
`,LN=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.85rem;
  margin: 0;
`,RN=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.lg};

  a {
    color: ${({theme:e})=>e.colors.textSecondary};
    text-decoration: none;
    font-size: 0.85rem;
    transition: color ${({theme:e})=>e.transitions.fast};

    &:hover {
      color: ${({theme:e})=>e.colors.primary};
    }
  }
`,zN=()=>{let{userRole:e}=$M(),t=new Date().getFullYear(),n=()=>{if(!e)return`/dashboard`;switch(e){case`admin`:return`/admin`;case`faculty`:return`/faculty`;case`placement`:return`/placement`;case`recruiter`:return`/recruiter`;case`student`:return`/student`;default:return`/dashboard`}},r={hover:{x:5,transition:{duration:.2}}},i={hover:{scale:1.1,y:-2,transition:{duration:.2}}};return(0,R.jsx)(EN,{children:(0,R.jsxs)(DN,{children:[(0,R.jsxs)(ON,{children:[(0,R.jsxs)(kN,{children:[(0,R.jsx)(`h3`,{children:`About Campus Portal`}),(0,R.jsx)(PN,{children:(0,R.jsx)(`p`,{children:`Streamlining the campus placement process with smart technology. From internship searches to final placements, we make career journeys seamless for students, faculty, and recruiters.`})}),(0,R.jsxs)(MN,{children:[(0,R.jsx)(NN,{href:`#`,variants:i,whileHover:`hover`,"aria-label":`Follow us on LinkedIn`,children:`💼`}),(0,R.jsx)(NN,{href:`#`,variants:i,whileHover:`hover`,"aria-label":`Follow us on Twitter`,children:`🐦`}),(0,R.jsx)(NN,{href:`#`,variants:i,whileHover:`hover`,"aria-label":`Follow us on Instagram`,children:`📷`}),(0,R.jsx)(NN,{href:`#`,variants:i,whileHover:`hover`,"aria-label":`Subscribe to our YouTube channel`,children:`📺`})]})]}),(0,R.jsxs)(kN,{children:[(0,R.jsx)(`h3`,{children:`Quick Links`}),(0,R.jsxs)(AN,{children:[(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(jt,{to:`/`,children:`Home`})}),(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(jt,{to:`/about`,children:`About Us`})}),(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(jt,{to:n(),children:`Dashboard`})}),(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(`a`,{href:`#features`,children:`Features`})}),(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(`a`,{href:`#testimonials`,children:`Testimonials`})})]})]}),(0,R.jsxs)(kN,{children:[(0,R.jsx)(`h3`,{children:`For Students`}),(0,R.jsxs)(AN,{children:[(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(jt,{to:`/signup`,children:`Create Profile`})}),(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(`a`,{href:`#internships`,children:`Find Internships`})}),(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(`a`,{href:`#placements`,children:`Job Placements`})}),(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(`a`,{href:`#resources`,children:`Career Resources`})}),(0,R.jsx)(jN,{variants:r,whileHover:`hover`,children:(0,R.jsx)(`a`,{href:`#support`,children:`Student Support`})})]})]}),(0,R.jsxs)(kN,{children:[(0,R.jsx)(`h3`,{children:`Contact Info`}),(0,R.jsxs)(FN,{children:[(0,R.jsxs)(`p`,{children:[(0,R.jsx)(`span`,{children:`📧`}),`support@campusportal.edu`]}),(0,R.jsxs)(`p`,{children:[(0,R.jsx)(`span`,{children:`📞`}),`+1 (555) 123-4567`]}),(0,R.jsxs)(`p`,{children:[(0,R.jsx)(`span`,{children:`📍`}),`123 University Ave, Campus City`]}),(0,R.jsxs)(`p`,{children:[(0,R.jsx)(`span`,{children:`🕒`}),`Mon-Fri: 9AM-6PM`]})]})]})]}),(0,R.jsxs)(IN,{children:[(0,R.jsxs)(LN,{children:[`© `,t,` Campus Placement Portal. All rights reserved.`]}),(0,R.jsxs)(RN,{children:[(0,R.jsx)(`a`,{href:`#privacy`,children:`Privacy Policy`}),(0,R.jsx)(`a`,{href:`#terms`,children:`Terms of Service`}),(0,R.jsx)(`a`,{href:`#cookies`,children:`Cookie Policy`})]})]})]})})},BN=L.div`
  min-height: calc(100vh - 70px);
  display: flex;
  align-items: center;
  justify-content: center;
  background: ${({theme:e})=>e.colors.surface};
`,VN=L(N.div)`
  width: 50px;
  height: 50px;
  border: 3px solid ${({theme:e})=>e.colors.border};
  border-top: 3px solid ${({theme:e})=>e.colors.primary};
  border-radius: 50%;
  animation: spin 1s linear infinite;

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`,HN=L.div`
  min-height: calc(100vh - 70px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.surface};
`,UN=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  padding: ${({theme:e})=>e.spacing.xxl};
  text-align: center;
  max-width: 500px;
  width: 100%;
`,WN=L.div`
  width: 80px;
  height: 80px;
  margin: 0 auto ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: white;
`,GN=L.h2`
  font-size: 1.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.md};
`,KN=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  line-height: 1.6;
`,qN=L(N.button)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.gradient};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 600;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(211, 47, 47, 0.3);
  }
`,JN=L.div`
  display: inline-flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  background: ${({status:e,theme:t})=>{switch(e){case`unverified`:return`rgba(255, 193, 7, 0.1)`;case`pending`:return`rgba(255, 152, 0, 0.1)`;case`active`:return`rgba(76, 175, 80, 0.1)`;default:return t.colors.surface}}};
  color: ${({status:e,theme:t})=>{switch(e){case`unverified`:return`#FFC107`;case`pending`:return`#FF9800`;case`active`:return`#4CAF50`;default:return t.colors.textSecondary}}};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 0.9rem;
  font-weight: 500;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,YN=({children:e,requiredRoles:t=[],requiredPermissions:n=[],fallbackPath:r=`/auth/login`,showAccessDenied:i=!0})=>{let{currentUser:a,loading:o,canAccess:s,getUserStatus:c,isEmailVerified:l,refreshUserData:u}=$M(),d=qe();if(o)return(0,R.jsx)(BN,{children:(0,R.jsx)(VN,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:`linear`}})});if(!a)return(0,R.jsx)(_t,{to:r,state:{from:d},replace:!0});let f=s(t,n),p=c();return f?e:!l()||p.status===`pending`?(0,R.jsx)(_t,{to:`/auth/verify-pending`,replace:!0}):i?(0,R.jsx)(HN,{children:(0,R.jsxs)(UN,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[(0,R.jsx)(WN,{children:`🚫`}),(0,R.jsxs)(JN,{status:p.status,children:[p.status===`unverified`&&`⚠️ Email Not Verified`,p.status===`pending`&&`⏳ Pending Approval`,p.status===`active`&&`✅ Account Active`]}),(0,R.jsx)(GN,{children:`Access Restricted`}),(0,R.jsxs)(KN,{children:[p.status===`unverified`&&`Please verify your email address to access this page. Check your inbox for a verification link.`,p.status===`pending`&&`Your account is awaiting approval from the placement team. You'll receive an email once approved.`,p.status===`active`&&`You don't have the required permissions to access this page. Required roles: ${t.join(`, `)||`None specified`}.`]}),(0,R.jsxs)(qN,{onClick:()=>{p.status===`unverified`||p.status===`pending`?window.location.href=`/auth/verify-pending`:u()},whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.status===`unverified`&&`📧 Verify Email`,p.status===`pending`&&`🔄 Check Status`,p.status===`active`&&`🔄 Refresh Permissions`]})]})}):(0,R.jsx)(_t,{to:r,state:{from:d},replace:!0})},XN=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  text-align: center;
  transition: all ${({theme:e})=>e.transitions.normal};
  cursor: pointer;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(211, 47, 47, 0.1),
      transparent
    );
    transition: left 0.5s ease;
  }

  &:hover::before {
    left: 100%;
  }

  &:hover {
    transform: translateY(-8px);
    box-shadow: ${({theme:e})=>e.shadows.lg};
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,ZN=L.div`
  width: 80px;
  height: 80px;
  margin: 0 auto ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: white;
  position: relative;
  z-index: 1;
`,QN=L.h3`
  color: ${({theme:e})=>e.colors.text};
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: ${({theme:e})=>e.spacing.md};
  position: relative;
  z-index: 1;
`,$N=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.95rem;
  line-height: 1.6;
  margin-bottom: 0;
  position: relative;
  z-index: 1;
`,eP=({icon:e,title:t,description:n,delay:r=0})=>(0,R.jsxs)(XN,{variants:{hidden:{opacity:0,y:50,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,delay:r,ease:`easeOut`}}},initial:`hidden`,whileInView:`visible`,whileHover:`hover`,viewport:{once:!0,amount:.3},children:[(0,R.jsx)(N.div,{variants:{hover:{rotate:360,scale:1.1,transition:{duration:.5,ease:`easeInOut`}}},children:(0,R.jsx)(ZN,{children:e})}),(0,R.jsx)(QN,{children:t}),(0,R.jsx)($N,{children:n})]}),tP=L.div`
  min-height: calc(100vh - 70px);
  overflow-x: hidden;
`,nP=L.section`
  min-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: ${({theme:e})=>e.colors.background};
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
      ellipse at center,
      rgba(211, 47, 47, 0.1) 0%,
      transparent 70%
    );
    pointer-events: none;
  }
`,rP=L.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.md};
  text-align: center;
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    padding: 0 ${({theme:e})=>e.spacing.sm};
  }
`,iP=L(N.h1)`
  font-size: 3.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  line-height: 1.1;

  span {
    background: ${({theme:e})=>e.colors.gradient};
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  @media (max-width: 768px) {
    font-size: 2.5rem;
  }

  @media (max-width: 480px) {
    font-size: 2rem;
  }
`,aP=L(N.p)`
  font-size: 1.25rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;

  @media (max-width: 768px) {
    font-size: 1.1rem;
  }
`,oP=L(N.div)`
  display: flex;
  gap: ${({theme:e})=>e.spacing.lg};
  justify-content: center;
  margin-bottom: ${({theme:e})=>e.spacing.xxl};

  @media (max-width: 480px) {
    flex-direction: column;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.md};
  }
`,sP=L(N.button)`
  padding: ${({theme:e})=>e.spacing.lg} ${({theme:e})=>e.spacing.xxl};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-weight: 600;
  font-size: 1.1rem;
  cursor: pointer;
  border: 2px solid transparent;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  transition: all ${({theme:e})=>e.transitions.normal};

  &.primary {
    background: ${({theme:e})=>e.colors.gradient};
    color: white;
    border-color: ${({theme:e})=>e.colors.primary};

    &:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(211, 47, 47, 0.3);
    }
  }

  &.secondary {
    background: transparent;
    color: ${({theme:e})=>e.colors.text};
    border-color: ${({theme:e})=>e.colors.border};

    &:hover {
      border-color: ${({theme:e})=>e.colors.primary};
      color: ${({theme:e})=>e.colors.primary};
      transform: translateY(-3px);
      box-shadow: ${({theme:e})=>e.shadows.md};
    }
  }

  @media (max-width: 480px) {
    width: 100%;
    max-width: 280px;
  }
`,cP=L.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  overflow: hidden;
`,lP=L(N.div)`
  position: absolute;
  font-size: 2rem;
  opacity: 0.1;
  color: ${({theme:e})=>e.colors.primary};
`,uP=L.section`
  padding: ${({theme:e})=>e.spacing.xxl} 0;
  background: ${({theme:e})=>e.colors.surface};
`,dP=L.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.md};

  @media (max-width: 768px) {
    padding: 0 ${({theme:e})=>e.spacing.sm};
  }
`,fP=L(N.h2)`
  text-align: center;
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.lg};

  span {
    color: ${({theme:e})=>e.colors.primary};
  }

  @media (max-width: 768px) {
    font-size: 2rem;
  }
`,pP=L(N.p)`
  text-align: center;
  font-size: 1.1rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
  max-width: 700px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
`,mP=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: ${({theme:e})=>e.spacing.xl};
  margin-bottom: ${({theme:e})=>e.spacing.xxl};

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: ${({theme:e})=>e.spacing.lg};
  }
`,hP=L.section`
  padding: ${({theme:e})=>e.spacing.xxl} 0;
  background: ${({theme:e})=>e.colors.background};
  text-align: center;
`,gP=L(N.div)`
  max-width: 800px;
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing.xxl};
  background: ${({theme:e})=>e.colors.surface};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  position: relative;

  &::before {
    content: '"';
    position: absolute;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 4rem;
    color: ${({theme:e})=>e.colors.primary};
    font-family: serif;
  }
`,_P=L.p`
  font-size: 1.2rem;
  color: ${({theme:e})=>e.colors.text};
  font-style: italic;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  line-height: 1.6;
`,vP=L.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({theme:e})=>e.spacing.md};
  
  h4 {
    color: ${({theme:e})=>e.colors.primary};
    font-weight: 600;
    margin: 0;
  }
  
  p {
    color: ${({theme:e})=>e.colors.textSecondary};
    margin: 0;
    font-size: 0.9rem;
  }
`,yP=()=>(0,R.jsxs)(tP,{children:[(0,R.jsxs)(nP,{children:[(0,R.jsx)(cP,{children:[`🎓`,`💼`,`🚀`,`⭐`,`🎯`,`💡`].map((e,t)=>(0,R.jsx)(lP,{initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,rotate:0},animate:{y:[0,-30,0],rotate:[0,360],x:[Math.random()*window.innerWidth,Math.random()*window.innerWidth]},transition:{duration:10+Math.random()*10,repeat:1/0,ease:`linear`,delay:t*2},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:e},t))}),(0,R.jsxs)(rP,{children:[(0,R.jsxs)(iP,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:`easeOut`},children:[`One Platform for `,(0,R.jsx)(`span`,{children:`Internships & Placements`})]}),(0,R.jsx)(aP,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:`easeOut`},children:`From searching to signing, streamline your career journey with smart recommendations, automated processes, and real-time tracking.`}),(0,R.jsxs)(oP,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:`easeOut`},children:[(0,R.jsx)(sP,{as:jt,to:`/signup`,className:`primary`,whileHover:{scale:1.05},whileTap:{scale:.95},children:`Get Started 🚀`}),(0,R.jsx)(sP,{as:jt,to:`/about`,className:`secondary`,whileHover:{scale:1.05},whileTap:{scale:.95},children:`Learn More 📖`})]})]})]}),(0,R.jsx)(uP,{id:`features`,children:(0,R.jsxs)(dP,{children:[(0,R.jsxs)(fP,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[`Why Choose `,(0,R.jsx)(`span`,{children:`Campus Portal`}),`?`]}),(0,R.jsx)(pP,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:`Experience the future of campus placements with our comprehensive platform designed to simplify every step of your career journey.`}),(0,R.jsx)(mP,{children:[{icon:`🎯`,title:`Smart Recommendations`,description:`AI-powered matching system that connects you with the best-fit internships and job opportunities based on your skills and preferences.`},{icon:`⚡`,title:`One-Click Apply`,description:`Apply to multiple opportunities instantly with your unified profile. No more repetitive form filling or document uploads.`},{icon:`✅`,title:`Automated Approvals`,description:`Streamlined faculty sign-offs and administrative approvals without the paperwork hassle. Get faster responses and decisions.`},{icon:`📊`,title:`Real-Time Tracking`,description:`Comprehensive dashboards for students, faculty, and placement cells to track applications, interviews, and placement statistics.`}].map((e,t)=>(0,R.jsx)(eP,{icon:e.icon,title:e.title,description:e.description,delay:t*.1},t))})]})}),(0,R.jsx)(hP,{id:`testimonials`,children:(0,R.jsxs)(dP,{children:[(0,R.jsxs)(fP,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[`Trusted by `,(0,R.jsx)(`span`,{children:`Students, Faculty & Recruiters`})]}),(0,R.jsxs)(gP,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:.2},viewport:{once:!0},children:[(0,R.jsx)(_P,{children:`"Campus Portal transformed our placement process completely. What used to take weeks of paperwork and coordination now happens seamlessly in days. The AI recommendations are incredibly accurate, and students love the one-click application feature."`}),(0,R.jsx)(vP,{children:(0,R.jsxs)(`div`,{children:[(0,R.jsx)(`h4`,{children:`Dr. Sarah Johnson`}),(0,R.jsx)(`p`,{children:`Placement Cell Coordinator, Tech University`})]})})]})]})})]}),bP=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xxl} 0;
`,xP=L.section`
  padding: ${({theme:e})=>e.spacing.xxl} 0;

  &:nth-child(even) {
    background: ${({theme:e})=>e.colors.surface};
  }
`,SP=L.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.md};

  @media (max-width: 768px) {
    padding: 0 ${({theme:e})=>e.spacing.sm};
  }
`,CP=L.div`
  text-align: center;
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
`,wP=L(N.h1)`
  font-size: 3rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.lg};

  span {
    color: ${({theme:e})=>e.colors.primary};
  }

  @media (max-width: 768px) {
    font-size: 2.5rem;
  }
`,TP=L(N.p)`
  font-size: 1.2rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  max-width: 700px;
  margin: 0 auto;
  line-height: 1.6;
`,EP=L.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: ${({theme:e})=>e.spacing.xxl};
  align-items: center;
  margin: ${({theme:e})=>e.spacing.xxl} 0;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: ${({theme:e})=>e.spacing.xl};
    text-align: center;
  }
`,DP=L(N.div)`
  h2 {
    font-size: 2.2rem;
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.lg};

    span {
      color: ${({theme:e})=>e.colors.primary};
    }
  }

  p {
    font-size: 1.1rem;
    color: ${({theme:e})=>e.colors.textSecondary};
    line-height: 1.7;
    margin-bottom: ${({theme:e})=>e.spacing.md};
  }

  ul {
    list-style: none;
    padding: 0;
    margin: ${({theme:e})=>e.spacing.lg} 0;

    li {
      display: flex;
      align-items: center;
      gap: ${({theme:e})=>e.spacing.md};
      margin-bottom: ${({theme:e})=>e.spacing.md};
      font-size: 1.05rem;
      color: ${({theme:e})=>e.colors.text};

      &::before {
        content: '✓';
        background: ${({theme:e})=>e.colors.gradient};
        color: white;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 0.8rem;
        flex-shrink: 0;
      }
    }
  }
`,OP=L(N.div)`
  display: flex;
  align-items: center;
  justify-content: center;
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  padding: ${({theme:e})=>e.spacing.xxl};
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
      circle at center,
      rgba(211, 47, 47, 0.05) 0%,
      transparent 70%
    );
  }
`,kP=L.div`
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: ${({theme:e})=>e.spacing.lg};
  position: relative;
  z-index: 1;
`,AP=L(N.div)`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  padding: ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.surface};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  border: 1px solid ${({theme:e})=>e.colors.border};

  .icon {
    font-size: 2.5rem;
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  .label {
    font-size: 0.9rem;
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    text-align: center;
  }
`,jP=L.div`
  margin: ${({theme:e})=>e.spacing.xxl} 0;
`,MP=L(N.h2)`
  text-align: center;
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.xl};

  span {
    color: ${({theme:e})=>e.colors.primary};
  }
`,NP=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: ${({theme:e})=>e.spacing.xl};
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
`,PP=L(N.div)`
  text-align: center;
  position: relative;

  &:not(:last-child)::after {
    content: '→';
    position: absolute;
    top: 40px;
    right: -${({theme:e})=>e.spacing.xl};
    font-size: 2rem;
    color: ${({theme:e})=>e.colors.primary};
    font-weight: bold;

    @media (max-width: 768px) {
      content: '↓';
      top: auto;
      bottom: -${({theme:e})=>e.spacing.xl};
      right: 50%;
      transform: translateX(50%);
    }
  }
`,FP=L.div`
  width: 80px;
  height: 80px;
  margin: 0 auto ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: white;
  position: relative;

  &::before {
    content: '${e=>e.step}';
    position: absolute;
    top: -10px;
    right: -10px;
    width: 30px;
    height: 30px;
    background: ${({theme:e})=>e.colors.text};
    color: ${({theme:e})=>e.colors.background};
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
    font-weight: bold;
  }
`,IP=L.h3`
  font-size: 1.2rem;
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,LP=L.p`
  font-size: 0.95rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  line-height: 1.6;
`,RP=L.div`
  text-align: center;
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  padding: ${({theme:e})=>e.spacing.xxl};
  margin: ${({theme:e})=>e.spacing.xxl} 0;
`,zP=L(N.h2)`
  font-size: 2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.md};

  span {
    color: ${({theme:e})=>e.colors.primary};
  }
`,BP=L(N.p)`
  font-size: 1.1rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
`,VP=L(N.button)`
  padding: ${({theme:e})=>e.spacing.lg} ${({theme:e})=>e.spacing.xxl};
  background: ${({theme:e})=>e.colors.gradient};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(211, 47, 47, 0.3);
  }
`,HP=()=>(0,R.jsxs)(bP,{children:[(0,R.jsx)(xP,{children:(0,R.jsxs)(SP,{children:[(0,R.jsxs)(CP,{children:[(0,R.jsxs)(wP,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[`About `,(0,R.jsx)(`span`,{children:`Campus Portal`})]}),(0,R.jsx)(TP,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:`Revolutionizing campus placements with intelligent technology and streamlined processes for students, faculty, and recruiters.`})]}),(0,R.jsxs)(EP,{children:[(0,R.jsxs)(DP,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[(0,R.jsxs)(`h2`,{children:[`Why This `,(0,R.jsx)(`span`,{children:`Portal`}),`?`]}),(0,R.jsx)(`p`,{children:`Traditional campus placement processes are fragmented, time-consuming, and frustrating for everyone involved. Students struggle with multiple platforms, faculty deal with endless paperwork, and recruiters face inefficient coordination.`}),(0,R.jsx)(`p`,{children:`Our platform transforms this chaos into a seamless, intelligent system that benefits all stakeholders:`}),(0,R.jsx)(`ul`,{children:[`No more scattered WhatsApp groups`,`Eliminate repetitive form filling`,`Automated faculty approvals`,`Real-time application tracking`,`AI-powered job matching`,`Centralized communication hub`].map((e,t)=>(0,R.jsx)(N.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.4,delay:t*.1},viewport:{once:!0},children:e},t))})]}),(0,R.jsx)(OP,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:(0,R.jsxs)(kP,{children:[(0,R.jsxs)(AP,{whileHover:{scale:1.05,y:-5},transition:{duration:.2},children:[(0,R.jsx)(`div`,{className:`icon`,children:`👨‍🎓`}),(0,R.jsx)(`div`,{className:`label`,children:`Students`})]}),(0,R.jsxs)(AP,{whileHover:{scale:1.05,y:-5},transition:{duration:.2},children:[(0,R.jsx)(`div`,{className:`icon`,children:`🤝`}),(0,R.jsx)(`div`,{className:`label`,children:`Connect`})]}),(0,R.jsxs)(AP,{whileHover:{scale:1.05,y:-5},transition:{duration:.2},children:[(0,R.jsx)(`div`,{className:`icon`,children:`🏢`}),(0,R.jsx)(`div`,{className:`label`,children:`Recruiters`})]}),(0,R.jsxs)(AP,{whileHover:{scale:1.05,y:-5},transition:{duration:.2},children:[(0,R.jsx)(`div`,{className:`icon`,children:`👩‍🏫`}),(0,R.jsx)(`div`,{className:`label`,children:`Faculty`})]}),(0,R.jsxs)(AP,{whileHover:{scale:1.05,y:-5},transition:{duration:.2},children:[(0,R.jsx)(`div`,{className:`icon`,children:`🎯`}),(0,R.jsx)(`div`,{className:`label`,children:`AI Match`})]}),(0,R.jsxs)(AP,{whileHover:{scale:1.05,y:-5},transition:{duration:.2},children:[(0,R.jsx)(`div`,{className:`icon`,children:`📊`}),(0,R.jsx)(`div`,{className:`label`,children:`Analytics`})]})]})})]})]})}),(0,R.jsx)(xP,{children:(0,R.jsxs)(SP,{children:[(0,R.jsxs)(jP,{children:[(0,R.jsxs)(MP,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[`How It `,(0,R.jsx)(`span`,{children:`Works`})]}),(0,R.jsx)(NP,{children:[{icon:`👤`,title:`Create Profile`,description:`Build your comprehensive profile with skills, achievements, and career preferences.`},{icon:`🎯`,title:`Get Matched`,description:`Our AI analyzes your profile and matches you with relevant opportunities.`},{icon:`📝`,title:`Apply & Interview`,description:`Apply with one click and track your interview schedules seamlessly.`},{icon:`🎉`,title:`Get Placed`,description:`Receive offers, complete formalities, and start your career journey.`}].map((e,t)=>(0,R.jsxs)(PP,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:t*.2},viewport:{once:!0},children:[(0,R.jsx)(FP,{step:t+1,children:e.icon}),(0,R.jsx)(IP,{children:e.title}),(0,R.jsx)(LP,{children:e.description})]},t))})]}),(0,R.jsxs)(RP,{children:[(0,R.jsxs)(zP,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[`Ready to `,(0,R.jsx)(`span`,{children:`Transform`}),` Your Career Journey?`]}),(0,R.jsx)(BP,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},children:`Join thousands of students who have already simplified their placement process. Create your profile today and experience the future of campus placements.`}),(0,R.jsx)(VP,{as:jt,to:`/signup`,whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:`Sign Up Now 🚀`})]})]})})]}),UP=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.surface};
`,WP=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,GP=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,KP=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 1.1rem;
`,qP=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.sm};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,JP=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,YP=L.h3`
  font-size: 1.2rem;
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.md};
`,XP=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: ${({theme:e})=>e.spacing.md};
`,ZP=L.div`
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.xs};
`,QP=L.span`
  font-size: 0.9rem;
  font-weight: 500;
  color: ${({theme:e})=>e.colors.textSecondary};
`,$P=L.span`
  font-size: 1rem;
  color: ${({theme:e})=>e.colors.text};
`,eF=L.span`
  display: inline-flex;
  align-items: center;
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  background: ${({$approved:e})=>e?`#E8F5E8`:`#FFF3E0`};
  color: ${({$approved:e})=>e?`#2E7D32`:`#F57C00`};
  border: 1px solid ${({$approved:e})=>e?`#4CAF50`:`#FF9800`};
`,tF=L.span`
  display: inline-flex;
  align-items: center;
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  background: ${({theme:e})=>e.colors.primary}20;
  color: ${({theme:e})=>e.colors.primary};
  border: 1px solid ${({theme:e})=>e.colors.primary};
`,nF=L(N.button)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e,variant:t})=>t===`secondary`?e.colors.surface:e.colors.primary};
  color: ${({theme:e,variant:t})=>t===`secondary`?e.colors.text:`white`};
  border: 2px solid ${({theme:e,variant:t})=>t===`secondary`?e.colors.border:e.colors.primary};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 600;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    background: ${({theme:e,variant:t})=>t===`secondary`?e.colors.border:e.colors.primaryDark};
    transform: translateY(-2px);
  }
`,rF=L.div`
  background: ${({theme:e})=>e.colors.surface};
  border: 2px dashed ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  text-align: center;
  margin-top: ${({theme:e})=>e.spacing.lg};
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.background};
  }

  &.has-file {
    border-style: solid;
    border-color: ${({theme:e})=>e.colors.primary};
    background: ${({theme:e})=>e.colors.background};
  }
`,iF=L.div`
  cursor: pointer;
  padding: ${({theme:e})=>e.spacing.lg};

  .upload-icon {
    font-size: 3rem;
    margin-bottom: ${({theme:e})=>e.spacing.md};
    color: ${({theme:e})=>e.colors.primary};
  }

  .upload-text {
    font-size: 1.1rem;
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  .upload-subtext {
    font-size: 0.9rem;
    color: ${({theme:e})=>e.colors.textSecondary};
  }
`,aF=L.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  padding: ${({theme:e})=>e.spacing.lg};
  margin-top: ${({theme:e})=>e.spacing.md};

  .file-info {
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.md};
  }

  .file-icon {
    font-size: 1.5rem;
    color: ${({theme:e})=>e.colors.primary};
  }

  .file-details {
    display: flex;
    flex-direction: column;
    gap: ${({theme:e})=>e.spacing.xs};
  }

  .file-name {
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
  }

  .file-size {
    font-size: 0.8rem;
    color: ${({theme:e})=>e.colors.textSecondary};
  }

  .file-actions {
    display: flex;
    gap: ${({theme:e})=>e.spacing.sm};
  }
`,oF=L(N.button)`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  background: ${({theme:e,variant:t})=>{switch(t){case`danger`:return`#f44336`;case`success`:return`#4caf50`;default:return e.colors.primary}}};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.sm};
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    transform: translateY(-1px);
    opacity: 0.9;
  }
`,sF=L.div`
  margin-top: ${({theme:e})=>e.spacing.lg};
`,cF=L.div`
  display: flex;
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.spacing.sm};
  margin-top: ${({theme:e})=>e.spacing.md};
`,lF=L.span`
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  background: ${({theme:e})=>e.colors.primary};
  color: white;
  border-radius: ${({theme:e})=>e.borderRadius.sm};
  font-size: 0.8rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};

  .remove-skill {
    cursor: pointer;
    font-weight: bold;
    
    &:hover {
      color: #ffcccb;
    }
  }
`,uF=L.input`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 0.9rem;
  margin-right: ${({theme:e})=>e.spacing.sm};
  
  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,dF=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};
  margin-top: ${({theme:e})=>e.spacing.xl};
`,fF=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.lg};
  text-align: center;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    transform: translateY(-2px);
    box-shadow: ${({theme:e})=>e.shadows.md};
    border-color: ${({theme:e})=>e.colors.primary};
  }

  .action-icon {
    font-size: 2rem;
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  .action-title {
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .action-description {
    font-size: 0.8rem;
    color: ${({theme:e})=>e.colors.textSecondary};
  }
`,pF=()=>{let{currentUser:e,userProfile:t,userRole:n}=$M(),r=Ye(),i=(0,b.useRef)(null),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)(null),[l,u]=(0,b.useState)([`JavaScript`,`React`,`Node.js`,`Python`]),[d,f]=(0,b.useState)(``),p=e=>{let t=e.target.files[0];t&&t.type===`application/pdf`?t.size<=5*1024*1024?c(t):alert(`File size should be less than 5MB`):alert(`Please upload a PDF file`)},m=()=>{c(null),i.current&&(i.current.value=``)},h=()=>{if(s){let e=URL.createObjectURL(s),t=document.createElement(`a`);t.href=e,t.download=s.name,t.click(),URL.revokeObjectURL(e)}},g=()=>{d.trim()&&!l.includes(d.trim())&&(u([...l,d.trim()]),f(``))},_=e=>{u(l.filter(t=>t!==e))};return!e||!t?(0,R.jsx)(UP,{children:(0,R.jsxs)(WP,{children:[(0,R.jsx)(GP,{children:`Profile`}),(0,R.jsx)(KP,{children:`Loading profile information...`})]})}):(0,R.jsxs)(UP,{children:[(0,R.jsxs)(WP,{children:[(0,R.jsx)(GP,{children:`My Profile`}),(0,R.jsx)(KP,{children:`Manage your account information and preferences`})]}),(0,R.jsxs)(qP,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,R.jsxs)(JP,{children:[(0,R.jsx)(YP,{children:`Basic Information`}),(0,R.jsxs)(XP,{children:[(0,R.jsxs)(ZP,{children:[(0,R.jsx)(QP,{children:`Full Name`}),(0,R.jsx)($P,{children:t.name||`Not provided`})]}),(0,R.jsxs)(ZP,{children:[(0,R.jsx)(QP,{children:`Email Address`}),(0,R.jsx)($P,{children:t.email})]}),(0,R.jsxs)(ZP,{children:[(0,R.jsx)(QP,{children:`Role`}),(0,R.jsx)($P,{children:(0,R.jsx)(tF,{children:n})})]}),(0,R.jsxs)(ZP,{children:[(0,R.jsx)(QP,{children:`Account Status`}),(0,R.jsx)($P,{children:(0,R.jsx)(eF,{$approved:t.approved,children:t.approved?`Approved`:`Pending`})})]})]})]}),(0,R.jsxs)(JP,{children:[(0,R.jsx)(YP,{children:`Account Details`}),(0,R.jsxs)(XP,{children:[(0,R.jsxs)(ZP,{children:[(0,R.jsx)(QP,{children:`User ID`}),(0,R.jsx)($P,{children:t.uid})]}),(0,R.jsxs)(ZP,{children:[(0,R.jsx)(QP,{children:`Member Since`}),(0,R.jsx)($P,{children:t.createdAt?.toDate?.()?.toLocaleDateString()||`Unknown`})]}),(0,R.jsxs)(ZP,{children:[(0,R.jsx)(QP,{children:`Last Updated`}),(0,R.jsx)($P,{children:t.updatedAt?.toDate?.()?.toLocaleDateString()||`Never`})]})]})]}),(0,R.jsxs)(JP,{children:[(0,R.jsx)(YP,{children:`📄 Resume`}),(0,R.jsx)(`input`,{type:`file`,ref:i,onChange:p,accept:`.pdf`,style:{display:`none`}}),s?(0,R.jsx)(rF,{className:`has-file`,children:(0,R.jsxs)(aF,{children:[(0,R.jsxs)(`div`,{className:`file-info`,children:[(0,R.jsx)(`div`,{className:`file-icon`,children:`📄`}),(0,R.jsxs)(`div`,{className:`file-details`,children:[(0,R.jsx)(`div`,{className:`file-name`,children:s.name}),(0,R.jsx)(`div`,{className:`file-size`,children:(e=>{if(e===0)return`0 Bytes`;let t=1024,n=[`Bytes`,`KB`,`MB`,`GB`],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/t**+r).toFixed(2))+` `+n[r]})(s.size)})]})]}),(0,R.jsxs)(`div`,{className:`file-actions`,children:[(0,R.jsx)(oF,{variant:`success`,onClick:h,whileHover:{scale:1.05},whileTap:{scale:.95},children:`📥 Download`}),(0,R.jsx)(oF,{onClick:()=>i.current?.click(),whileHover:{scale:1.05},whileTap:{scale:.95},children:`🔄 Replace`}),(0,R.jsx)(oF,{variant:`danger`,onClick:m,whileHover:{scale:1.05},whileTap:{scale:.95},children:`🗑️ Remove`})]})]})}):(0,R.jsx)(rF,{onClick:()=>i.current?.click(),children:(0,R.jsxs)(iF,{children:[(0,R.jsx)(`div`,{className:`upload-icon`,children:`📄`}),(0,R.jsx)(`div`,{className:`upload-text`,children:`Upload Your Resume`}),(0,R.jsx)(`div`,{className:`upload-subtext`,children:`Click to browse or drag and drop your PDF resume (Max 5MB)`})]})})]}),(0,R.jsx)(JP,{children:(0,R.jsxs)(sF,{children:[(0,R.jsx)(YP,{children:`🎯 Skills`}),(0,R.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,marginBottom:`1rem`},children:[(0,R.jsx)(uF,{type:`text`,placeholder:`Add a skill...`,value:d,onChange:e=>f(e.target.value),onKeyPress:e=>{e.key===`Enter`&&g()}}),(0,R.jsx)(oF,{onClick:g,whileHover:{scale:1.05},whileTap:{scale:.95},children:`Add Skill`})]}),(0,R.jsx)(cF,{children:l.map((e,t)=>(0,R.jsxs)(lF,{children:[e,(0,R.jsx)(`span`,{className:`remove-skill`,onClick:()=>_(e),children:`×`})]},t))})]})}),(0,R.jsxs)(`div`,{style:{display:`flex`,gap:`1rem`,marginTop:`2rem`},children:[(0,R.jsx)(nF,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(!a),children:a?`Cancel Edit`:`Edit Profile`}),(0,R.jsx)(nF,{variant:`secondary`,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(`/student/resume-builder`),children:`🏗️ Resume Builder`})]})]}),(0,R.jsxs)(qP,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[(0,R.jsx)(YP,{children:`🚀 Quick Actions`}),(0,R.jsxs)(dF,{children:[(0,R.jsxs)(fF,{onClick:()=>r(`/jobs`),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`div`,{className:`action-icon`,children:`💼`}),(0,R.jsx)(`div`,{className:`action-title`,children:`Browse Jobs`}),(0,R.jsx)(`div`,{className:`action-description`,children:`Find internships and job opportunities`})]}),(0,R.jsxs)(fF,{onClick:()=>r(`/student/mock-test`),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`div`,{className:`action-icon`,children:`🧠`}),(0,R.jsx)(`div`,{className:`action-title`,children:`Take Mock Test`}),(0,R.jsx)(`div`,{className:`action-description`,children:`Practice with AI-generated questions`})]}),(0,R.jsxs)(fF,{onClick:()=>r(`/student/recommended-internships`),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`div`,{className:`action-icon`,children:`🎯`}),(0,R.jsx)(`div`,{className:`action-title`,children:`Recommendations`}),(0,R.jsx)(`div`,{className:`action-description`,children:`Get AI-powered job recommendations`})]}),(0,R.jsxs)(fF,{onClick:()=>r(`/student/certificates`),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`div`,{className:`action-icon`,children:`🏆`}),(0,R.jsx)(`div`,{className:`action-title`,children:`Certificates`}),(0,R.jsx)(`div`,{className:`action-description`,children:`View and download your certificates`})]})]})]})]})},mF=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.surface};
`,hF=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,gF=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,_F=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 1.1rem;
`,vF=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.sm};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,yF=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  
  &:last-child {
    margin-bottom: 0;
  }
`,bF=L.h3`
  font-size: 1.2rem;
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.md};
`,xF=L.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: ${({theme:e})=>e.spacing.md} 0;
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  
  &:last-child {
    border-bottom: none;
  }
`,SF=L.div`
  flex: 1;
`,CF=L.div`
  font-weight: 500;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.xs};
`,wF=L.div`
  font-size: 0.9rem;
  color: ${({theme:e})=>e.colors.textSecondary};
`,TF=L.div`
  position: relative;
  width: 50px;
  height: 24px;
  background: ${({$active:e,theme:t})=>e?t.colors.primary:t.colors.border};
  border-radius: 12px;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};
  
  &::after {
    content: '';
    position: absolute;
    top: 2px;
    left: ${({$active:e})=>e?`26px`:`2px`};
    width: 20px;
    height: 20px;
    background: white;
    border-radius: 50%;
    transition: all ${({theme:e})=>e.transitions.fast};
  }
`,EF=L(N.button)`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  background: ${({variant:e,theme:t})=>e===`danger`?`#EF4444`:t.colors.primary};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 500;
  cursor: pointer;
  font-size: 0.9rem;
  
  &:hover {
    opacity: 0.9;
  }
`,DF=()=>{let{currentUser:e,logOut:t}=$M(),{isDarkMode:n,toggleTheme:r}=Vp(),[i,a]=(0,b.useState)(!0),[o,s]=(0,b.useState)(!0);return(0,R.jsxs)(mF,{children:[(0,R.jsxs)(hF,{children:[(0,R.jsx)(gF,{children:`Settings`}),(0,R.jsx)(_F,{children:`Manage your account preferences and security settings`})]}),(0,R.jsxs)(vF,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,R.jsxs)(yF,{children:[(0,R.jsx)(bF,{children:`Appearance`}),(0,R.jsxs)(xF,{children:[(0,R.jsxs)(SF,{children:[(0,R.jsx)(CF,{children:`Dark Mode`}),(0,R.jsx)(wF,{children:`Switch between light and dark themes`})]}),(0,R.jsx)(TF,{$active:n,onClick:r})]})]}),(0,R.jsxs)(yF,{children:[(0,R.jsx)(bF,{children:`Notifications`}),(0,R.jsxs)(xF,{children:[(0,R.jsxs)(SF,{children:[(0,R.jsx)(CF,{children:`Push Notifications`}),(0,R.jsx)(wF,{children:`Receive notifications about important updates`})]}),(0,R.jsx)(TF,{$active:i,onClick:()=>a(!i)})]}),(0,R.jsxs)(xF,{children:[(0,R.jsxs)(SF,{children:[(0,R.jsx)(CF,{children:`Email Updates`}),(0,R.jsx)(wF,{children:`Get email notifications for placement opportunities`})]}),(0,R.jsx)(TF,{$active:o,onClick:()=>s(!o)})]})]}),(0,R.jsxs)(yF,{children:[(0,R.jsx)(bF,{children:`Account`}),(0,R.jsxs)(xF,{children:[(0,R.jsxs)(SF,{children:[(0,R.jsx)(CF,{children:`Email Address`}),(0,R.jsx)(wF,{children:e?.email||`Not available`})]}),(0,R.jsx)(EF,{whileHover:{scale:1.02},whileTap:{scale:.98},children:`Change Email`})]}),(0,R.jsxs)(xF,{children:[(0,R.jsxs)(SF,{children:[(0,R.jsx)(CF,{children:`Password`}),(0,R.jsx)(wF,{children:`Last updated: Never`})]}),(0,R.jsx)(EF,{whileHover:{scale:1.02},whileTap:{scale:.98},children:`Change Password`})]})]}),(0,R.jsxs)(yF,{children:[(0,R.jsx)(bF,{children:`Security`}),(0,R.jsxs)(xF,{children:[(0,R.jsxs)(SF,{children:[(0,R.jsx)(CF,{children:`Sign Out`}),(0,R.jsx)(wF,{children:`Sign out of your account on this device`})]}),(0,R.jsx)(EF,{variant:`danger`,onClick:async()=>{try{await t()}catch(e){console.error(`Error signing out:`,e)}},whileHover:{scale:1.02},whileTap:{scale:.98},children:`Sign Out`})]})]})]})]})};const OF=()=>{let{userRole:e,currentUser:t,loading:n}=$M(),r=Ye(),i=e=>({admin:`/admin`,faculty:`/faculty`,placement:`/placement`,recruiter:`/recruiter`,student:`/student`})[e]||`/dashboard`,a=(t=e)=>{if(t){let e=i(t);r(e,{replace:!0})}};return(0,b.useEffect)(()=>{if(!n&&t&&e&&e!==`pending`){let e=window.location.pathname;[`/dashboard`,`/login`,`/auth/login`,`/`].includes(e)&&a()}},[t,e,n]),{getRoleDashboardPath:i,navigateToRoleDashboard:a}};var kF=L.div`
  min-height: calc(100vh - 70px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: ${({theme:e})=>e.spacing.xl} ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.surface};
`,AF=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  padding: ${({theme:e})=>e.spacing.xxl};
  width: 100%;
  max-width: 450px;
  text-align: center;
`,jF=L.h1`
  font-size: 2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};

  span {
    color: ${({theme:e})=>e.colors.primary};
  }
`,MF=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,NF=L.form`
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.lg};
`,PF=L.div`
  text-align: left;
`,FF=L.label`
  display: block;
  font-weight: 500;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
  font-size: 0.9rem;
`,IF=L.input`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.1);
  }

  &::placeholder {
    color: ${({theme:e})=>e.colors.textSecondary};
  }
`,LF=L(N.div)`
  background: rgba(244, 67, 54, 0.1);
  color: #f44336;
  padding: ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  border: 1px solid rgba(244, 67, 54, 0.2);
  font-size: 0.9rem;
  text-align: left;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,RF=L(N.button)`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.gradient};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(211, 47, 47, 0.3);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
`,zF=L(N.button)`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  background: white;
  color: #333;
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({theme:e})=>e.spacing.sm};
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    transform: translateY(-2px);
    box-shadow: ${({theme:e})=>e.shadows.md};
    background: #f8f9fa;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
`,BF=L(jt)`
  color: ${({theme:e})=>e.colors.primary};
  text-decoration: none;
  font-size: 0.9rem;
  margin-top: ${({theme:e})=>e.spacing.md};
  display: inline-block;

  &:hover {
    text-decoration: underline;
  }
`,VF=L.div`
  display: flex;
  align-items: center;
  margin: ${({theme:e})=>e.spacing.xl} 0;
  
  &::before,
  &::after {
    content: '';
    flex: 1;
    height: 1px;
    background: ${({theme:e})=>e.colors.border};
  }
  
  span {
    padding: 0 ${({theme:e})=>e.spacing.md};
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.9rem;
  }
`,HF=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  margin: 0;
  
  a {
    color: ${({theme:e})=>e.colors.primary};
    text-decoration: none;
    font-weight: 600;
    
    &:hover {
      text-decoration: underline;
    }
  }
`,UF=L(N.div)`
  background: rgba(33, 150, 243, 0.1);
  color: #2196f3;
  padding: ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  border: 1px solid rgba(33, 150, 243, 0.2);
  font-size: 0.9rem;
  text-align: left;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,WF=()=>{let[e,t]=(0,b.useState)({email:``,password:``}),[n,r]=(0,b.useState)(!1),[i,a]=(0,b.useState)(``),o=Ye(),s=qe(),{refreshUserData:c,userRole:l}=$M(),{navigateToRoleDashboard:u}=OF(),d=s.state?.from?.pathname||`/dashboard`,f=n=>{t({...e,[n.target.name]:n.target.value}),a(``)};return(0,R.jsx)(kF,{children:(0,R.jsxs)(AF,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:`easeOut`},children:[(0,R.jsxs)(jF,{children:[`Welcome `,(0,R.jsx)(`span`,{children:`Back`})]}),(0,R.jsx)(MF,{children:`Sign in to your Campus Portal account`}),s.state?.message&&(0,R.jsx)(UF,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:s.state.message}),i&&(0,R.jsx)(LF,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:i}),(0,R.jsxs)(NF,{onSubmit:async t=>{t.preventDefault(),r(!0),a(``);try{await IM(e.email,e.password),await c(),setTimeout(()=>{d===`/dashboard`||d===`/`?u():o(d,{replace:!0})},100)}catch(e){console.error(`Login error:`,e);let t=`Failed to sign in. Please try again.`;switch(e.code){case`auth/user-not-found`:t=`No account found with this email address.`;break;case`auth/wrong-password`:t=`Incorrect password. Please try again.`;break;case`auth/invalid-email`:t=`Please enter a valid email address.`;break;case`auth/user-disabled`:t=`This account has been disabled. Please contact support.`;break;case`auth/too-many-requests`:t=`Too many failed attempts. Please try again later.`;break;default:t=e.message||t}a(t)}finally{r(!1)}},children:[(0,R.jsxs)(PF,{children:[(0,R.jsx)(FF,{htmlFor:`email`,children:`Email Address`}),(0,R.jsx)(IF,{type:`email`,id:`email`,name:`email`,placeholder:`Enter your email`,value:e.email,onChange:f,required:!0,autoComplete:`email`})]}),(0,R.jsxs)(PF,{children:[(0,R.jsx)(FF,{htmlFor:`password`,children:`Password`}),(0,R.jsx)(IF,{type:`password`,id:`password`,name:`password`,placeholder:`Enter your password`,value:e.password,onChange:f,required:!0,autoComplete:`current-password`})]}),(0,R.jsx)(RF,{type:`submit`,disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},children:n?`Signing In...`:`Sign In`}),(0,R.jsx)(BF,{to:`/auth/reset-password`,children:`Forgot your password?`})]}),(0,R.jsx)(VF,{children:(0,R.jsx)(`span`,{children:`or`})}),(0,R.jsxs)(zF,{onClick:async()=>{r(!0),a(``);try{await LM(),await c(),setTimeout(()=>{d===`/dashboard`||d===`/`?u():o(d,{replace:!0})},100)}catch(e){console.error(`Google sign-in error:`,e);let t=`Failed to sign in with Google. Please try again.`;switch(e.code){case`auth/popup-closed-by-user`:t=`Sign-in was cancelled. Please try again.`;break;case`auth/popup-blocked`:t=`Popup was blocked. Please allow popups and try again.`;break;case`auth/account-exists-with-different-credential`:t=`An account already exists with this email using a different sign-in method.`;break;default:t=e.message||t}a(t)}finally{r(!1)}},disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`span`,{children:`🔍`}),`Continue with Google`]}),(0,R.jsx)(VF,{children:(0,R.jsx)(`span`,{})}),(0,R.jsxs)(HF,{children:[`Don't have an account? `,(0,R.jsx)(jt,{to:`/auth/signup`,children:`Sign up here`})]})]})})},GF=L.div`
  min-height: calc(100vh - 70px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: ${({theme:e})=>e.spacing.xl} ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.surface};
`,KF=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  padding: ${({theme:e})=>e.spacing.xxl};
  width: 100%;
  max-width: 600px;
  text-align: center;
`,qF=L.h1`
  font-size: 2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};

  span {
    color: ${({theme:e})=>e.colors.primary};
  }
`,JF=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  font-size: 1.1rem;
`,YF=L.form`
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.lg};
`,XF=L.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: ${({theme:e})=>e.spacing.md};

  @media (max-width: 480px) {
    grid-template-columns: 1fr;
  }
`,ZF=L.div`
  text-align: left;
`,QF=L.label`
  display: block;
  font-weight: 500;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
  font-size: 0.9rem;
`,$F=L.input`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.1);
  }

  &::placeholder {
    color: ${({theme:e})=>e.colors.textSecondary};
  }

  &.error {
    border-color: #f44336;
  }
`,eI=L.select`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;
  transition: all ${({theme:e})=>e.transitions.fast};
  cursor: pointer;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.1);
  }
`,tI=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: ${({theme:e})=>e.spacing.md};
  margin: ${({theme:e})=>e.spacing.lg} 0;
`,nI=L(N.div)`
  padding: ${({theme:e})=>e.spacing.lg};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  cursor: pointer;
  text-align: center;
  transition: all ${({theme:e})=>e.transitions.fast};
  background: ${({theme:e})=>e.colors.background};

  &.selected {
    border-color: ${({theme:e})=>e.colors.primary};
    background: rgba(211, 47, 47, 0.05);
  }

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    transform: translateY(-2px);
  }

  .icon {
    font-size: 2rem;
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  .title {
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .description {
    font-size: 0.8rem;
    color: ${({theme:e})=>e.colors.textSecondary};
  }
`,rI=L(N.div)`
  background: rgba(244, 67, 54, 0.1);
  color: #f44336;
  padding: ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  border: 1px solid rgba(244, 67, 54, 0.2);
  font-size: 0.9rem;
  text-align: left;
`,iI=L(N.div)`
  background: rgba(76, 175, 80, 0.1);
  color: #4caf50;
  padding: ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  border: 1px solid rgba(76, 175, 80, 0.2);
  font-size: 0.9rem;
  text-align: left;
`,aI=L.div`
  background: rgba(255, 193, 7, 0.1);
  color: #ff8f00;
  padding: ${({theme:e})=>e.spacing.sm};
  border-radius: ${({theme:e})=>e.borderRadius.sm};
  font-size: 0.8rem;
  margin-top: ${({theme:e})=>e.spacing.xs};
  text-align: left;
`,oI=L(N.button)`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.gradient};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(211, 47, 47, 0.3);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
`,sI=L(N.button)`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  background: white;
  color: ${({theme:e})=>e.colors.text};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({theme:e})=>e.spacing.sm};
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    transform: translateY(-2px);
    box-shadow: ${({theme:e})=>e.shadows.md};
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
`,cI=L.div`
  display: flex;
  align-items: center;
  margin: ${({theme:e})=>e.spacing.xl} 0;
  
  &::before,
  &::after {
    content: '';
    flex: 1;
    height: 1px;
    background: ${({theme:e})=>e.colors.border};
  }
  
  span {
    padding: 0 ${({theme:e})=>e.spacing.md};
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.9rem;
  }
`,lI=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  margin: 0;
  
  a {
    color: ${({theme:e})=>e.colors.primary};
    text-decoration: none;
    font-weight: 600;
    
    &:hover {
      text-decoration: underline;
    }
  }
`,uI=()=>{let[e,t]=(0,b.useState)({firstName:``,lastName:``,email:``,phone:``,selectedRole:``,department:``,year:``,rollNumber:``,password:``,confirmPassword:``}),[n,r]=(0,b.useState)(!1),[i,a]=(0,b.useState)(``),[o,s]=(0,b.useState)(``),c=Ye(),l=[{value:`student`,icon:`🎓`,title:`Student`,description:`Looking for internships and placements`},{value:`faculty`,icon:`👨‍🏫`,title:`Faculty`,description:`Academic staff member`},{value:`recruiter`,icon:`🏢`,title:`Recruiter`,description:`Company representative`},{value:`placement`,icon:`📋`,title:`Placement Cell`,description:`Placement office staff`}],u=e=>{let{name:n,value:r}=e.target;t(e=>({...e,[n]:r})),a(``)},d=e=>{t(t=>({...t,selectedRole:e})),a(``)},f=()=>{if(!e.firstName.trim())return`First name is required`;if(!e.lastName.trim())return`Last name is required`;if(!e.email.trim())return`Email is required`;if(!e.selectedRole)return`Please select your role`;if(!e.password)return`Password is required`;if(e.password.length<6)return`Password must be at least 6 characters`;if(e.password!==e.confirmPassword)return`Passwords do not match`;if(e.selectedRole===`student`){if(!e.department)return`Department is required for students`;if(!e.year)return`Year is required for students`;if(!e.rollNumber)return`Roll number is required for students`}return(e.selectedRole===`faculty`||e.selectedRole===`placement`)&&!JM(e.email)?`Faculty and placement staff must use college email addresses`:null};return(0,R.jsx)(GF,{children:(0,R.jsxs)(KF,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:`easeOut`},children:[(0,R.jsxs)(qF,{children:[`Create a `,(0,R.jsx)(`span`,{children:`Campus Account`})]}),(0,R.jsx)(JF,{children:`One profile for internships & placements`}),i&&(0,R.jsx)(rI,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:i}),o&&(0,R.jsx)(iI,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:o}),(0,R.jsxs)(YF,{onSubmit:async t=>{t.preventDefault(),r(!0),a(``),s(``);let n=f();if(n){a(n),r(!1);return}try{let{user:t}=await FM(e.email,e.password),n=`pending`,r=!1,i=e.selectedRole;(e.selectedRole===`faculty`||e.selectedRole===`placement`)&&JM(e.email)&&(n=e.selectedRole,r=!0,i=null),await VM(t,{name:`${e.firstName} ${e.lastName}`,firstName:e.firstName,lastName:e.lastName,phone:e.phone,department:e.department,year:e.year,rollNumber:e.rollNumber,role:n,requestedRole:i,approved:r}),!r&&i&&await YM(t.uid,t.email,i,{name:`${e.firstName} ${e.lastName}`,department:e.department,year:e.year,rollNumber:e.rollNumber,phone:e.phone}),await zM(t),s(`Account created successfully! Please check your email to verify your account.`),setTimeout(()=>{c(`/auth/verify-pending`)},2e3)}catch(e){console.error(`Signup error:`,e),a(e.message||`Failed to create account. Please try again.`)}finally{r(!1)}},children:[(0,R.jsxs)(XF,{children:[(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{htmlFor:`firstName`,children:`First Name`}),(0,R.jsx)($F,{type:`text`,id:`firstName`,name:`firstName`,placeholder:`John`,value:e.firstName,onChange:u,required:!0})]}),(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{htmlFor:`lastName`,children:`Last Name`}),(0,R.jsx)($F,{type:`text`,id:`lastName`,name:`lastName`,placeholder:`Doe`,value:e.lastName,onChange:u,required:!0})]})]}),(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{htmlFor:`email`,children:`Email Address`}),(0,R.jsx)($F,{type:`email`,id:`email`,name:`email`,placeholder:`john.doe@university.edu`,value:e.email,onChange:u,className:e.email&&!JM(e.email)?`error`:``,required:!0}),e.email&&!JM(e.email)&&(0,R.jsx)(aI,{children:`💡 We recommend using your college email address for faster approval`})]}),(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{htmlFor:`phone`,children:`Phone Number`}),(0,R.jsx)($F,{type:`tel`,id:`phone`,name:`phone`,placeholder:`+1 (555) 123-4567`,value:e.phone,onChange:u})]}),(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{children:`Select Your Role`}),(0,R.jsx)(tI,{children:l.map(t=>(0,R.jsxs)(nI,{className:e.selectedRole===t.value?`selected`:``,onClick:()=>d(t.value),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`div`,{className:`icon`,children:t.icon}),(0,R.jsx)(`div`,{className:`title`,children:t.title}),(0,R.jsx)(`div`,{className:`description`,children:t.description})]},t.value))})]}),e.selectedRole===`student`&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(XF,{children:[(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{htmlFor:`department`,children:`Department`}),(0,R.jsxs)(eI,{id:`department`,name:`department`,value:e.department,onChange:u,required:!0,children:[(0,R.jsx)(`option`,{value:``,children:`Select Department`}),(0,R.jsx)(`option`,{value:`Computer Science`,children:`Computer Science`}),(0,R.jsx)(`option`,{value:`Information Technology`,children:`Information Technology`}),(0,R.jsx)(`option`,{value:`Electronics`,children:`Electronics`}),(0,R.jsx)(`option`,{value:`Mechanical`,children:`Mechanical`}),(0,R.jsx)(`option`,{value:`Civil`,children:`Civil`}),(0,R.jsx)(`option`,{value:`Electrical`,children:`Electrical`}),(0,R.jsx)(`option`,{value:`Other`,children:`Other`})]})]}),(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{htmlFor:`year`,children:`Year`}),(0,R.jsxs)(eI,{id:`year`,name:`year`,value:e.year,onChange:u,required:!0,children:[(0,R.jsx)(`option`,{value:``,children:`Select Year`}),(0,R.jsx)(`option`,{value:`1`,children:`1st Year`}),(0,R.jsx)(`option`,{value:`2`,children:`2nd Year`}),(0,R.jsx)(`option`,{value:`3`,children:`3rd Year`}),(0,R.jsx)(`option`,{value:`4`,children:`4th Year`})]})]})]}),(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{htmlFor:`rollNumber`,children:`Roll Number`}),(0,R.jsx)($F,{type:`text`,id:`rollNumber`,name:`rollNumber`,placeholder:`CS2021001`,value:e.rollNumber,onChange:u,required:!0})]})]}),(0,R.jsxs)(XF,{children:[(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{htmlFor:`password`,children:`Password`}),(0,R.jsx)($F,{type:`password`,id:`password`,name:`password`,placeholder:`Create a strong password`,value:e.password,onChange:u,required:!0})]}),(0,R.jsxs)(ZF,{children:[(0,R.jsx)(QF,{htmlFor:`confirmPassword`,children:`Confirm Password`}),(0,R.jsx)($F,{type:`password`,id:`confirmPassword`,name:`confirmPassword`,placeholder:`Confirm your password`,value:e.confirmPassword,onChange:u,required:!0})]})]}),(0,R.jsx)(oI,{type:`submit`,disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},children:n?`Creating Account...`:`Create Account`})]}),(0,R.jsx)(cI,{children:(0,R.jsx)(`span`,{children:`or`})}),(0,R.jsxs)(sI,{onClick:async()=>{r(!0),a(``);try{let{user:e}=await LM();await VM(e,{role:`pending`,approved:!1,requestedRole:null}),c(`/auth/verify-pending`)}catch(e){console.error(`Google signup error:`,e),a(e.message||`Failed to sign up with Google. Please try again.`)}finally{r(!1)}},disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`span`,{children:`🔍`}),`Continue with Google`]}),(0,R.jsx)(cI,{children:(0,R.jsx)(`span`,{})}),(0,R.jsxs)(lI,{children:[`Already have an account? `,(0,R.jsx)(jt,{to:`/auth/login`,children:`Sign in here`})]})]})})},dI=L.div`
  min-height: calc(100vh - 70px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: ${({theme:e})=>e.spacing.xl} ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.surface};
`,fI=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  padding: ${({theme:e})=>e.spacing.xxl};
  width: 100%;
  max-width: 600px;
  text-align: center;
`,pI=L.div`
  width: 100px;
  height: 100px;
  margin: 0 auto ${({theme:e})=>e.spacing.xl};
  background: ${({$status:e,theme:t})=>{switch(e){case`unverified`:return`linear-gradient(135deg, #FF9800 0%, #F57C00 100%)`;case`pending`:return`linear-gradient(135deg, #2196F3 0%, #1976D2 100%)`;case`verified`:return`linear-gradient(135deg, #4CAF50 0%, #388E3C 100%)`;default:return t.colors.gradient}}};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 3rem;
  color: white;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border-radius: 50%;
    background: ${({$status:e,theme:t})=>{switch(e){case`unverified`:return`linear-gradient(135deg, #FF9800 0%, #F57C00 100%)`;case`pending`:return`linear-gradient(135deg, #2196F3 0%, #1976D2 100%)`;case`verified`:return`linear-gradient(135deg, #4CAF50 0%, #388E3C 100%)`;default:return t.colors.gradient}}};
    opacity: 0.2;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0% { transform: scale(1); opacity: 0.2; }
    50% { transform: scale(1.1); opacity: 0.1; }
    100% { transform: scale(1); opacity: 0.2; }
  }
`,mI=L.h1`
  font-size: 2.2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.md};

  span {
    color: ${({theme:e})=>e.colors.primary};
  }
`,hI=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 1.1rem;
  line-height: 1.6;
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,gI=L.div`
  background: ${({theme:e})=>e.colors.surface};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  margin: ${({theme:e})=>e.spacing.xl} 0;
  text-align: left;
`,_I=L.h3`
  color: ${({theme:e})=>e.colors.text};
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: ${({theme:e})=>e.spacing.md};
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
`,vI=L.ul`
  list-style: none;
  padding: 0;
  margin: 0;

  li {
    display: flex;
    align-items: flex-start;
    gap: ${({theme:e})=>e.spacing.sm};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.95rem;
    line-height: 1.5;

    &::before {
      content: '•';
      color: ${({theme:e})=>e.colors.primary};
      font-weight: bold;
      margin-top: 2px;
    }
  }
`,yI=L.div`
  background: rgba(211, 47, 47, 0.05);
  border: 1px solid rgba(211, 47, 47, 0.1);
  border-radius: ${({theme:e})=>e.borderRadius.md};
  padding: ${({theme:e})=>e.spacing.lg};
  margin-top: ${({theme:e})=>e.spacing.lg};

  h4 {
    color: ${({theme:e})=>e.colors.primary};
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  p {
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.9rem;
    margin: ${({theme:e})=>e.spacing.xs} 0;
  }
`,bI=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.md};
  justify-content: center;
  flex-wrap: wrap;
  margin-top: ${({theme:e})=>e.spacing.xl};
`,xI=L(N.button)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.xl};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
  border: 2px solid transparent;
  transition: all ${({theme:e})=>e.transitions.normal};
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};

  &.primary {
    background: ${({theme:e})=>e.colors.gradient};
    color: white;
    border-color: ${({theme:e})=>e.colors.primary};

    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(211, 47, 47, 0.3);
    }
  }

  &.secondary {
    background: transparent;
    color: ${({theme:e})=>e.colors.text};
    border-color: ${({theme:e})=>e.colors.border};

    &:hover {
      border-color: ${({theme:e})=>e.colors.primary};
      color: ${({theme:e})=>e.colors.primary};
      transform: translateY(-2px);
      box-shadow: ${({theme:e})=>e.shadows.md};
    }
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
`,SI=L.div`
  display: inline-flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  background: ${({$status:e,theme:t})=>{switch(e){case`unverified`:return`rgba(255, 152, 0, 0.1)`;case`pending`:return`rgba(33, 150, 243, 0.1)`;case`verified`:return`rgba(76, 175, 80, 0.1)`;default:return t.colors.surface}}};
  color: ${({$status:e,theme:t})=>{switch(e){case`unverified`:return`#FF9800`;case`pending`:return`#2196F3`;case`verified`:return`#4CAF50`;default:return t.colors.textSecondary}}};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 0.9rem;
  font-weight: 500;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,CI=()=>{let{currentUser:e,userProfile:t,getUserStatus:n,refreshUserData:r,isEmailVerified:i}=$M(),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)(``),[l,u]=(0,b.useState)(0),[d,f]=(0,b.useState)(!1),[p,m]=(0,b.useState)(``),h=Ye(),g=n();(0,b.useEffect)(()=>{let n=setInterval(async()=>{e&&(await e.reload(),await r(),i()&&t?.approved&&h(`/dashboard`))},5e3);return()=>clearInterval(n)},[e,t,i,r,h]),(0,b.useEffect)(()=>{if(l>0){let e=setTimeout(()=>{u(l-1)},1e3);return()=>clearTimeout(e)}},[l]);let _=async()=>{if(!(!e||l>0)){o(!0),c(``);try{await zM(e),c(`Verification email sent! Please check your inbox.`),u(60)}catch(e){console.error(`Resend verification error:`,e),c(`Failed to send verification email. Please try again.`)}finally{o(!1)}}},v=async()=>{f(!0),m(``);try{await e.reload(),await r(),m(`Status updated successfully!`),setTimeout(()=>m(``),3e3)}catch(e){console.error(`Check status error:`,e),m(`Failed to check status. Please try again.`)}finally{f(!1)}},y=async()=>{try{await RM(),h(`/auth/login`)}catch(e){console.error(`Sign out error:`,e)}},x=(()=>i()?g.status===`pending`?{icon:`⏳`,status:`pending`,title:`Account Pending Approval`,message:`Thanks — your account awaits approval from your institute's placement team. We'll notify you by email once approved.`,badge:`⏳ Pending Approval`}:{icon:`✅`,status:`verified`,title:`Account Verified`,message:`Your account has been verified and approved! You can now access all features.`,badge:`✅ Account Active`}:{icon:`📧`,status:`unverified`,title:`Verify Your Email`,message:`We've sent a verification link to your email address. Please check your inbox and click the link to verify your account.`,badge:`⚠️ Email Not Verified`})();return e?(0,R.jsx)(dI,{children:(0,R.jsxs)(fI,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:`easeOut`},children:[(0,R.jsx)(pI,{$status:x.status,children:x.icon}),(0,R.jsx)(SI,{$status:x.status,children:x.badge}),(0,R.jsx)(mI,{children:x.title}),(0,R.jsx)(hI,{children:x.message}),(s||p)&&(0,R.jsx)(hI,{style:{color:(s||p).includes(`Failed`)?`#f44336`:`#4caf50`},children:s||p}),!i()&&(0,R.jsxs)(gI,{children:[(0,R.jsx)(_I,{children:`📋 Next Steps`}),(0,R.jsxs)(vI,{children:[(0,R.jsx)(`li`,{children:`Check your email inbox for a verification message`}),(0,R.jsx)(`li`,{children:`Click the verification link in the email`}),(0,R.jsx)(`li`,{children:`Return to this page - it will automatically update`}),(0,R.jsx)(`li`,{children:`If you don't see the email, check your spam folder`})]})]}),g.status===`pending`&&i()&&(0,R.jsxs)(gI,{children:[(0,R.jsx)(_I,{children:`🏫 Approval Process`}),(0,R.jsxs)(vI,{children:[(0,R.jsxs)(`li`,{children:[(0,R.jsx)(`strong`,{children:`Expected Timeline:`}),` 1-2 business days`]}),(0,R.jsxs)(`li`,{children:[(0,R.jsx)(`strong`,{children:`Review Process:`}),` Placement team verifies your details`]}),(0,R.jsxs)(`li`,{children:[(0,R.jsx)(`strong`,{children:`Notification:`}),` You'll receive an email once approved`]}),(0,R.jsxs)(`li`,{children:[(0,R.jsx)(`strong`,{children:`Access:`}),` Full platform access after approval`]})]}),(0,R.jsxs)(yI,{children:[(0,R.jsx)(`h4`,{children:`Need Help?`}),(0,R.jsxs)(`p`,{children:[(0,R.jsx)(`strong`,{children:`Email:`}),` placement@university.edu`]}),(0,R.jsxs)(`p`,{children:[(0,R.jsx)(`strong`,{children:`Phone:`}),` +1 (555) 123-4567`]}),(0,R.jsxs)(`p`,{children:[(0,R.jsx)(`strong`,{children:`Office Hours:`}),` Mon-Fri, 9AM-5PM`]})]})]}),(0,R.jsxs)(bI,{children:[!i()&&(0,R.jsx)(xI,{className:`primary`,onClick:_,disabled:a||l>0,whileHover:{scale:1.05},whileTap:{scale:.95},children:a?`📤 Sending...`:l>0?`⏱️ Resend in ${l}s`:`📧 Resend Email`}),(0,R.jsx)(xI,{className:`secondary`,onClick:v,disabled:d,whileHover:{scale:1.05},whileTap:{scale:.95},children:d?`🔄 Checking...`:`🔄 Check Status`}),(0,R.jsx)(xI,{className:`secondary`,onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},children:`🚪 Sign Out`})]}),x.status===`verified`&&(0,R.jsx)(bI,{children:(0,R.jsx)(xI,{as:jt,to:`/dashboard`,className:`primary`,whileHover:{scale:1.05},whileTap:{scale:.95},children:`🚀 Go to Dashboard`})})]})}):(h(`/auth/login`),null)},wI=L.div`
  min-height: calc(100vh - 70px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: ${({theme:e})=>e.spacing.xl} ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.surface};
`,TI=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  padding: ${({theme:e})=>e.spacing.xxl};
  width: 100%;
  max-width: 450px;
  text-align: center;
`,EI=L.div`
  width: 80px;
  height: 80px;
  margin: 0 auto ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  color: white;
`,DI=L.h1`
  font-size: 2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};

  span {
    color: ${({theme:e})=>e.colors.primary};
  }
`,OI=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  line-height: 1.6;
`,kI=L.form`
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.lg};
`,AI=L.div`
  text-align: left;
`,jI=L.label`
  display: block;
  font-weight: 500;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
  font-size: 0.9rem;
`,MI=L.input`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 1rem;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: 0 0 0 3px rgba(211, 47, 47, 0.1);
  }

  &::placeholder {
    color: ${({theme:e})=>e.colors.textSecondary};
  }
`,NI=L(N.div)`
  background: rgba(244, 67, 54, 0.1);
  color: #f44336;
  padding: ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  border: 1px solid rgba(244, 67, 54, 0.2);
  font-size: 0.9rem;
  text-align: left;
`;L(N.div)`
  background: rgba(76, 175, 80, 0.1);
  color: #4caf50;
  padding: ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  border: 1px solid rgba(76, 175, 80, 0.2);
  font-size: 0.9rem;
  text-align: left;
`;var PI=L(N.button)`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.gradient};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(211, 47, 47, 0.3);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
`,FI=L(jt)`
  color: ${({theme:e})=>e.colors.primary};
  text-decoration: none;
  font-size: 0.9rem;
  margin-top: ${({theme:e})=>e.spacing.xl};
  display: inline-flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};

  &:hover {
    text-decoration: underline;
  }
`,II=L.div`
  background: rgba(33, 150, 243, 0.1);
  border: 1px solid rgba(33, 150, 243, 0.2);
  border-radius: ${({theme:e})=>e.borderRadius.md};
  padding: ${({theme:e})=>e.spacing.lg};
  margin-top: ${({theme:e})=>e.spacing.lg};
  text-align: left;

  h4 {
    color: #2196f3;
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;

    li {
      display: flex;
      align-items: flex-start;
      gap: ${({theme:e})=>e.spacing.sm};
      margin-bottom: ${({theme:e})=>e.spacing.xs};
      color: ${({theme:e})=>e.colors.textSecondary};
      font-size: 0.9rem;

      &::before {
        content: '•';
        color: #2196f3;
        font-weight: bold;
        margin-top: 2px;
      }
    }
  }
`,LI=()=>{let[e,t]=(0,b.useState)(``),[n,r]=(0,b.useState)(!1),[i,a]=(0,b.useState)(``),[o,s]=(0,b.useState)(!1);return o?(0,R.jsx)(wI,{children:(0,R.jsxs)(TI,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:`easeOut`},children:[(0,R.jsx)(EI,{children:`✅`}),(0,R.jsxs)(DI,{children:[`Email `,(0,R.jsx)(`span`,{children:`Sent`})]}),(0,R.jsxs)(OI,{children:[`We've sent a password reset link to `,(0,R.jsx)(`strong`,{children:e}),`. Please check your inbox and follow the instructions to reset your password.`]}),(0,R.jsxs)(II,{children:[(0,R.jsx)(`h4`,{children:`📋 Next Steps`}),(0,R.jsxs)(`ul`,{children:[(0,R.jsx)(`li`,{children:`Check your email inbox for the reset link`}),(0,R.jsx)(`li`,{children:`Click the link to create a new password`}),(0,R.jsx)(`li`,{children:`Return to the login page to sign in`}),(0,R.jsx)(`li`,{children:`If you don't see the email, check your spam folder`})]})]}),(0,R.jsx)(FI,{to:`/auth/login`,children:`← Back to Login`})]})}):(0,R.jsx)(wI,{children:(0,R.jsxs)(TI,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:`easeOut`},children:[(0,R.jsx)(EI,{children:`🔑`}),(0,R.jsxs)(DI,{children:[`Reset `,(0,R.jsx)(`span`,{children:`Password`})]}),(0,R.jsx)(OI,{children:`Enter your email address and we'll send you a link to reset your password.`}),i&&(0,R.jsx)(NI,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:i}),(0,R.jsxs)(kI,{onSubmit:async t=>{if(t.preventDefault(),r(!0),a(``),!e.trim()){a(`Please enter your email address.`),r(!1);return}try{await BM(e),s(!0)}catch(e){console.error(`Password reset error:`,e);let t=`Failed to send reset email. Please try again.`;switch(e.code){case`auth/user-not-found`:t=`No account found with this email address.`;break;case`auth/invalid-email`:t=`Please enter a valid email address.`;break;case`auth/too-many-requests`:t=`Too many requests. Please wait before trying again.`;break;default:t=e.message||t}a(t)}finally{r(!1)}},children:[(0,R.jsxs)(AI,{children:[(0,R.jsx)(jI,{htmlFor:`email`,children:`Email Address`}),(0,R.jsx)(MI,{type:`email`,id:`email`,name:`email`,placeholder:`Enter your email address`,value:e,onChange:e=>{t(e.target.value),a(``)},required:!0,autoComplete:`email`})]}),(0,R.jsx)(PI,{type:`submit`,disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},children:n?`Sending Reset Link...`:`Send Reset Link`})]}),(0,R.jsxs)(II,{children:[(0,R.jsx)(`h4`,{children:`💡 Password Reset Tips`}),(0,R.jsxs)(`ul`,{children:[(0,R.jsx)(`li`,{children:`Make sure to use the email associated with your account`}),(0,R.jsx)(`li`,{children:`The reset link will expire in 1 hour for security`}),(0,R.jsx)(`li`,{children:`Check your spam folder if you don't see the email`}),(0,R.jsx)(`li`,{children:`Contact support if you continue having issues`})]})]}),(0,R.jsx)(FI,{to:`/auth/login`,children:`← Back to Login`})]})})},RI=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xxl} 0;
  background: ${({theme:e})=>e.colors.surface};
`,zI=L.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.md};

  @media (max-width: 768px) {
    padding: 0 ${({theme:e})=>e.spacing.sm};
  }
`,BI=L(N.div)`
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  padding: ${({theme:e})=>e.spacing.xxl};
  text-align: center;
  color: white;
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
  position: relative;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="1" fill="white" opacity="0.1"/><circle cx="10" cy="90" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
    pointer-events: none;
  }
`,VI=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: ${({theme:e})=>e.spacing.md};
  position: relative;
  z-index: 1;

  @media (max-width: 768px) {
    font-size: 2rem;
  }
`,HI=L.p`
  font-size: 1.2rem;
  opacity: 0.9;
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  position: relative;
  z-index: 1;
`,UI=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.lg};
  justify-content: center;
  flex-wrap: wrap;
  position: relative;
  z-index: 1;
`,WI=L(N.button)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.xl};
  background: rgba(255, 255, 255, 0.2);
  color: white;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-weight: 600;
  cursor: pointer;
  backdrop-filter: blur(10px);
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    background: rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 255, 255, 0.5);
    transform: translateY(-2px);
  }
`,GI=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: ${({theme:e})=>e.spacing.xl};
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
`,KI=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  text-align: center;
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    transform: translateY(-5px);
    box-shadow: ${({theme:e})=>e.shadows.lg};
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,qI=L.div`
  width: 60px;
  height: 60px;
  margin: 0 auto ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  color: white;
`,JI=L.h3`
  font-size: 2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.primary};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,YI=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
  margin: 0;
`,XI=L.section`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  padding: ${({theme:e})=>e.spacing.xxl};
`,ZI=L.h2`
  font-size: 1.8rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  text-align: center;

  span {
    color: ${({theme:e})=>e.colors.primary};
  }
`,QI=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};
`,$I=L(N.div)`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.md};
  padding: ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.surface};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  border: 1px solid ${({theme:e})=>e.colors.border};
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    transform: translateX(5px);
  }
`,eL=L.div`
  width: 40px;
  height: 40px;
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  color: white;
  flex-shrink: 0;
`,tL=L.div`
  h4 {
    font-size: 1.1rem;
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  p {
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.9rem;
    margin: 0;
    line-height: 1.4;
  }
`,nL=()=>{let e=Ye(),{currentUser:t}=$M(),[n,r]=(0,b.useState)([{icon:`📊`,value:`12`,label:`Applications Submitted`},{icon:`🎯`,value:`3`,label:`Interviews Scheduled`},{icon:`✅`,value:`1`,label:`Offers Received`},{icon:`📈`,value:`85%`,label:`Profile Completion`}]),[i,a]=(0,b.useState)(0);return(0,b.useEffect)(()=>{t&&a(85)},[t]),(0,R.jsx)(RI,{children:(0,R.jsxs)(zI,{children:[(0,R.jsxs)(BI,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,R.jsx)(VI,{children:`Welcome to Your Dashboard! 🎉`}),(0,R.jsx)(HI,{children:`You're successfully logged in to the Campus Placement Portal. Start exploring the features to accelerate your career journey.`}),(0,R.jsxs)(UI,{children:[(0,R.jsx)(WI,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(`/profile`),children:`Complete Profile`}),(0,R.jsx)(WI,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(`/jobs`),children:`Browse Jobs`}),(0,R.jsx)(WI,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(`/student/mock-test`),children:`Take Mock Test`})]})]}),(0,R.jsx)(GI,{children:n.map((e,t)=>(0,R.jsxs)(KI,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:t*.1},whileHover:{scale:1.02},children:[(0,R.jsx)(qI,{children:e.icon}),(0,R.jsx)(JI,{children:e.value}),(0,R.jsx)(YI,{children:e.label})]},t))}),(0,R.jsxs)(XI,{children:[(0,R.jsxs)(ZI,{children:[`Available `,(0,R.jsx)(`span`,{children:`Features`})]}),(0,R.jsx)(QI,{children:[{icon:`🎓`,title:`Smart Job Matching`,description:`AI-powered recommendations based on your skills and preferences`},{icon:`📝`,title:`One-Click Applications`,description:`Apply to multiple opportunities with your unified profile`},{icon:`🤖`,title:`Mock Test Generator`,description:`Practice with AI-generated tests for placement preparation`},{icon:`💬`,title:`Peer Doubt Solver`,description:`Get help from peers and mentors for your academic queries`},{icon:`📊`,title:`Progress Analytics`,description:`Track your application status and interview performance`},{icon:`🔔`,title:`Real-time Notifications`,description:`Stay updated with application status and new opportunities`}].map((e,t)=>(0,R.jsxs)($I,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:t*.1},whileHover:{scale:1.02},children:[(0,R.jsx)(eL,{children:e.icon}),(0,R.jsxs)(tL,{children:[(0,R.jsx)(`h4`,{children:e.title}),(0,R.jsx)(`p`,{children:e.description})]})]},t))})]})]})})},rL=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xl} 0;
  background: ${({theme:e})=>e.colors.surface};
`,iL=L.div`
  max-width: 900px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.md};
`,aL=L.div`
  text-align: center;
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
`,oL=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.md};
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({theme:e})=>e.spacing.md};
`,sL=L.p`
  font-size: 1.2rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  max-width: 600px;
  margin: 0 auto;
`,cL=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  padding: ${({theme:e})=>e.spacing.xxl};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  border: 1px solid ${({theme:e})=>e.colors.border};
`,lL=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,uL=L.h3`
  font-size: 1.3rem;
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  line-height: 1.5;
`,dL=L.div`
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.md};
`,fL=L(N.button)`
  padding: ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e,selected:t})=>t?e.colors.primary:e.colors.surface};
  color: ${({theme:e,selected:t})=>t?`white`:e.colors.text};
  border: 2px solid ${({theme:e,selected:t})=>t?e.colors.primary:e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  text-align: left;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};
  font-size: 1rem;

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    transform: translateY(-2px);
  }
`,pL=L.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: ${({theme:e})=>e.spacing.xl};
  padding-top: ${({theme:e})=>e.spacing.xl};
  border-top: 1px solid ${({theme:e})=>e.colors.border};
`,mL=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.lg};
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,hL=L(N.button)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e,$variant:t})=>t===`primary`?e.colors.gradient:e.colors.surface};
  color: ${({theme:e,$variant:t})=>t===`primary`?`white`:e.colors.text};
  border: 2px solid ${({theme:e,$variant:t})=>t===`primary`?e.colors.primary:e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-weight: 600;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    transform: translateY(-2px);
    box-shadow: ${({theme:e})=>e.shadows.md};
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
`,gL=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  padding: ${({theme:e})=>e.spacing.xxl};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  border: 1px solid ${({theme:e})=>e.colors.border};
`,_L=L.div`
  font-size: 3rem;
  font-weight: 700;
  color: ${({theme:e,$score:t})=>t>=80?e.colors.success:t>=60?e.colors.warning:e.colors.error};
  margin-bottom: ${({theme:e})=>e.spacing.md};
`,vL=L.p`
  font-size: 1.2rem;
  color: ${({theme:e})=>e.colors.textSecondary};
{{ ... }}
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,yL={technical:[{question:`What is the time complexity of binary search?`,options:[`O(n)`,`O(log n)`,`O(n²)`,`O(1)`],correct:1},{question:`Which data structure uses LIFO principle?`,options:[`Queue`,`Stack`,`Array`,`Linked List`],correct:1},{question:`What does SQL stand for?`,options:[`Structured Query Language`,`Simple Query Language`,`Standard Query Language`,`System Query Language`],correct:0},{question:`Which of the following is not a programming paradigm?`,options:[`Object-Oriented`,`Functional`,`Procedural`,`Algorithmic`],correct:3},{question:`What is the purpose of a constructor in OOP?`,options:[`To destroy objects`,`To initialize objects`,`To copy objects`,`To compare objects`],correct:1}],aptitude:[{question:`If a train travels 60 km in 45 minutes, what is its speed in km/hr?`,options:[`75 km/hr`,`80 km/hr`,`85 km/hr`,`90 km/hr`],correct:1},{question:`What is 15% of 240?`,options:[`32`,`36`,`38`,`42`],correct:1},{question:`If the ratio of boys to girls in a class is 3:2 and there are 25 students total, how many boys are there?`,options:[`12`,`13`,`15`,`18`],correct:2},{question:`A shopkeeper sells an item for ₹120 after giving a 20% discount. What was the original price?`,options:[`₹140`,`₹144`,`₹150`,`₹160`],correct:2},{question:`Complete the series: 2, 6, 12, 20, 30, ?`,options:[`40`,`42`,`44`,`46`],correct:1}],reasoning:[{question:`All roses are flowers. Some flowers are red. Therefore:`,options:[`All roses are red`,`Some roses are red`,`No roses are red`,`Cannot be determined`],correct:3},{question:`If CODING is written as DPEJOH, how is FLOWER written?`,options:[`GMPXFS`,`GMPWER`,`GKPVDS`,`GMPXFR`],correct:0},{question:`Find the odd one out: Dog, Cat, Lion, Car`,options:[`Dog`,`Cat`,`Lion`,`Car`],correct:3},{question:`If today is Monday, what day will it be after 100 days?`,options:[`Monday`,`Tuesday`,`Wednesday`,`Thursday`],correct:1},{question:`A is taller than B. C is shorter than B. Who is the shortest?`,options:[`A`,`B`,`C`,`Cannot be determined`],correct:2}]},bL=()=>{let{currentUser:e}=$M(),[t,n]=(0,b.useState)(!1),[r,i]=(0,b.useState)(!1),[a,o]=(0,b.useState)(0),[s,c]=(0,b.useState)({}),[l,u]=(0,b.useState)(`technical`),[d,f]=(0,b.useState)(600),[p,m]=(0,b.useState)([]);(0,b.useEffect)(()=>{if(t&&!r){let e=setInterval(()=>{f(e=>e<=1?(i(!0),0):e-1)},1e3);return()=>clearInterval(e)}},[t,r]);let h=e=>{u(e),m(yL[e]),n(!0),o(0),c({}),f(600)},g=e=>{c({...s,[a]:e})},_=()=>{a<p.length-1&&o(a+1)},v=()=>{a>0&&o(a-1)},y=()=>{i(!0)},x=()=>{let e=0;return p.forEach((t,n)=>{s[n]===t.correct&&e++}),Math.round(e/p.length*100)},S=e=>{let t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,`0`)}`},C=()=>{n(!1),i(!1),o(0),c({}),f(600)};if(r){let e=x();return(0,R.jsx)(rL,{children:(0,R.jsxs)(iL,{children:[(0,R.jsx)(aL,{children:(0,R.jsx)(oL,{children:`🎯 Test Results`})}),(0,R.jsxs)(gL,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,R.jsxs)(_L,{$score:e,children:[e,`%`]}),(0,R.jsxs)(vL,{children:[`You scored `,x(),` out of `,p.length,` questions correctly!`]}),(0,R.jsxs)(`div`,{style:{marginBottom:`2rem`},children:[(0,R.jsx)(`p`,{style:{fontSize:`1.1rem`,marginBottom:`1rem`},children:(0,R.jsx)(`strong`,{children:`Performance Analysis:`})}),(0,R.jsx)(`p`,{style:{color:e>=80?`#4caf50`:e>=60?`#ff9800`:`#f44336`},children:e>=80?`🎉 Excellent! You have a strong understanding of the concepts.`:e>=60?`👍 Good job! Keep practicing to improve further.`:`📚 Keep studying! Focus on the areas you missed.`})]}),(0,R.jsx)(hL,{$variant:`primary`,onClick:C,whileHover:{scale:1.05},whileTap:{scale:.95},children:`Take Another Test`})]})]})})}return t?(0,R.jsx)(rL,{children:(0,R.jsxs)(iL,{children:[(0,R.jsx)(aL,{children:(0,R.jsxs)(oL,{children:[l===`technical`?`💻`:l===`aptitude`?`🔢`:`🧩`,l.charAt(0).toUpperCase()+l.slice(1),` Test`]})}),(0,R.jsxs)(cL,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,R.jsxs)(lL,{children:[(0,R.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`2rem`},children:[(0,R.jsxs)(`span`,{style:{fontSize:`1rem`,color:`var(--text-secondary)`,fontWeight:`600`},children:[`Question `,a+1,` of `,p.length]}),(0,R.jsxs)(`span`,{style:{fontSize:`1rem`,color:d<60?`#f44336`:`var(--primary)`,fontWeight:`600`},children:[`⏱️ `,S(d)]})]}),(0,R.jsx)(uL,{children:p[a]?.question}),(0,R.jsx)(dL,{children:p[a]?.options.map((e,t)=>(0,R.jsxs)(fL,{selected:s[a]===t,onClick:()=>g(t),whileHover:{scale:1.01},whileTap:{scale:.99},children:[(0,R.jsxs)(`strong`,{children:[String.fromCharCode(65+t),`.`]}),` `,e]},t))})]}),(0,R.jsxs)(pL,{children:[(0,R.jsx)(mL,{children:(0,R.jsxs)(`span`,{children:[`📊 Progress: `,Object.keys(s).length,`/`,p.length,` answered`]})}),(0,R.jsxs)(`div`,{style:{display:`flex`,gap:`1rem`},children:[(0,R.jsx)(hL,{onClick:v,disabled:a===0,whileHover:{scale:1.05},whileTap:{scale:.95},children:`← Previous`}),a===p.length-1?(0,R.jsx)(hL,{$variant:`primary`,onClick:y,whileHover:{scale:1.05},whileTap:{scale:.95},children:`Submit Test 🎯`}):(0,R.jsx)(hL,{$variant:`primary`,onClick:_,whileHover:{scale:1.05},whileTap:{scale:.95},children:`Next →`})]})]})]})]})}):(0,R.jsx)(rL,{children:(0,R.jsxs)(iL,{children:[(0,R.jsxs)(aL,{children:[(0,R.jsx)(oL,{children:`🧠 Mock Test Generator`}),(0,R.jsx)(sL,{children:`Practice with AI-generated tests to prepare for your placement interviews. Choose a category and test your knowledge!`})]}),(0,R.jsx)(`div`,{style:{display:`grid`,gap:`2rem`,gridTemplateColumns:`repeat(auto-fit, minmax(300px, 1fr))`},children:Object.keys(yL).map(e=>(0,R.jsxs)(cL,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02},children:[(0,R.jsxs)(`h3`,{style:{fontSize:`1.5rem`,fontWeight:`600`,marginBottom:`1rem`,textTransform:`capitalize`,display:`flex`,alignItems:`center`,gap:`0.5rem`},children:[e===`technical`?`💻`:e===`aptitude`?`🔢`:`🧩`,e,` Test`]}),(0,R.jsx)(`p`,{style:{color:`var(--text-secondary)`,marginBottom:`2rem`,lineHeight:`1.6`},children:e===`technical`?`Test your programming and technical knowledge`:e===`aptitude`?`Practice numerical and quantitative problems`:`Improve your logical reasoning skills`}),(0,R.jsxs)(`p`,{style:{fontSize:`0.9rem`,color:`var(--text-secondary)`,marginBottom:`1.5rem`},children:[`📝 `,yL[e].length,` Questions • ⏱️ 10 Minutes`]}),(0,R.jsxs)(hL,{$variant:`primary`,onClick:()=>h(e),whileHover:{scale:1.05},whileTap:{scale:.95},style:{width:`100%`},children:[`Start `,e.charAt(0).toUpperCase()+e.slice(1),` Test`]})]},e))})]})})};const xL={student:{collections:[`internships`,`applications`],searchFields:{internships:[`role`,`company`,`description`,`requiredSkills`,`department`],applications:[`internshipTitle`,`company`,`status`]},filters:{internships:{department:{type:`multiselect`,options:[`CSE`,`ECE`,`ME`,`CE`,`IT`,`EEE`]},requiredSkills:{type:`multiselect`,options:[]},seats:{type:`range`,min:1,max:100},stipend:{type:`range`,min:0,max:5e4},duration:{type:`multiselect`,options:[`1 month`,`2 months`,`3 months`,`6 months`]},mode:{type:`multiselect`,options:[`Remote`,`On-site`,`Hybrid`]},status:{type:`multiselect`,options:[`Active`,`Closed`,`Coming Soon`]}},applications:{status:{type:`multiselect`,options:[`Pending`,`Approved`,`Rejected`,`Interview Scheduled`,`Offered`]},appliedDate:{type:`daterange`}}},placeholder:`Search internships by role, company, skills...`},mentor:{collections:[`students`,`applications`],searchFields:{students:[`name`,`email`,`department`,`skills`,`year`],applications:[`studentName`,`internshipTitle`,`status`]},filters:{students:{department:{type:`multiselect`,options:[`CSE`,`ECE`,`ME`,`CE`,`IT`,`EEE`]},year:{type:`multiselect`,options:[`1st Year`,`2nd Year`,`3rd Year`,`4th Year`]},profileCompletion:{type:`range`,min:0,max:100},skills:{type:`multiselect`,options:[]},cgpa:{type:`range`,min:0,max:10},status:{type:`multiselect`,options:[`Active`,`Inactive`,`Graduated`]}},applications:{status:{type:`multiselect`,options:[`Pending`,`Approved`,`Rejected`,`Interview Scheduled`,`Offered`]},mentorApproval:{type:`multiselect`,options:[`Pending`,`Approved`,`Rejected`]}}},placeholder:`Search students by name, department, skills...`},placement:{collections:[`students`,`internships`,`applications`],searchFields:{students:[`name`,`email`,`department`,`skills`,`year`],internships:[`role`,`company`,`description`,`requiredSkills`],applications:[`studentName`,`internshipTitle`,`status`,`company`]},filters:{students:{department:{type:`multiselect`,options:[`CSE`,`ECE`,`ME`,`CE`,`IT`,`EEE`]},year:{type:`multiselect`,options:[`1st Year`,`2nd Year`,`3rd Year`,`4th Year`]},profileCompletion:{type:`range`,min:0,max:100},placementStatus:{type:`multiselect`,options:[`Placed`,`Not Placed`,`In Process`]}},internships:{department:{type:`multiselect`,options:[`CSE`,`ECE`,`ME`,`CE`,`IT`,`EEE`]},seats:{type:`range`,min:1,max:100},applicationsCount:{type:`range`,min:0,max:500},status:{type:`multiselect`,options:[`Active`,`Closed`,`Draft`]}},applications:{status:{type:`multiselect`,options:[`Pending`,`Approved`,`Rejected`,`Interview Scheduled`,`Offered`]},department:{type:`multiselect`,options:[`CSE`,`ECE`,`ME`,`CE`,`IT`,`EEE`]}}},placeholder:`Search students, internships, applications...`},admin:{collections:[`students`,`internships`,`applications`,`users`],searchFields:{students:[`name`,`email`,`department`,`skills`,`year`],internships:[`role`,`company`,`description`,`requiredSkills`],applications:[`studentName`,`internshipTitle`,`status`],users:[`name`,`email`,`role`,`department`]},filters:{students:{department:{type:`multiselect`,options:[`CSE`,`ECE`,`ME`,`CE`,`IT`,`EEE`]},year:{type:`multiselect`,options:[`1st Year`,`2nd Year`,`3rd Year`,`4th Year`]},status:{type:`multiselect`,options:[`Active`,`Inactive`,`Suspended`]}},users:{role:{type:`multiselect`,options:[`student`,`mentor`,`placement`,`admin`]},status:{type:`multiselect`,options:[`Active`,`Pending`,`Suspended`]},lastLogin:{type:`daterange`}},applications:{status:{type:`multiselect`,options:[`Pending`,`Approved`,`Rejected`,`Interview Scheduled`,`Offered`]}}},placeholder:`Search users, students, internships, applications...`}};new class{constructor(){this.listeners=new Map,this.cache=new Map}buildQuery(e,t,n={},r=`student`){let i=e,a=[];return t&&t.trim()&&xL[r]?.searchFields[e],Object.entries(n).forEach(([e,t])=>{t&&t.length>0&&(Array.isArray(t)?a.push(Ek(e,`in`,t)):typeof t==`object`&&t.min!==void 0?(t.min>0&&a.push(Ek(e,`>=`,t.min)),t.max<1/0&&a.push(Ek(e,`<=`,t.max))):a.push(Ek(e,`==`,t)))}),a.length>0&&(i=wk(i,...a)),i=wk(i,kk(`createdAt`,`desc`)),i}async searchWithFilters(e,t,n,r,i){try{let a=(LO(jM,e)),o=(this.buildQuery(a,t,n,r)),s=`${e}_${Date.now()}`,c=(Kk(o,n=>{let a=[];n.forEach(e=>{a.push({id:e.id,...e.data()})}),t&&t.trim()&&(a=this.filterBySearchTerm(a,t,r,e)),a=this.enhanceResults(a,t,r,e),i(a)},e=>{console.error(`Search error:`,e),i([])}));return this.listeners.set(s,c),s}catch(e){return console.error(`Search setup error:`,e),i([]),null}}filterBySearchTerm(e,t,n,r){let i=xL[n]?.searchFields[r]||[],a=(t.toLowerCase());return e.filter(e=>i.some(t=>{let n=e[t];return n?Array.isArray(n)?n.some(e=>e.toString().toLowerCase().includes(a)):n.toString().toLowerCase().includes(a):!1}))}enhanceResults(e,t,n,r){return e.map(e=>{let i={...e};return t&&t.trim()&&(i._searchHighlights=this.generateHighlights(e,t,n,r)),r===`internships`&&n===`student`&&(i._aiMatch=this.calculateSkillMatch(e)),i._relevanceScore=this.calculateRelevance(e,t,n,r),i}).sort((e,t)=>(t._relevanceScore||0)-(e._relevanceScore||0))}generateHighlights(e,t,n,r){let i={},a=xL[n]?.searchFields[r]||[],o=(t.toLowerCase());return a.forEach(n=>{let r=e[n];if(r&&r.toString().toLowerCase().includes(o))if(Array.isArray(r))i[n]=r.map(e=>{let n=e.toString(),r=n.toLowerCase().indexOf(o);return r===-1?{text:n,highlighted:!1}:{text:n,highlighted:!0,matchStart:r,matchEnd:r+t.length}});else{let e=r.toString(),a=e.toLowerCase().indexOf(o);i[n]={text:e,highlighted:!0,matchStart:a,matchEnd:a+t.length}}}),i}calculateSkillMatch(e){let t=e.requiredSkills||[],n=(this.getCurrentUserSkills());if(t.length===0)return null;let r=(t.filter(e=>n.some(t=>t.toLowerCase().includes(e.toLowerCase())||e.toLowerCase().includes(t.toLowerCase())))),i=(Math.round(r.length/t.length*100));return{percentage:i,matchingSkills:r,missingSkills:t.filter(e=>!r.includes(e)),recommendation:i>=80?`Excellent match!`:i>=60?`Good match`:`Consider improving skills`}}calculateRelevance(e,t,n,r){if(!t||!t.trim())return 0;let i=0,a=xL[n]?.searchFields[r]||[],o=(t.toLowerCase());return a.forEach((t,n)=>{let r=e[t];if(!r)return;let s=a.length-n;if(Array.isArray(r))r.forEach(e=>{let t=e.toString().toLowerCase();t===o?i+=s*10:t.includes(o)&&(i+=s*5)});else{let e=r.toString().toLowerCase();e===o?i+=s*10:e.includes(o)?i+=s*5:e.startsWith(o)&&(i+=s*7)}}),i}getCurrentUserSkills(){return[`JavaScript`,`React`,`Node.js`,`Python`,`SQL`]}async getDynamicFilterOptions(e,t){try{let n=`${e}_${t}`;if(this.cache.has(n))return this.cache.get(n);let r=(LO(jM,e)),i=await(Hk(r)),a=new Set;i.forEach(e=>{let n=e.data()[t];Array.isArray(n)?n.forEach(e=>a.add(e)):n&&a.add(n)});let o=(Array.from(a).sort());return this.cache.set(n,o),o}catch(e){return console.error(`Error getting dynamic filter options:`,e),[]}}generateFilterSuggestions(e,t,n){let r=[];if(n.length>50&&r.push({type:`reduce_results`,message:`Too many results! Try adding filters to narrow down.`,suggestedFilters:this.getSuggestedFiltersForRole(e)}),e===`student`){let e=(n.filter(e=>e._aiMatch?.percentage>=80));e.length>0&&r.push({type:`skill_match`,message:`${e.length} internships are excellent matches for your skills!`,action:`Filter by high skill match`})}return r}getSuggestedFiltersForRole(e){if(!xL[e])return[];switch(e){case`student`:return[`department`,`requiredSkills`,`stipend`];case`mentor`:return[`department`,`year`,`profileCompletion`];case`placement`:return[`department`,`status`,`year`];case`admin`:return[`role`,`department`,`status`];default:return[]}}cleanup(e){this.listeners.has(e)&&(this.listeners.get(e)(),this.listeners.delete(e))}cleanupAll(){this.listeners.forEach(e=>e()),this.listeners.clear(),this.cache.clear()}};var SL=Ip`
  0% {
    box-shadow: 0 0 5px rgba(211, 47, 47, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(211, 47, 47, 0.6);
  }
  100% {
    box-shadow: 0 0 5px rgba(211, 47, 47, 0.3);
  }
`,CL=L(N.div)`
  position: relative;
  width: 100%;
  max-width: ${({maxWidth:e})=>e||`600px`};
  margin: 0 auto;
`,wL=L.div`
  position: relative;
  display: flex;
  align-items: center;
  background: ${({theme:e})=>e.colors.background};
  border: 2px solid ${({theme:e,$focused:t})=>t?e.colors.primary:e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  transition: all ${({theme:e})=>e.transitions.fast};
  overflow: hidden;

  ${({$focused:e})=>e&&`
    animation: ${SL} 2s infinite;
  `}

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: ${({theme:e})=>e.shadows.md};
  }
`,TL=L(N.div)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  color: ${({theme:e,$focused:t})=>t?e.colors.primary:e.colors.textSecondary};
  font-size: 1.2rem;
  transition: color ${({theme:e})=>e.transitions.fast};
  cursor: pointer;

  &:hover {
    color: ${({theme:e})=>e.colors.primary};
  }
`,EL=L.input`
  flex: 1;
  padding: ${({theme:e})=>e.spacing.md} 0;
  border: none;
  outline: none;
  background: transparent;
  font-size: ${({theme:e})=>e.typography.fontSize.base};
  color: ${({theme:e})=>e.colors.text};
  font-family: ${({theme:e})=>e.typography.fontFamily.primary};

  &::placeholder {
    color: ${({theme:e})=>e.colors.textSecondary};
    transition: color ${({theme:e})=>e.transitions.fast};
  }

  &:focus::placeholder {
    color: ${({theme:e})=>e.colors.textTertiary};
  }
`,DL=L(N.button)`
  padding: ${({theme:e})=>e.spacing.sm};
  margin-right: ${({theme:e})=>e.spacing.sm};
  background: ${({theme:e})=>e.colors.surface};
  border: none;
  border-radius: 50%;
  color: ${({theme:e})=>e.colors.textSecondary};
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    background: ${({theme:e})=>e.colors.hover};
    color: ${({theme:e})=>e.colors.text};
    transform: scale(1.1);
  }
`,OL=L(N.div)`
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  box-shadow: ${({theme:e})=>e.shadows.xl};
  z-index: 1000;
  max-height: 300px;
  overflow-y: auto;
  margin-top: ${({theme:e})=>e.spacing.xs};
`,kL=L(N.div)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.md};
  border-bottom: 1px solid ${({theme:e})=>e.colors.divider};

  &:last-child {
    border-bottom: none;
  }

  &:hover {
    background: ${({theme:e})=>e.colors.hover};
  }

  .suggestion-icon {
    color: ${({theme:e})=>e.colors.primary};
    font-size: 1rem;
  }

  .suggestion-text {
    flex: 1;
    font-size: ${({theme:e})=>e.typography.fontSize.sm};
    color: ${({theme:e})=>e.colors.text};
  }

  .suggestion-category {
    font-size: ${({theme:e})=>e.typography.fontSize.xs};
    color: ${({theme:e})=>e.colors.textSecondary};
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
`,AL=L(N.div)`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.md};
  margin-top: ${({theme:e})=>e.spacing.md};
  font-size: ${({theme:e})=>e.typography.fontSize.sm};
  color: ${({theme:e})=>e.colors.textSecondary};

  .results-count {
    color: ${({theme:e})=>e.colors.primary};
    font-weight: ${({theme:e})=>e.typography.fontWeight.semibold};
  }

  .search-time {
    color: ${({theme:e})=>e.colors.textTertiary};
  }
`,jL=L(N.div)`
  margin-top: ${({theme:e})=>e.spacing.md};
  padding: ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.surface};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  border-left: 4px solid ${({theme:e})=>e.colors.primary};
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.md};

  .ai-icon {
    font-size: 1.2rem;
  }

  .ai-text {
    flex: 1;
    font-size: ${({theme:e})=>e.typography.fontSize.sm};
    color: ${({theme:e})=>e.colors.text};
  }
`,ML=({value:e=``,onChange:t,onSearch:n,onClear:r,placeholder:i,showSuggestions:a=!0,showStats:o=!0,showAIInsights:s=!0,resultsCount:c=0,searchTime:l=0,aiInsights:u=[],className:d,maxWidth:f,...p})=>{let[m,h]=(0,b.useState)(!1),[g,_]=(0,b.useState)([]),[v,y]=(0,b.useState)(!1),x=(0,b.useRef)(null),{userProfile:S}=$M(),C=S?.role||`student`,ee=xL[C]||xL.student,w=i||ee.placeholder;(0,b.useEffect)(()=>{if(e&&e.length>1){let t=te(e,C);_(t),y(!0)}else _([]),y(!1)},[e,C]);let te=(e,t)=>(xL[t],({student:[{text:`Frontend Developer`,category:`Role`,icon:`💻`},{text:`Backend Developer`,category:`Role`,icon:`⚙️`},{text:`Data Science`,category:`Role`,icon:`📊`},{text:`Machine Learning`,category:`Skill`,icon:`🤖`},{text:`React.js`,category:`Skill`,icon:`⚛️`},{text:`Python`,category:`Skill`,icon:`🐍`},{text:`Google`,category:`Company`,icon:`🏢`},{text:`Microsoft`,category:`Company`,icon:`🏢`}],mentor:[{text:`Computer Science`,category:`Department`,icon:`🖥️`},{text:`Electronics`,category:`Department`,icon:`🔌`},{text:`4th Year`,category:`Year`,icon:`🎓`},{text:`JavaScript`,category:`Skill`,icon:`💻`},{text:`Profile Incomplete`,category:`Status`,icon:`⚠️`}],placement:[{text:`Pending Applications`,category:`Status`,icon:`⏳`},{text:`High Demand Skills`,category:`Analysis`,icon:`📈`},{text:`Low Seat Availability`,category:`Alert`,icon:`🚨`}],admin:[{text:`New Registrations`,category:`Users`,icon:`👥`},{text:`System Alerts`,category:`Monitoring`,icon:`🔔`},{text:`Performance Issues`,category:`System`,icon:`⚡`}]}[t]||[]).filter(t=>t.text.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase())).slice(0,6)),ne=e=>{let n=e.target.value;t&&t(n)},re=()=>{h(!0)},ie=()=>{setTimeout(()=>{h(!1),y(!1)},200)},ae=t=>{t.key===`Enter`?(n&&n(e),y(!1)):t.key===`Escape`&&(y(!1),x.current?.blur())},oe=e=>{t&&t(e.text),n&&n(e.text),y(!1)},se=()=>{t&&t(``),r&&r(),y(!1),x.current?.focus()},ce={idle:{scale:1,rotate:0},searching:{scale:1.1,rotate:360}},le={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0},exit:{opacity:0,y:-10}};return(0,R.jsxs)(CL,{className:d,maxWidth:f,variants:{hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,staggerChildren:.05}}},initial:`hidden`,animate:`visible`,...p,children:[(0,R.jsxs)(wL,{$focused:m,children:[(0,R.jsx)(TL,{$focused:m,variants:ce,animate:e?`searching`:`idle`,transition:{duration:.3},children:`🔍`}),(0,R.jsx)(EL,{ref:x,type:`text`,value:e,onChange:ne,onFocus:re,onBlur:ie,onKeyPress:ae,placeholder:w}),(0,R.jsx)(Iu,{children:e&&(0,R.jsx)(DL,{onClick:se,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},whileHover:{scale:1.1},whileTap:{scale:.9},children:`×`})})]}),(0,R.jsx)(Iu,{children:a&&v&&g.length>0&&(0,R.jsx)(OL,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:g.map((e,t)=>(0,R.jsxs)(kL,{onClick:()=>oe(e),variants:le,initial:`hidden`,animate:`visible`,exit:`exit`,transition:{delay:t*.05},whileHover:{x:4,backgroundColor:`rgba(211, 47, 47, 0.05)`},children:[(0,R.jsx)(`span`,{className:`suggestion-icon`,children:e.icon}),(0,R.jsx)(`span`,{className:`suggestion-text`,children:e.text}),(0,R.jsx)(`span`,{className:`suggestion-category`,children:e.category})]},`${e.text}-${t}`))})}),o&&(e||c>0)&&(0,R.jsxs)(AL,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,R.jsxs)(`span`,{className:`results-count`,children:[c.toLocaleString(),` results`]}),l>0&&(0,R.jsxs)(`span`,{className:`search-time`,children:[`in `,l,`ms`]})]}),(0,R.jsx)(Iu,{children:s&&u.length>0&&(0,R.jsxs)(jL,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{delay:.3},children:[(0,R.jsx)(`span`,{className:`ai-icon`,children:`🤖`}),(0,R.jsx)(`span`,{className:`ai-text`,children:u[0]})]})})]})};L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  border: 1px solid ${({theme:e})=>e.colors.border};
  padding: ${({theme:e})=>e.spacing.xl};
  box-shadow: ${({theme:e})=>e.shadows.sm};
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    box-shadow: ${({theme:e})=>e.shadows.lg};
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,L.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,L.div`
  flex: 1;
`,L.h3`
  font-size: 1.4rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin: 0 0 ${({theme:e})=>e.spacing.xs} 0;
`,L.h4`
  font-size: 1.1rem;
  font-weight: 600;
  color: ${({theme:e})=>e.colors.primary};
  margin: 0 0 ${({theme:e})=>e.spacing.sm} 0;
`,L.div`
  background: ${({theme:e})=>e.colors.gradient};
  color: white;
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-weight: 600;
  font-size: 0.9rem;
  white-space: nowrap;
`,L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  line-height: 1.6;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
`,L.div`
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,L.h5`
  font-size: 0.9rem;
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,L.div`
  display: flex;
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.spacing.xs};
`,L.span`
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  background: ${({theme:e})=>e.colors.surface};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 0.8rem;
  color: ${({theme:e})=>e.colors.text};
`,L.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: ${({theme:e})=>e.spacing.lg};
  border-top: 1px solid ${({theme:e})=>e.colors.border};
`,L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: ${({theme:e})=>e.spacing.md};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,L.div`
  text-align: center;
  
  .label {
    font-size: 0.8rem;
    color: ${({theme:e})=>e.colors.textSecondary};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }
  
  .value {
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    font-size: 0.9rem;
  }
`,L.div`
  position: absolute;
  top: -10px;
  right: -10px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 0.7rem;
  font-weight: 600;
  transform: rotate(15deg);
`,L.div`
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,L.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: ${({theme:e})=>e.spacing.md};
  margin-top: ${({theme:e})=>e.spacing.sm};
`,L.div`
  .label {
    font-size: 0.8rem;
    color: ${({theme:e})=>e.colors.textSecondary};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }
  
  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: ${({theme:e})=>e.spacing.xs};
  }
`;var NL=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xl} 0;
  background: ${({theme:e})=>e.colors.surface};
`,PL=L.div`
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.md};
`,FL=L.div`
  text-align: center;
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
`,IL=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.md};
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({theme:e})=>e.spacing.md};
`,LL=L.p`
  font-size: 1.2rem;
  color: ${({theme:e})=>e.colors.textSecondary};
  max-width: 600px;
  margin: 0 auto;
`,RL=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  flex-wrap: wrap;
  align-items: center;
`,zL=L.div`
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.xs};
`,BL=L.label`
  font-size: 0.9rem;
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
`,VL=L.select`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 0.9rem;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,HL=L.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  padding-bottom: ${({theme:e})=>e.spacing.md};
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
`,UL=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,WL=L.select`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-size: 0.9rem;
  cursor: pointer;
`,GL=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: ${({theme:e})=>e.spacing.xl};
  margin-bottom: ${({theme:e})=>e.spacing.xxl};

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,KL=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  padding: ${({theme:e})=>e.spacing.xl};
  box-shadow: ${({theme:e})=>e.shadows.md};
  border: 1px solid ${({theme:e})=>e.colors.border};
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    transform: translateY(-5px);
    box-shadow: ${({theme:e})=>e.shadows.lg};
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,qL=L.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,JL=L.h3`
  font-size: 1.3rem;
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.xs};
`,YL=L.p`
  color: ${({theme:e})=>e.colors.primary};
  font-weight: 500;
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,XL=L.span`
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  background: ${({theme:e,type:t})=>{switch(t){case`Full-time`:return`#4caf50`;case`Part-time`:return`#ff9800`;case`Internship`:return`#2196f3`;case`Contract`:return`#9c27b0`;default:return e.colors.primary}}};
  color: white;
  border-radius: ${({theme:e})=>e.borderRadius.sm};
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
`,ZL=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: ${({theme:e})=>e.spacing.md};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,QL=L.div`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};
  font-size: 0.9rem;
  color: ${({theme:e})=>e.colors.textSecondary};

  .icon {
    font-size: 1rem;
  }
`,$L=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
  line-height: 1.6;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
`,eR=L.div`
  display: flex;
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.spacing.xs};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,tR=L.span`
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  background: ${({theme:e})=>e.colors.surface};
  color: ${({theme:e})=>e.colors.text};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.sm};
  font-size: 0.8rem;
  font-weight: 500;
`,nR=L(N.button)`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.gradient};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-weight: 600;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    transform: translateY(-2px);
    box-shadow: ${({theme:e})=>e.shadows.md};
  }
`,rR=L.div`
  text-align: center;
  padding: ${({theme:e})=>e.spacing.xxl};
  color: ${({theme:e})=>e.colors.textSecondary};

  .icon {
    font-size: 4rem;
    margin-bottom: ${({theme:e})=>e.spacing.lg};
  }

  .message {
    font-size: 1.2rem;
    margin-bottom: ${({theme:e})=>e.spacing.md};
  }
`,iR=[{id:1,title:`Frontend Developer Intern`,company:`TechCorp Solutions`,type:`Internship`,location:`Bangalore, India`,salary:`₹15,000 - ₹25,000`,duration:`3-6 months`,posted:`2 days ago`,description:`Join our dynamic team as a Frontend Developer Intern. You'll work on exciting projects using React, JavaScript, and modern web technologies. Perfect opportunity to gain hands-on experience in a fast-paced startup environment.`,skills:[`React`,`JavaScript`,`HTML/CSS`,`Git`,`Responsive Design`],category:`Technology`,experience:`Fresher`},{id:2,title:`Data Science Intern`,company:`DataViz Analytics`,type:`Internship`,location:`Mumbai, India`,salary:`₹20,000 - ₹30,000`,duration:`4-6 months`,posted:`1 day ago`,description:`Exciting opportunity to work with big data and machine learning algorithms. You'll analyze large datasets, create visualizations, and build predictive models using Python and various ML libraries.`,skills:[`Python`,`Machine Learning`,`Pandas`,`NumPy`,`SQL`,`Tableau`],category:`Data Science`,experience:`Fresher`},{id:3,title:`Mobile App Developer`,company:`AppCraft Studios`,type:`Full-time`,location:`Hyderabad, India`,salary:`₹4,00,000 - ₹6,00,000`,duration:`Permanent`,posted:`3 days ago`,description:`Looking for a passionate Mobile App Developer to join our team. You'll be responsible for developing cross-platform mobile applications using React Native and Flutter.`,skills:[`React Native`,`Flutter`,`Dart`,`JavaScript`,`Mobile UI/UX`],category:`Technology`,experience:`1-2 years`},{id:4,title:`Digital Marketing Intern`,company:`Growth Marketing Co.`,type:`Internship`,location:`Delhi, India`,salary:`₹12,000 - ₹18,000`,duration:`3 months`,posted:`1 week ago`,description:`Learn digital marketing strategies including SEO, social media marketing, content creation, and analytics. Great opportunity to understand the digital marketing landscape.`,skills:[`SEO`,`Social Media`,`Content Writing`,`Google Analytics`,`PPC`],category:`Marketing`,experience:`Fresher`},{id:5,title:`Backend Developer`,company:`CloudTech Systems`,type:`Full-time`,location:`Pune, India`,salary:`₹5,00,000 - ₹8,00,000`,duration:`Permanent`,posted:`5 days ago`,description:`Join our backend team to build scalable APIs and microservices. You'll work with Node.js, databases, and cloud technologies to create robust backend systems.`,skills:[`Node.js`,`Express`,`MongoDB`,`AWS`,`Docker`,`REST APIs`],category:`Technology`,experience:`2-3 years`},{id:6,title:`UI/UX Design Intern`,company:`Design Studio Pro`,type:`Internship`,location:`Chennai, India`,salary:`₹10,000 - ₹15,000`,duration:`2-4 months`,posted:`4 days ago`,description:`Creative opportunity to work on user interface and user experience design projects. You'll create wireframes, prototypes, and design systems for web and mobile applications.`,skills:[`Figma`,`Adobe XD`,`Sketch`,`Prototyping`,`User Research`],category:`Design`,experience:`Fresher`}],aR=()=>{let{currentUser:e}=$M(),[t,n]=(0,b.useState)(iR),[r,i]=(0,b.useState)(iR),[a,o]=(0,b.useState)(``),[s,c]=(0,b.useState)({type:`all`,category:`all`,location:`all`,experience:`all`}),[l,u]=(0,b.useState)(`newest`);(0,b.useEffect)(()=>{d()},[a,s,l]);let d=()=>{let e=t.filter(e=>{let t=e.title.toLowerCase().includes(a.toLowerCase())||e.company.toLowerCase().includes(a.toLowerCase())||e.skills.some(e=>e.toLowerCase().includes(a.toLowerCase())),n=s.type===`all`||e.type===s.type,r=s.category===`all`||e.category===s.category,i=s.location===`all`||e.location.includes(s.location),o=s.experience===`all`||e.experience===s.experience;return t&&n&&r&&i&&o});e.sort((e,t)=>{switch(l){case`newest`:return new Date(t.posted)-new Date(e.posted);case`salary`:return parseInt(t.salary.replace(/[^\d]/g,``))-parseInt(e.salary.replace(/[^\d]/g,``));case`company`:return e.company.localeCompare(t.company);default:return 0}}),i(e)},f=(e,t)=>{c({...s,[e]:t})},p=e=>{alert(`Applied to job ${e}! You will be redirected to the application form.`)};return(0,R.jsx)(NL,{children:(0,R.jsxs)(PL,{children:[(0,R.jsxs)(FL,{children:[(0,R.jsx)(IL,{children:`💼 Browse Jobs & Internships`}),(0,R.jsx)(LL,{children:`Discover amazing opportunities that match your skills and interests. Start your career journey today!`})]}),(0,R.jsx)(`div`,{style:{marginBottom:`2rem`},children:(0,R.jsx)(ML,{placeholder:`Search jobs, companies, or skills...`,value:a,onChange:e=>o(e.target.value)})}),(0,R.jsxs)(RL,{children:[(0,R.jsxs)(zL,{children:[(0,R.jsx)(BL,{children:`Job Type`}),(0,R.jsxs)(VL,{value:s.type,onChange:e=>f(`type`,e.target.value),children:[(0,R.jsx)(`option`,{value:`all`,children:`All Types`}),(0,R.jsx)(`option`,{value:`Internship`,children:`Internship`}),(0,R.jsx)(`option`,{value:`Full-time`,children:`Full-time`}),(0,R.jsx)(`option`,{value:`Part-time`,children:`Part-time`}),(0,R.jsx)(`option`,{value:`Contract`,children:`Contract`})]})]}),(0,R.jsxs)(zL,{children:[(0,R.jsx)(BL,{children:`Category`}),(0,R.jsxs)(VL,{value:s.category,onChange:e=>f(`category`,e.target.value),children:[(0,R.jsx)(`option`,{value:`all`,children:`All Categories`}),(0,R.jsx)(`option`,{value:`Technology`,children:`Technology`}),(0,R.jsx)(`option`,{value:`Data Science`,children:`Data Science`}),(0,R.jsx)(`option`,{value:`Marketing`,children:`Marketing`}),(0,R.jsx)(`option`,{value:`Design`,children:`Design`})]})]}),(0,R.jsxs)(zL,{children:[(0,R.jsx)(BL,{children:`Location`}),(0,R.jsxs)(VL,{value:s.location,onChange:e=>f(`location`,e.target.value),children:[(0,R.jsx)(`option`,{value:`all`,children:`All Locations`}),(0,R.jsx)(`option`,{value:`Bangalore`,children:`Bangalore`}),(0,R.jsx)(`option`,{value:`Mumbai`,children:`Mumbai`}),(0,R.jsx)(`option`,{value:`Delhi`,children:`Delhi`}),(0,R.jsx)(`option`,{value:`Hyderabad`,children:`Hyderabad`}),(0,R.jsx)(`option`,{value:`Pune`,children:`Pune`}),(0,R.jsx)(`option`,{value:`Chennai`,children:`Chennai`})]})]}),(0,R.jsxs)(zL,{children:[(0,R.jsx)(BL,{children:`Experience`}),(0,R.jsxs)(VL,{value:s.experience,onChange:e=>f(`experience`,e.target.value),children:[(0,R.jsx)(`option`,{value:`all`,children:`All Levels`}),(0,R.jsx)(`option`,{value:`Fresher`,children:`Fresher`}),(0,R.jsx)(`option`,{value:`1-2 years`,children:`1-2 years`}),(0,R.jsx)(`option`,{value:`2-3 years`,children:`2-3 years`})]})]})]}),(0,R.jsxs)(HL,{children:[(0,R.jsxs)(UL,{children:[`Showing `,r.length,` of `,t.length,` jobs`]}),(0,R.jsxs)(WL,{value:l,onChange:e=>u(e.target.value),children:[(0,R.jsx)(`option`,{value:`newest`,children:`Newest First`}),(0,R.jsx)(`option`,{value:`salary`,children:`Highest Salary`}),(0,R.jsx)(`option`,{value:`company`,children:`Company A-Z`})]})]}),r.length===0?(0,R.jsxs)(rR,{children:[(0,R.jsx)(`div`,{className:`icon`,children:`🔍`}),(0,R.jsx)(`div`,{className:`message`,children:`No jobs found matching your criteria`}),(0,R.jsx)(`p`,{children:`Try adjusting your filters or search terms`})]}):(0,R.jsx)(GL,{children:(0,R.jsx)(Iu,{children:r.map((e,t)=>(0,R.jsxs)(KL,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.4,delay:t*.1},whileHover:{scale:1.02},children:[(0,R.jsxs)(qL,{children:[(0,R.jsxs)(`div`,{children:[(0,R.jsx)(JL,{children:e.title}),(0,R.jsx)(YL,{children:e.company})]}),(0,R.jsx)(XL,{type:e.type,children:e.type})]}),(0,R.jsxs)(ZL,{children:[(0,R.jsxs)(QL,{children:[(0,R.jsx)(`span`,{className:`icon`,children:`📍`}),e.location]}),(0,R.jsxs)(QL,{children:[(0,R.jsx)(`span`,{className:`icon`,children:`💰`}),e.salary]}),(0,R.jsxs)(QL,{children:[(0,R.jsx)(`span`,{className:`icon`,children:`⏰`}),e.duration]}),(0,R.jsxs)(QL,{children:[(0,R.jsx)(`span`,{className:`icon`,children:`📅`}),e.posted]})]}),(0,R.jsx)($L,{children:e.description}),(0,R.jsx)(eR,{children:e.skills.map((e,t)=>(0,R.jsx)(tR,{children:e},t))}),(0,R.jsx)(nR,{onClick:()=>p(e.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:`Apply Now 🚀`})]},e.id))})})]})})},oR={programming:[`JavaScript`,`Python`,`Java`,`C++`,`C#`,`TypeScript`,`Go`,`Rust`,`PHP`,`Ruby`,`Swift`,`Kotlin`,`Dart`,`Scala`,`R`,`MATLAB`,`C`,`Objective-C`,`Perl`,`Shell`,`Bash`,`PowerShell`],web:[`React`,`Angular`,`Vue.js`,`Node.js`,`Express.js`,`Next.js`,`Nuxt.js`,`HTML`,`CSS`,`SCSS`,`SASS`,`Bootstrap`,`Tailwind CSS`,`Material-UI`,`jQuery`,`D3.js`,`Three.js`,`WebGL`,`GraphQL`,`REST API`,`Webpack`,`Vite`,`Parcel`,`Gulp`,`Grunt`],databases:[`MySQL`,`PostgreSQL`,`MongoDB`,`Redis`,`SQLite`,`Oracle`,`SQL Server`,`Cassandra`,`DynamoDB`,`Firebase`,`Firestore`,`Elasticsearch`,`Neo4j`,`InfluxDB`],cloud:[`AWS`,`Azure`,`Google Cloud`,`Docker`,`Kubernetes`,`Jenkins`,`Git`,`GitHub`,`GitLab`,`Bitbucket`,`CI/CD`,`Terraform`,`Ansible`,`Chef`,`Puppet`,`Nginx`,`Apache`,`Linux`,`Ubuntu`],mobile:[`React Native`,`Flutter`,`iOS`,`Android`,`Xamarin`,`Ionic`,`Cordova`,`PhoneGap`,`Swift UI`,`Jetpack Compose`],datascience:[`Machine Learning`,`Deep Learning`,`TensorFlow`,`PyTorch`,`Keras`,`Scikit-learn`,`Pandas`,`NumPy`,`Matplotlib`,`Seaborn`,`Plotly`,`Jupyter`,`Apache Spark`,`Hadoop`,`Tableau`,`Power BI`,`Natural Language Processing`,`Computer Vision`,`OpenCV`],soft:[`Leadership`,`Communication`,`Teamwork`,`Problem Solving`,`Critical Thinking`,`Time Management`,`Project Management`,`Agile`,`Scrum`,`Public Speaking`,`Presentation Skills`,`Analytical Skills`,`Creative Thinking`,`Adaptability`],tools:[`VS Code`,`IntelliJ`,`Eclipse`,`Xcode`,`Android Studio`,`Figma`,`Adobe XD`,`Sketch`,`Photoshop`,`Illustrator`,`Jira`,`Confluence`,`Slack`,`Trello`,`Notion`,`Postman`]},sR=Object.values(oR).flat(),cR={JavaScript:[`JS`,`Javascript`,`ECMAScript`],TypeScript:[`TS`,`Typescript`],React:[`ReactJS`,`React.js`],"Vue.js":[`Vue`,`VueJS`],"Node.js":[`Node`,`NodeJS`],"Express.js":[`Express`,`ExpressJS`],MongoDB:[`Mongo`],PostgreSQL:[`Postgres`,`PostgreSQL`],"Machine Learning":[`ML`,`MachineLearning`],"Deep Learning":[`DL`,`DeepLearning`],"Natural Language Processing":[`NLP`],"Computer Vision":[`CV`],"Artificial Intelligence":[`AI`],"User Interface":[`UI`],"User Experience":[`UX`],"Application Programming Interface":[`API`],"Structured Query Language":[`SQL`],"Cascading Style Sheets":[`CSS`],"HyperText Markup Language":[`HTML`]},lR=new class{constructor(){this.skillsCache=new Map,this.extractionConfidence=new Map}async extractTextFromPDF(e){try{return new Promise(t=>{let n=new FileReader;n.onload=e=>{t(`
            John Doe
            Software Developer
            john.doe@email.com | +1-234-567-8900
            
            EXPERIENCE
            Software Engineer at TechCorp (2022-2023)
            - Developed web applications using React, Node.js, and MongoDB
            - Implemented REST APIs with Express.js and integrated with PostgreSQL
            - Used Docker for containerization and AWS for deployment
            - Collaborated with team using Git, Jira, and Agile methodologies
            
            EDUCATION
            Bachelor of Technology in Computer Science
            XYZ University (2018-2022)
            
            PROJECTS
            E-commerce Platform
            - Built using React, Redux, Node.js, Express.js, and MongoDB
            - Implemented payment integration with Stripe API
            - Used JWT for authentication and bcrypt for password hashing
            
            SKILLS
            Programming: JavaScript, Python, Java, C++
            Web: React, Angular, Node.js, Express.js, HTML, CSS
            Databases: MongoDB, PostgreSQL, MySQL
            Tools: Git, Docker, AWS, Jira, VS Code
          `)},n.readAsText(e)})}catch(e){throw console.error(`Error extracting text from PDF:`,e),Error(`Failed to extract text from PDF`)}}extractSkills(e){if(!e)return{skills:[],confidence:0};let t=new Set,n=new Map,r=(e.toLowerCase());this.extractByDirectMatch(r,t,n),this.extractBySynonyms(r,t,n),this.extractByContext(r,t,n),this.extractByPatterns(r,t,n);let i=(Array.from(t).map(e=>({name:e,confidence:n.get(e)||.5,category:this.getSkillCategory(e),suggested:!0})).sort((e,t)=>t.confidence-e.confidence));return{skills:i,confidence:this.calculateOverallConfidence(i),totalFound:i.length}}extractByDirectMatch(e,t,n){sR.forEach(r=>{let i=r.toLowerCase();e.includes(i)&&(t.add(r),n.set(r,.9))})}extractBySynonyms(e,t,n){Object.entries(cR).forEach(([r,i])=>{i.forEach(i=>{e.includes(i.toLowerCase())&&(t.add(r),n.set(r,Math.max(n.get(r)||0,.8)))})})}extractByContext(e,t,n){[`experience with`,`proficient in`,`skilled in`,`expertise in`,`knowledge of`,`familiar with`,`worked with`,`used`,`implemented`,`developed using`,`built with`,`technologies:`,`skills:`,`tools:`].forEach(r=>{let i=RegExp(`${r}\\s+([^.!?\\n]{1,100})`,`gi`),a=e.match(i);a&&a.forEach(e=>{sR.forEach(r=>{e.toLowerCase().includes(r.toLowerCase())&&(t.add(r),n.set(r,Math.max(n.get(r)||0,.7)))})})})}extractByPatterns(e,t,n){let r=(e.match(/[-•*]\s*([^.\n]+)/g));r&&r.forEach(e=>{sR.forEach(r=>{e.toLowerCase().includes(r.toLowerCase())&&(t.add(r),n.set(r,Math.max(n.get(r)||0,.6)))})});let i=(e.match(/skills?:?\s*([^.!?\n]{1,200})/gi));i&&i.forEach(e=>{sR.forEach(r=>{e.toLowerCase().includes(r.toLowerCase())&&(t.add(r),n.set(r,Math.max(n.get(r)||0,.8)))})})}getSkillCategory(e){for(let[t,n]of Object.entries(oR))if(n.includes(e))return t;return`other`}calculateOverallConfidence(e){if(e.length===0)return 0;let t=(e.reduce((e,t)=>e+t.confidence,0));return Math.round(t/e.length*100)/100}extractContactInfo(e){let t={},n=(e.match(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g));n&&(t.email=n[0]);let r=(e.match(/(\+?\d{1,3}[-.\s]?)?\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}/g));r&&(t.phone=r[0]);let i=(e.match(/linkedin\.com\/in\/[\w-]+/gi));i&&(t.linkedin=i[0]);let a=(e.match(/github\.com\/[\w-]+/gi));return a&&(t.github=a[0]),t}extractEducation(e){let t=[];return[/bachelor(?:'s)?(?:\s+of)?(?:\s+science)?(?:\s+in)?\s+([^.\n]+)/gi,/master(?:'s)?(?:\s+of)?(?:\s+science)?(?:\s+in)?\s+([^.\n]+)/gi,/b\.?tech\.?\s+(?:in)?\s*([^.\n]+)/gi,/m\.?tech\.?\s+(?:in)?\s*([^.\n]+)/gi,/b\.?s\.?\s+(?:in)?\s*([^.\n]+)/gi,/m\.?s\.?\s+(?:in)?\s*([^.\n]+)/gi].forEach(n=>{let r=e.match(n);r&&r.forEach(e=>{t.push({degree:e.trim(),type:`degree`})})}),t}extractExperience(e){let t=[];return[/(?:software\s+engineer|developer|programmer|analyst|intern)(?:\s+at)?\s+([^.\n]+)/gi,/(?:worked\s+at|employed\s+at|interned\s+at)\s+([^.\n]+)/gi].forEach(n=>{let r=e.match(n);r&&r.forEach(e=>{t.push({title:e.trim(),type:`work`})})}),t}async parseResume(e){try{let t=(this.extractSkills(e)),n=(this.extractContactInfo(e)),r=(this.extractEducation(e)),i=(this.extractExperience(e));return{skills:t.skills,skillsConfidence:t.confidence,contactInfo:n,education:r,experience:i,rawText:e,parsedAt:new Date,totalSkillsFound:t.totalFound}}catch(e){throw console.error(`Error parsing resume:`,e),Error(`Failed to parse resume`)}}generateSkillSuggestions(e,t={}){let n=[],r=((t.skills||[]).map(e=>e.name?.toLowerCase())),i={React:[`Redux`,`Next.js`,`TypeScript`,`Material-UI`],"Node.js":[`Express.js`,`MongoDB`,`Socket.io`,`JWT`],Python:[`Django`,`Flask`,`Pandas`,`NumPy`],Java:[`Spring`,`Hibernate`,`Maven`,`JUnit`],JavaScript:[`TypeScript`,`React`,`Node.js`,`Vue.js`]};return e.forEach(t=>{(i[t.name]||[]).forEach(i=>{!r.includes(i.toLowerCase())&&!e.find(e=>e.name===i)&&n.push({name:i,reason:`Complements ${t.name}`,confidence:.7,category:this.getSkillCategory(i),type:`complementary`})})}),n.slice(0,5)}async saveResumeData(e,t,n=null){try{let r=null;if(n){let t=(Xj(MM,`resumes/${e}/${Date.now()}_${n.name}`)),i=await(Jj(t,n));r=await Yj(i.ref)}let i=(RO(jM,`users`,e)),a=(RO(jM,`users`,e,`resume`,`data`));return await Uk(a,{...t,resumeURL:r,lastUpdated:Zk(),updatedAt:new Date},{merge:!0}),await Wk(i,{resumeURL:r,lastResumeUpdate:Zk()}),{success:!0,resumeURL:r,skillsExtracted:t.skills.length}}catch(e){throw console.error(`Error saving resume data:`,e),Error(`Failed to save resume data`)}}async getResumeData(e){try{let t=(RO(jM,`users`,e,`resume`,`data`)),n=await(Bk(t));return n.exists()?n.data():null}catch(e){throw console.error(`Error getting resume data:`,e),Error(`Failed to get resume data`)}}calculateResumeCompletion(e){let t={personalInfo:!!(e.name&&e.email),education:!!(e.education&&e.education.length>0),experience:!!(e.experience&&e.experience.length>0),skills:!!(e.skills&&e.skills.length>=3),projects:!!(e.projects&&e.projects.length>0),summary:!!e.summary},n=(Object.values(t).filter(Boolean)).length,r=(Object.keys(t)).length;return Math.round(n/r*100)}clearCache(){this.skillsCache.clear(),this.extractionConfidence.clear()}};const uR={BRONZE:{level:1,name:`Bronze`,color:`#CD7F32`,gradient:`linear-gradient(135deg, #CD7F32 0%, #B8860B 100%)`,requirements:{minProjects:1,minExperience:0,minCertifications:0},icon:`🥉`},SILVER:{level:2,name:`Silver`,color:`#C0C0C0`,gradient:`linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%)`,requirements:{minProjects:3,minExperience:6,minCertifications:1},icon:`🥈`},GOLD:{level:3,name:`Gold`,color:`#FFD700`,gradient:`linear-gradient(135deg, #FFD700 0%, #FFA500 100%)`,requirements:{minProjects:5,minExperience:12,minCertifications:2},icon:`🥇`},PLATINUM:{level:4,name:`Platinum`,color:`#E5E4E2`,gradient:`linear-gradient(135deg, #E5E4E2 0%, #D3D3D3 100%)`,requirements:{minProjects:8,minExperience:24,minCertifications:3},icon:`💎`}},dR={FIRST_APPLICATION:{id:`first_application`,name:`First Step`,description:`Applied to your first internship`,icon:`🚀`,color:`#4CAF50`,requirement:e=>e.applicationsCount>=1},PROFILE_COMPLETE:{id:`profile_complete`,name:`Profile Master`,description:`Completed 100% of your profile`,icon:`✅`,color:`#2196F3`,requirement:e=>e.profileCompletion>=100},SKILL_COLLECTOR:{id:`skill_collector`,name:`Skill Collector`,description:`Added 10 or more skills`,icon:`🎯`,color:`#FF9800`,requirement:e=>e.skillsCount>=10},CERTIFICATE_EARNED:{id:`certificate_earned`,name:`Certified`,description:`Earned your first certificate`,icon:`🏆`,color:`#FFD700`,requirement:e=>e.certificatesCount>=1},TOP_MATCH_APPLIED:{id:`top_match_applied`,name:`Perfect Match`,description:`Applied to an internship with 90%+ skill match`,icon:`🎪`,color:`#E91E63`,requirement:e=>e.topMatchApplication>=90},INTERVIEW_SCHEDULED:{id:`interview_scheduled`,name:`Interview Ready`,description:`Got your first interview scheduled`,icon:`📅`,color:`#9C27B0`,requirement:e=>e.interviewsScheduled>=1},SKILL_MASTER:{id:`skill_master`,name:`Skill Master`,description:`Achieved Gold level in 5 skills`,icon:`👑`,color:`#FFD700`,requirement:e=>e.goldSkillsCount>=5},EARLY_BIRD:{id:`early_bird`,name:`Early Bird`,description:`Applied within 24 hours of internship posting`,icon:`🌅`,color:`#FF5722`,requirement:e=>e.earlyApplications>=1}},fR={25:{percentage:25,title:`Getting Started`,message:`Great start! Keep building your profile.`,color:`#FF9800`,effect:`glow`},50:{percentage:50,title:`Halfway There`,message:`You unlocked Silver badge for completing 50% of your profile!`,color:`#2196F3`,effect:`confetti`},75:{percentage:75,title:`Almost Complete`,message:`You're doing amazing! Just a little more to go.`,color:`#4CAF50`,effect:`sparkles`},100:{percentage:100,title:`Profile Master`,message:`Congratulations! Your profile is now complete!`,color:`#FFD700`,effect:`fireworks`}};new class{constructor(){this.skillsCache=new Map,this.achievementsCache=new Map}calculateSkillLevel(e){let{projects:t=0,experience:n=0,certifications:r=0}=e,i=[uR.PLATINUM,uR.GOLD,uR.SILVER,uR.BRONZE];for(let e of i){let i=e.requirements;if(t>=i.minProjects&&n>=i.minExperience&&r>=i.minCertifications)return e}return uR.BRONZE}calculateProfileCompletion(e){let t={basicInfo:{weight:20,completed:!!(e.name&&e.email&&e.department&&e.year)},skills:{weight:25,completed:e.skills&&e.skills.length>=5},projects:{weight:20,completed:e.projects&&e.projects.length>=2},resume:{weight:15,completed:!!e.resumeUrl},certificates:{weight:10,completed:e.certificates&&e.certificates.length>=1},applications:{weight:10,completed:e.applicationsCount>=1}},n=0,r=0;return Object.values(t).forEach(e=>{n+=e.weight,e.completed&&(r+=e.weight)}),Math.round(r/n*100)}getNextMilestone(e){return Object.keys(fR).map(Number).sort((e,t)=>e-t).find(t=>t>e)||100}checkMilestoneReached(e,t){return Object.keys(fR).map(Number).find(n=>e<n&&t>=n)}async updateUserSkill(e,t,n){try{let r=(RO(jM,`users`,e,`skills`,t)),i=(this.calculateSkillLevel(n)),a=await(Bk(r)),o=a.exists()?a.data().level:uR.BRONZE.level,s={...n,skillName:t,level:i.level,levelName:i.name,levelColor:i.color,levelGradient:i.gradient,levelIcon:i.icon,lastUpdated:Zk(),updatedAt:new Date};await Uk(r,s,{merge:!0});let c=i.level>o;return c&&await this.checkAndUnlockAchievements(e),{skill:s,levelUpgraded:c,newLevel:i,oldLevel:o}}catch(e){throw console.error(`Error updating user skill:`,e),e}}async getUserSkills(e){try{if(this.skillsCache.has(e))return this.skillsCache.get(e);let t=(LO(jM,`users`,e,`skills`)),n=await(Hk(t)),r=[];return n.forEach(e=>{r.push({id:e.id,...e.data()})}),r.sort((e,t)=>e.level===t.level?e.skillName.localeCompare(t.skillName):t.level-e.level),this.skillsCache.set(e,r),r}catch(e){return console.error(`Error getting user skills:`,e),[]}}async checkAndUnlockAchievements(e){try{let t=await(Bk(RO(jM,`users`,e)));if(!t.exists())return[];let n=(t.data()),r=await(this.getUserSkills(e)),i={...n,skillsCount:r.length,goldSkillsCount:r.filter(e=>e.level>=uR.GOLD.level).length,profileCompletion:this.calculateProfileCompletion(n)},a=(LO(jM,`users`,e,`achievements`)),o=await(Hk(a)),s=new Set;o.forEach(e=>{s.add(e.id)});let c=[],l=(Qk(jM));return Object.values(dR).forEach(t=>{if(!s.has(t.id)&&t.requirement(i)){let n={...t,dateUnlocked:Zk(),unlockedAt:new Date},r=RO(jM,`users`,e,`achievements`,t.id);l.set(r,n),c.push(n)}}),c.length>0&&await l.commit(),c}catch(e){return console.error(`Error checking achievements:`,e),[]}}async getUserAchievements(e){try{if(this.achievementsCache.has(e))return this.achievementsCache.get(e);let t=(LO(jM,`users`,e,`achievements`)),n=(wk(t,kk(`dateUnlocked`,`desc`))),r=await(Hk(n)),i=[];return r.forEach(e=>{i.push({id:e.id,...e.data()})}),this.achievementsCache.set(e,i),i}catch(e){return console.error(`Error getting user achievements:`,e),[]}}generateSkillSuggestions(e,t=[]){let n=[],r=(e.map(e=>e.skillName.toLowerCase()));[`JavaScript`,`Python`,`React`,`Node.js`,`SQL`,`MongoDB`,`AWS`,`Docker`,`Git`,`TypeScript`,`Vue.js`,`Angular`,`Express.js`,`PostgreSQL`,`Redis`,`Kubernetes`].forEach(e=>{r.includes(e.toLowerCase())||n.push({skillName:e,reason:`High demand skill`,impact:`Could increase internship matches by ${Math.floor(Math.random()*20)+10}%`,priority:`high`,category:`missing`})}),e.forEach(e=>{if(e.level<uR.GOLD.level){let t=Object.values(uR).find(t=>t.level>e.level);t&&n.push({skillName:e.skillName,reason:`Upgrade to ${t.name} level`,impact:`Improve skill credibility and match quality`,priority:e.level===uR.BRONZE.level?`medium`:`low`,category:`upgrade`,currentLevel:e.level,targetLevel:t.level})}}),t.forEach(e=>{r.includes(e.toLowerCase())||n.push({skillName:e,reason:`Required for target internships`,impact:`Essential for specific internship applications`,priority:`high`,category:`required`})});let i={high:3,medium:2,low:1};return n.sort((e,t)=>i[t.priority]-i[e.priority]).slice(0,6)}calculateSkillMatch(e,t){if(!t||t.length===0)return 0;let n=(e.map(e=>e.skillName.toLowerCase())),r=(t.filter(e=>n.includes(e.toLowerCase()))),i=r.length/t.length*100,a=(r.reduce((t,n)=>{let r=e.find(e=>e.skillName.toLowerCase()===n.toLowerCase());return r?t+(r.level-1)*2:t},0));return Math.min(100,Math.round(i+a))}clearCache(){this.skillsCache.clear(),this.achievementsCache.clear()}getSkillStatistics(e){let t={total:e.length,bronze:0,silver:0,gold:0,platinum:0,averageLevel:0};return e.forEach(e=>{switch(e.level){case uR.BRONZE.level:t.bronze++;break;case uR.SILVER.level:t.silver++;break;case uR.GOLD.level:t.gold++;break;case uR.PLATINUM.level:t.platinum++;break}}),t.total>0&&(t.averageLevel=(e.reduce((e,t)=>e+t.level,0)/t.total).toFixed(1)),t}};var pR=Ip`
  0%, 100% {
    box-shadow: 0 0 5px rgba(211, 47, 47, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(211, 47, 47, 0.6);
  }
`;Ip`
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
`,Ip`
  0%, 100% {
    opacity: 0;
    transform: scale(0);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
`;var mR=L(N.div)`
  position: relative;
  display: inline-block;
  margin: ${({theme:e})=>e.spacing.xs};
  cursor: pointer;
`,hR=L(N.div)`
  position: relative;
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  background: ${({level:e,suggested:t})=>{if(t)return`transparent`;let n=Object.values(uR).find(t=>t.level===e);return n?n.gradient:uR.BRONZE.gradient}};
  border: 2px solid ${({level:e,suggested:t,theme:n})=>{if(t)return n.colors.primary;let r=Object.values(uR).find(t=>t.level===e);return r?r.color:uR.BRONZE.color}};
  border-radius: ${({theme:e})=>e.borderRadius.full};
  color: ${({suggested:e,theme:t})=>e?t.colors.text:`white`};
  font-size: ${({theme:e})=>e.typography.fontSize.sm};
  font-weight: ${({theme:e})=>e.typography.fontWeight.semibold};
  text-shadow: ${({suggested:e})=>e?`none`:`0 1px 2px rgba(0,0,0,0.3)`};
  overflow: hidden;
  min-width: 80px;
  justify-content: center;

  ${({suggested:e})=>e&&`
    background: transparent;
    border-style: dashed;
    animation: ${pR} 2s infinite;
  `}

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.3),
      transparent
    );
    transition: left 0.5s;
  }

  &:hover::before {
    left: 100%;
  }
`,gR=L(N.span)`
  font-size: 1.2rem;
  display: flex;
  align-items: center;
  justify-content: center;
`,_R=L(N.span)`
  font-size: ${({theme:e})=>e.typography.fontSize.xs};
  font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
  text-transform: uppercase;
  letter-spacing: 0.5px;
`,vR=L(N.div)`
  position: absolute;
  top: -10px;
  right: -10px;
  width: 30px;
  height: 30px;
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1rem;
  color: white;
  font-weight: bold;
  z-index: 10;
`,yR=L(N.div)`
  position: absolute;
  bottom: 120%;
  left: 50%;
  transform: translateX(-50%);
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.md};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  z-index: 1000;
  min-width: 200px;
  pointer-events: none;

  &::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 8px solid transparent;
    border-top-color: ${({theme:e})=>e.colors.border};
  }

  .tooltip-title {
    font-size: ${({theme:e})=>e.typography.fontSize.sm};
    font-weight: ${({theme:e})=>e.typography.fontWeight.semibold};
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .tooltip-level {
    font-size: ${({theme:e})=>e.typography.fontSize.xs};
    color: ${({theme:e})=>e.colors.textSecondary};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .tooltip-date {
    font-size: ${({theme:e})=>e.typography.fontSize.xs};
    color: ${({theme:e})=>e.colors.textTertiary};
  }

  .tooltip-suggestion {
    font-size: ${({theme:e})=>e.typography.fontSize.xs};
    color: ${({theme:e})=>e.colors.primary};
    font-weight: ${({theme:e})=>e.typography.fontWeight.medium};
    margin-top: ${({theme:e})=>e.spacing.xs};
  }
`,bR=L(N.div)`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 5;
`,xR=L(N.div)`
  position: absolute;
  width: 4px;
  height: 4px;
  background: ${({color:e})=>e||`#FFD700`};
  border-radius: 50%;
`,SR=L(N.div)`
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border: 2px solid ${({theme:e})=>e.colors.primary};
  border-radius: ${({theme:e})=>e.borderRadius.full};
  opacity: 0.6;
`,CR=({skill:e,suggested:t=!1,onBadgeClick:n,showLevelUp:r=!1,animateUnlock:i=!1,className:a,...o})=>{let[s,c]=(0,b.useState)(!1),[l,u]=(0,b.useState)(!1),d=e?Object.values(uR).find(t=>t.level===e.level):null;(0,b.useEffect)(()=>{if(i){u(!0);let e=setTimeout(()=>u(!1),2e3);return()=>clearTimeout(e)}},[i]);let f=()=>{n&&n(e)},p=e=>e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString():`Recently added`,m={initial:{scale:0,rotate:-180,opacity:0},animate:{scale:1,rotate:0,opacity:1,transition:{type:`spring`,stiffness:300,damping:20}},hover:{scale:1.1,rotate:5,transition:{duration:.2}},tap:{scale:.95}},h={initial:{scale:0,opacity:0},animate:e=>({scale:[0,1,0],opacity:[0,1,0],x:[0,Math.cos(e*60*Math.PI/180)*30],y:[0,Math.sin(e*60*Math.PI/180)*30],transition:{duration:1.5,delay:e*.1,ease:`easeOut`}})},g={hidden:{opacity:0,y:10,scale:.8},visible:{opacity:1,y:0,scale:1,transition:{duration:.2}}},_={initial:{scale:1,opacity:.6},animate:{scale:[1,1.1,1],opacity:[.6,.3,.6],transition:{duration:2,repeat:1/0,ease:`easeInOut`}}};return(0,R.jsxs)(mR,{className:a,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onClick:f,...o,children:[t&&(0,R.jsx)(SR,{variants:_,initial:`initial`,animate:`animate`}),(0,R.jsxs)(hR,{level:e?.level,suggested:t,variants:m,initial:`initial`,animate:`animate`,whileHover:`hover`,whileTap:`tap`,children:[(0,R.jsx)(gR,{children:t?`💡`:d?.icon||`🔧`}),(0,R.jsx)(_R,{children:e?.skillName||`New Skill`}),r&&(0,R.jsx)(vR,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,opacity:0},transition:{delay:.5,type:`spring`,stiffness:300},children:`⬆️`})]}),(0,R.jsx)(Iu,{children:l&&(0,R.jsx)(bR,{children:[...[,,,,,,]].map((e,t)=>(0,R.jsx)(xR,{custom:t,variants:h,initial:`initial`,animate:`animate`,color:d?.color||`#FFD700`},t))})}),(0,R.jsx)(Iu,{children:s&&(0,R.jsx)(yR,{variants:g,initial:`hidden`,animate:`visible`,exit:`hidden`,children:t?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(`div`,{className:`tooltip-title`,children:`💡 Suggested Skill`}),(0,R.jsx)(`div`,{className:`tooltip-suggestion`,children:e?.reason||`Adding this skill could improve your internship matches`}),e?.impact&&(0,R.jsxs)(`div`,{className:`tooltip-suggestion`,children:[`Impact: `,e.impact]})]}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(`div`,{className:`tooltip-title`,children:e?.skillName}),(0,R.jsxs)(`div`,{className:`tooltip-level`,children:[`Level: `,d?.name,` `,d?.icon]}),(0,R.jsxs)(`div`,{className:`tooltip-date`,children:[`Last updated: `,p(e?.lastUpdated)]}),e?.projects&&(0,R.jsxs)(`div`,{className:`tooltip-date`,children:[`Projects: `,e.projects,` | Experience: `,e.experience||0,` months`]})]})})})]})};const wR=({skills:e=[],suggestions:t=[],onSkillClick:n,onSuggestionClick:r,showAnimations:i=!0,maxDisplay:a=12,className:o})=>{let[s,c]=(0,b.useState)(new Set);(0,b.useEffect)(()=>{if(i&&e.length>0){let t=e.filter(e=>e.lastUpdated&&Date.now()-new Date(e.lastUpdated).getTime()<5e3);if(t.length>0){let e=new Set(t.map(e=>e.skillName));c(e),setTimeout(()=>c(new Set),3e3)}}},[e,i]);let l=e.slice(0,a),u=t.slice(0,Math.max(0,a-l.length));return(0,R.jsxs)(TR,{className:o,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},initial:`hidden`,animate:`visible`,children:[l.map((e,t)=>(0,R.jsx)(CR,{skill:e,onBadgeClick:n,animateUnlock:s.has(e.skillName),style:{animationDelay:`${t*.1}s`}},e.skillName)),u.map((e,t)=>(0,R.jsx)(CR,{skill:e,suggested:!0,onBadgeClick:r,style:{animationDelay:`${(l.length+t)*.1}s`}},`suggestion-${e.skillName}`))]})};var TR=L(N.div)`
  display: flex;
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.spacing.sm};
  padding: ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.surface};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  border: 1px solid ${({theme:e})=>e.colors.border};
  min-height: 80px;
  align-items: flex-start;
  align-content: flex-start;

  @media (max-width: 768px) {
    gap: ${({theme:e})=>e.spacing.xs};
    padding: ${({theme:e})=>e.spacing.sm};
  }
`,ER=Ip`
  0%, 100% { box-shadow: 0 0 5px rgba(211, 47, 47, 0.3); }
  50% { box-shadow: 0 0 15px rgba(211, 47, 47, 0.6); }
`,DR=L(N.div)`
  max-width: 800px;
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
`,OR=L.div`
  text-align: center;
  margin-bottom: ${({theme:e})=>e.spacing.xl};

  .title {
    font-size: ${({theme:e})=>e.typography.fontSize.xxl};
    font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({theme:e})=>e.spacing.sm};
  }

  .subtitle {
    font-size: ${({theme:e})=>e.typography.fontSize.md};
    color: ${({theme:e})=>e.colors.textSecondary};
  }
`,kR=L(N.div)`
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  padding: ${({theme:e})=>e.spacing.xl};
  border: 2px dashed ${({theme:e,isDragOver:t})=>t?e.colors.primary:e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
  }

  .upload-icon {
    font-size: 3rem;
    color: ${({theme:e})=>e.colors.primary};
    margin-bottom: ${({theme:e})=>e.spacing.md};
  }
`,AR=L(N.div)`
  margin-bottom: ${({theme:e})=>e.spacing.xl};

  .section-title {
    font-size: ${({theme:e})=>e.typography.fontSize.lg};
    font-weight: ${({theme:e})=>e.typography.fontWeight.semibold};
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.lg};
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.sm};
  }
`,jR=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`,MR=L(N.div)`
  position: relative;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,NR=L(N.input)`
  width: 100%;
  padding: ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.surface};
  color: ${({theme:e})=>e.colors.text};
  font-size: ${({theme:e})=>e.typography.fontSize.md};
  transition: all 0.3s ease;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
    animation: ${ER} 2s infinite;
  }
`,PR=L(N.textarea)`
  width: 100%;
  min-height: 120px;
  padding: ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.surface};
  color: ${({theme:e})=>e.colors.text};
  font-size: ${({theme:e})=>e.typography.fontSize.md};
  font-family: inherit;
  resize: vertical;
  transition: all 0.3s ease;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
    animation: ${ER} 2s infinite;
  }
`,FR=L.div`
  margin-top: ${({theme:e})=>e.spacing.lg};

  .extracted-skills {
    margin-bottom: ${({theme:e})=>e.spacing.lg};
    padding: ${({theme:e})=>e.spacing.lg};
    background: ${({theme:e})=>`${e.colors.primary}10`};
    border-radius: ${({theme:e})=>e.borderRadius.lg};
    border: 1px solid ${({theme:e})=>`${e.colors.primary}30`};

    .skills-header {
      display: flex;
      align-items: center;
      gap: ${({theme:e})=>e.spacing.sm};
      margin-bottom: ${({theme:e})=>e.spacing.md};

      .skills-title {
        font-size: ${({theme:e})=>e.typography.fontSize.md};
        font-weight: ${({theme:e})=>e.typography.fontWeight.semibold};
        color: ${({theme:e})=>e.colors.text};
      }
    }
  }
`,IR=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.md};
  justify-content: center;
  margin-top: ${({theme:e})=>e.spacing.xl};

  @media (max-width: 768px) {
    flex-direction: column;
  }
`,LR=L(N.button)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.xl};
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-size: ${({theme:e})=>e.typography.fontSize.md};
  font-weight: ${({theme:e})=>e.typography.fontWeight.semibold};
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  transition: all 0.3s ease;

  &.primary {
    background: ${({theme:e})=>e.colors.gradient};
    color: white;

    &:hover {
      transform: translateY(-2px);
      box-shadow: ${({theme:e})=>e.shadows.lg};
    }
  }

  &.secondary {
    background: transparent;
    color: ${({theme:e})=>e.colors.primary};
    border: 2px solid ${({theme:e})=>e.colors.primary};

    &:hover {
      background: ${({theme:e})=>e.colors.primary};
      color: white;
    }
  }
`,RR=({onResumeUpdate:e,initialData:t=null})=>{let{currentUser:n}=$M(),{addNotification:r}=aN(),i=(0,b.useRef)(null),[a,o]=(0,b.useState)({name:``,email:``,phone:``,linkedin:``,summary:``,education:``,experience:``,projects:``,skills:[]}),[s,c]=(0,b.useState)([]),[l,u]=(0,b.useState)(!1),[d,f]=(0,b.useState)(!1);(0,b.useEffect)(()=>{t&&o(t)},[t]);let p=(t,n)=>{o(e=>({...e,[t]:n})),e&&e({...a,[t]:n})},m=async e=>{if(e){f(!0);try{let t=await lR.extractTextFromPDF(e),i=await lR.parseResume(t);c(i.skills),await lR.saveResumeData(n.uid,{...a,...i.contactInfo,skills:[...a.skills,...i.skills]},e),o(e=>({...e,...i.contactInfo,skills:[...e.skills,...i.skills]})),r({type:`success`,title:`Resume Uploaded & Parsed!`,message:`Your resume has been successfully processed and saved.`,duration:5e3})}catch(e){console.error(`Error processing resume:`,e),r({type:`error`,title:`Upload Failed`,message:`There was an error processing your resume. Please try again.`,duration:5e3})}finally{f(!1)}}};return(0,R.jsxs)(DR,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,R.jsxs)(OR,{children:[(0,R.jsxs)(`div`,{className:`title`,children:[(0,R.jsx)(`span`,{children:`📄`}),`Resume Builder`]}),(0,R.jsx)(`div`,{className:`subtitle`,children:`Build your professional resume with AI-powered skill extraction`})]}),(0,R.jsxs)(kR,{isDragOver:l,onDragOver:e=>{e.preventDefault(),u(!0)},onDragLeave:e=>{e.preventDefault(),u(!1)},onDrop:e=>{e.preventDefault(),u(!1);let t=Array.from(e.dataTransfer.files).find(e=>e.type===`application/pdf`);t&&m(t)},onClick:()=>i.current?.click(),children:[(0,R.jsx)(`div`,{className:`upload-icon`,children:d?`🔄`:`📤`}),(0,R.jsx)(`div`,{children:d?`Extracting skills from resume...`:`Upload existing resume (PDF)`}),(0,R.jsx)(`input`,{ref:i,type:`file`,accept:`.pdf`,style:{display:`none`},onChange:e=>m(e.target.files[0])})]}),(0,R.jsx)(Iu,{children:s.length>0&&(0,R.jsx)(FR,{children:(0,R.jsxs)(N.div,{className:`extracted-skills`,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:[(0,R.jsxs)(`div`,{className:`skills-header`,children:[(0,R.jsx)(`span`,{children:`🤖`}),(0,R.jsxs)(`span`,{className:`skills-title`,children:[`AI Extracted `,s.length,` Skills`]})]}),(0,R.jsx)(wR,{skills:[],suggestions:s,onSuggestionClick:e=>{o(t=>({...t,skills:[...t.skills,{name:e.name,level:1,category:e.category,addedFrom:`resume_extraction`}]}))},maxDisplay:10})]})})}),(0,R.jsxs)(AR,{children:[(0,R.jsxs)(`div`,{className:`section-title`,children:[(0,R.jsx)(`span`,{children:`👤`}),`Personal Information`]}),(0,R.jsxs)(jR,{children:[(0,R.jsx)(MR,{children:(0,R.jsx)(NR,{type:`text`,placeholder:`Full Name`,value:a.name,onChange:e=>p(`name`,e.target.value),whileFocus:{scale:1.02}})}),(0,R.jsx)(MR,{children:(0,R.jsx)(NR,{type:`email`,placeholder:`Email Address`,value:a.email,onChange:e=>p(`email`,e.target.value),whileFocus:{scale:1.02}})}),(0,R.jsx)(MR,{children:(0,R.jsx)(NR,{type:`tel`,placeholder:`Phone Number`,value:a.phone,onChange:e=>p(`phone`,e.target.value),whileFocus:{scale:1.02}})}),(0,R.jsx)(MR,{children:(0,R.jsx)(NR,{type:`url`,placeholder:`LinkedIn Profile`,value:a.linkedin,onChange:e=>p(`linkedin`,e.target.value),whileFocus:{scale:1.02}})})]})]}),(0,R.jsxs)(AR,{children:[(0,R.jsxs)(`div`,{className:`section-title`,children:[(0,R.jsx)(`span`,{children:`📝`}),`Professional Summary`]}),(0,R.jsx)(MR,{children:(0,R.jsx)(PR,{placeholder:`Write a brief professional summary...`,value:a.summary,onChange:e=>p(`summary`,e.target.value),whileFocus:{scale:1.01}})})]}),(0,R.jsxs)(AR,{children:[(0,R.jsxs)(`div`,{className:`section-title`,children:[(0,R.jsx)(`span`,{children:`🎓`}),`Education`]}),(0,R.jsx)(MR,{children:(0,R.jsx)(PR,{placeholder:`List your educational background...`,value:a.education,onChange:e=>p(`education`,e.target.value),whileFocus:{scale:1.01}})})]}),(0,R.jsxs)(AR,{children:[(0,R.jsxs)(`div`,{className:`section-title`,children:[(0,R.jsx)(`span`,{children:`💼`}),`Experience`]}),(0,R.jsx)(MR,{children:(0,R.jsx)(PR,{placeholder:`Describe your work experience...`,value:a.experience,onChange:e=>p(`experience`,e.target.value),whileFocus:{scale:1.01}})})]}),(0,R.jsxs)(AR,{children:[(0,R.jsxs)(`div`,{className:`section-title`,children:[(0,R.jsx)(`span`,{children:`🚀`}),`Projects`]}),(0,R.jsx)(MR,{children:(0,R.jsx)(PR,{placeholder:`Describe your key projects...`,value:a.projects,onChange:e=>p(`projects`,e.target.value),whileFocus:{scale:1.01}})})]}),(0,R.jsxs)(IR,{children:[(0,R.jsxs)(LR,{className:`secondary`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,R.jsx)(`span`,{children:`👁️`}),`Preview`]}),(0,R.jsxs)(LR,{className:`primary`,onClick:async()=>{try{let e={...a,userId:n.uid,savedAt:new Date().toISOString()};localStorage.setItem(`resume_${n.uid}`,JSON.stringify(e)),typeof r==`function`?r({type:`success`,title:`Resume Saved!`,message:`Your resume has been successfully saved to local storage.`,duration:5e3}):alert(`✅ Resume Saved!

Your resume has been successfully saved to local storage.`)}catch(e){console.error(`Error saving resume:`,e),typeof r==`function`?r({type:`error`,title:`Save Failed`,message:`There was an error saving your resume. Please try again.`,duration:5e3}):alert(`❌ Save Failed

There was an error saving your resume. Please try again.`)}},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,R.jsx)(`span`,{children:`💾`}),`Save Resume`]})]})]})},zR=Ip`
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
`,BR=Ip`
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
`,VR=L(N.div)`
  max-width: 800px;
  margin: 0 auto;
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  overflow: hidden;
  position: relative;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(211, 47, 47, 0.1),
      transparent
    );
    animation: ${BR} 3s infinite;
    pointer-events: none;
  }
`,HR=L.div`
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.surface};
  border-bottom: 1px solid ${({theme:e})=>e.colors.border};
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.spacing.md};

  .preview-title {
    font-size: ${({theme:e})=>e.typography.fontSize.xl};
    font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
    color: ${({theme:e})=>e.colors.text};
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.sm};

    .preview-icon {
      font-size: 1.5rem;
    }
  }

  .preview-actions {
    display: flex;
    gap: ${({theme:e})=>e.spacing.sm};
  }
`,UR=L(N.button)`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: ${({theme:e})=>e.typography.fontSize.sm};
  font-weight: ${({theme:e})=>e.typography.fontWeight.medium};
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};
  transition: all 0.3s ease;

  &.primary {
    background: ${({theme:e})=>e.colors.gradient};
    color: white;

    &:hover {
      transform: translateY(-2px);
      box-shadow: ${({theme:e})=>e.shadows.md};
    }
  }

  &.secondary {
    background: ${({theme:e})=>e.colors.surface};
    color: ${({theme:e})=>e.colors.text};
    border: 1px solid ${({theme:e})=>e.colors.border};

    &:hover {
      background: ${({theme:e})=>e.colors.background};
    }
  }
`,WR=L(N.div)`
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.background};
  min-height: 800px;
  font-family: 'Georgia', serif;
  line-height: 1.6;
  color: ${({theme:e})=>e.colors.text};

  @media (max-width: 768px) {
    padding: ${({theme:e})=>e.spacing.lg};
  }
`,GR=L(N.div)`
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  animation: ${zR} 0.5s ease-out;

  &:last-child {
    margin-bottom: 0;
  }
`,KR=L.div`
  text-align: center;
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  padding-bottom: ${({theme:e})=>e.spacing.lg};
  border-bottom: 2px solid ${({theme:e})=>e.colors.primary};
  position: relative;

  &::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 2px;
    background: ${({theme:e})=>e.colors.gradient};
  }

  .name {
    font-size: 2.5rem;
    font-weight: bold;
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    text-transform: uppercase;
    letter-spacing: 2px;
  }

  .contact-info {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: ${({theme:e})=>e.spacing.md};
    font-size: ${({theme:e})=>e.typography.fontSize.sm};
    color: ${({theme:e})=>e.colors.textSecondary};

    .contact-item {
      display: flex;
      align-items: center;
      gap: ${({theme:e})=>e.spacing.xs};

      .contact-icon {
        color: ${({theme:e})=>e.colors.primary};
      }
    }

    @media (max-width: 768px) {
      flex-direction: column;
      gap: ${({theme:e})=>e.spacing.xs};
    }
  }
`,qR=L.h2`
  font-size: ${({theme:e})=>e.typography.fontSize.xl};
  font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
  color: ${({theme:e})=>e.colors.primary};
  margin-bottom: ${({theme:e})=>e.spacing.md};
  text-transform: uppercase;
  letter-spacing: 1px;
  position: relative;
  padding-left: ${({theme:e})=>e.spacing.lg};

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 100%;
    background: ${({theme:e})=>e.colors.gradient};
    border-radius: 2px;
  }
`,JR=L.div`
  padding-left: ${({theme:e})=>e.spacing.lg};
  font-size: ${({theme:e})=>e.typography.fontSize.md};
  line-height: 1.7;
  color: ${({theme:e})=>e.colors.text};

  p {
    margin-bottom: ${({theme:e})=>e.spacing.md};
    text-align: justify;
  }

  ul {
    list-style: none;
    padding: 0;

    li {
      margin-bottom: ${({theme:e})=>e.spacing.sm};
      position: relative;
      padding-left: ${({theme:e})=>e.spacing.md};

      &::before {
        content: '▸';
        position: absolute;
        left: 0;
        color: ${({theme:e})=>e.colors.primary};
        font-weight: bold;
      }
    }
  }
`,YR=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: ${({theme:e})=>e.spacing.sm};
  margin-top: ${({theme:e})=>e.spacing.md};
`,XR=L(N.span)`
  display: inline-block;
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  background: ${({theme:e})=>`${e.colors.primary}15`};
  color: ${({theme:e})=>e.colors.primary};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: ${({theme:e})=>e.typography.fontSize.sm};
  font-weight: ${({theme:e})=>e.typography.fontWeight.medium};
  text-align: center;
  border: 1px solid ${({theme:e})=>`${e.colors.primary}30`};
  transition: all 0.3s ease;

  &:hover {
    background: ${({theme:e})=>`${e.colors.primary}25`};
    transform: translateY(-1px);
  }
`,ZR=L.div`
  text-align: center;
  padding: ${({theme:e})=>e.spacing.xl};
  color: ${({theme:e})=>e.colors.textSecondary};
  font-style: italic;

  .empty-icon {
    font-size: 3rem;
    margin-bottom: ${({theme:e})=>e.spacing.md};
    opacity: 0.5;
  }
`,QR=L(N.div)`
  position: absolute;
  top: 10px;
  right: 10px;
  background: ${({theme:e})=>e.colors.success};
  color: white;
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: ${({theme:e})=>e.typography.fontSize.xs};
  font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};
`,$R=L(N.div)`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  box-shadow: ${({theme:e})=>e.shadows.xl};
  z-index: 1000;
  text-align: center;
  min-width: 300px;

  .progress-icon {
    font-size: 3rem;
    margin-bottom: ${({theme:e})=>e.spacing.md};
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .progress-text {
    font-size: ${({theme:e})=>e.typography.fontSize.md};
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.md};
  }

  .progress-bar {
    width: 100%;
    height: 8px;
    background: ${({theme:e})=>e.colors.surface};
    border-radius: 4px;
    overflow: hidden;

    .progress-fill {
      height: 100%;
      background: ${({theme:e})=>e.colors.gradient};
      border-radius: 4px;
      transition: width 0.3s ease;
    }
  }
`,ez=L(N.div)`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1001;
`,tz=L(N.div)`
  position: absolute;
  width: 8px;
  height: 8px;
  background: ${({color:e})=>e};
  border-radius: 2px;
`,nz=({resumeData:e,onDownload:t,showUpdateIndicator:n=!1})=>{let{currentUser:r}=$M(),{isDarkMode:i}=Vp(),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)(0),[l,u]=(0,b.useState)(!1),d=(0,b.useRef)(null),f=async()=>{o(!0),c(0);try{let n=setInterval(()=>{c(e=>e>=90?(clearInterval(n),90):e+10)},200);await new Promise(e=>setTimeout(e,2e3)),c(100),u(!0),setTimeout(()=>u(!1),3e3),t&&t(e);let r=p(e),i=new Blob([r],{type:`text/plain`}),a=URL.createObjectURL(i),o=document.createElement(`a`);o.href=a,o.download=`${e.name||`resume`}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}catch(e){console.error(`Error downloading resume:`,e)}finally{setTimeout(()=>{o(!1),c(0)},1e3)}},p=e=>`
${e.name||`Your Name`}
${e.email||``} | ${e.phone||``} | ${e.linkedin||``}

PROFESSIONAL SUMMARY
${e.summary||`Professional summary not provided.`}

EDUCATION
${e.education||`Education details not provided.`}

EXPERIENCE
${e.experience||`Work experience not provided.`}

PROJECTS
${e.projects||`Projects not provided.`}

SKILLS
${e.skills?.map(e=>e.name).join(`, `)||`Skills not provided.`}
    `.trim(),m=()=>{window.print()},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},g={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.3}}};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(VR,{ref:d,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},children:[n&&(0,R.jsxs)(QR,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[(0,R.jsx)(`span`,{children:`✓`}),`Updated`]}),(0,R.jsxs)(HR,{children:[(0,R.jsxs)(`div`,{className:`preview-title`,children:[(0,R.jsx)(`span`,{className:`preview-icon`,children:`👁️`}),`Resume Preview`]}),(0,R.jsxs)(`div`,{className:`preview-actions`,children:[(0,R.jsxs)(UR,{className:`secondary`,onClick:m,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,R.jsx)(`span`,{children:`🖨️`}),`Print`]}),(0,R.jsxs)(UR,{className:`primary`,onClick:f,disabled:a,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,R.jsx)(`span`,{children:a?`⏳`:`📥`}),a?`Generating...`:`Download PDF`]})]})]}),(0,R.jsxs)(WR,{children:[(0,R.jsxs)(KR,{children:[(0,R.jsx)(N.div,{className:`name`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:e.name||`Your Name`},e.name),(0,R.jsxs)(`div`,{className:`contact-info`,children:[e.email&&(0,R.jsxs)(`div`,{className:`contact-item`,children:[(0,R.jsx)(`span`,{className:`contact-icon`,children:`📧`}),e.email]}),e.phone&&(0,R.jsxs)(`div`,{className:`contact-item`,children:[(0,R.jsx)(`span`,{className:`contact-icon`,children:`📱`}),e.phone]}),e.linkedin&&(0,R.jsxs)(`div`,{className:`contact-item`,children:[(0,R.jsx)(`span`,{className:`contact-icon`,children:`💼`}),e.linkedin]})]})]}),e.summary&&(0,R.jsxs)(GR,{variants:h,initial:`hidden`,animate:`visible`,children:[(0,R.jsx)(qR,{children:`Professional Summary`}),(0,R.jsx)(JR,{children:(0,R.jsx)(`p`,{children:e.summary})})]},`summary-${e.summary}`),e.education&&(0,R.jsxs)(GR,{variants:h,initial:`hidden`,animate:`visible`,children:[(0,R.jsx)(qR,{children:`Education`}),(0,R.jsx)(JR,{children:(0,R.jsx)(`p`,{children:e.education})})]},`education-${e.education}`),e.experience&&(0,R.jsxs)(GR,{variants:h,initial:`hidden`,animate:`visible`,children:[(0,R.jsx)(qR,{children:`Experience`}),(0,R.jsx)(JR,{children:(0,R.jsx)(`p`,{children:e.experience})})]},`experience-${e.experience}`),e.projects&&(0,R.jsxs)(GR,{variants:h,initial:`hidden`,animate:`visible`,children:[(0,R.jsx)(qR,{children:`Projects`}),(0,R.jsx)(JR,{children:(0,R.jsx)(`p`,{children:e.projects})})]},`projects-${e.projects}`),e.skills&&e.skills.length>0&&(0,R.jsxs)(GR,{variants:h,initial:`hidden`,animate:`visible`,children:[(0,R.jsx)(qR,{children:`Skills`}),(0,R.jsx)(JR,{children:(0,R.jsx)(YR,{children:(0,R.jsx)(Iu,{children:e.skills.map((e,t)=>(0,R.jsx)(XR,{variants:g,initial:`hidden`,animate:`visible`,exit:`hidden`,transition:{delay:t*.1},children:e.name||e},e.name||t))})})})]},`skills-${e.skills.length}`),!e.name&&!e.summary&&!e.education&&!e.experience&&!e.projects&&(!e.skills||e.skills.length===0)&&(0,R.jsxs)(ZR,{children:[(0,R.jsx)(`div`,{className:`empty-icon`,children:`📄`}),(0,R.jsx)(`p`,{children:`Start filling out your resume form to see the preview here`})]})]})]}),(0,R.jsx)(Iu,{children:a&&(0,R.jsxs)($R,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:[(0,R.jsx)(`div`,{className:`progress-icon`,children:`📄`}),(0,R.jsx)(`div`,{className:`progress-text`,children:`Generating your professional resume...`}),(0,R.jsx)(`div`,{className:`progress-bar`,children:(0,R.jsx)(`div`,{className:`progress-fill`,style:{width:`${s}%`}})})]})}),(0,R.jsx)(Iu,{children:l&&(0,R.jsx)(ez,{children:[...Array(50)].map((e,t)=>(0,R.jsx)(tz,{color:[`#D32F2F`,`#FF5722`,`#FFC107`,`#4CAF50`,`#2196F3`][t%5],initial:{x:Math.random()*window.innerWidth,y:-10,rotate:0,scale:1},animate:{y:window.innerHeight+10,rotate:360,scale:[1,1.2,.8,1]},transition:{duration:3,delay:t*.02,ease:`easeOut`}},t))})})]})},rz=Ip`
  0%, 100% {
    transform: scale(1);
    opacity: 0.8;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
`,iz=L.div`
  min-height: calc(100vh - 70px);
  background: ${({theme:e})=>e.colors.surface};
  padding: ${({theme:e})=>e.spacing.xl} 0;

  @media (max-width: 768px) {
    padding: ${({theme:e})=>e.spacing.lg} 0;
  }
`,az=L.div`
  text-align: center;
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  padding: 0 ${({theme:e})=>e.spacing.xl};

  .main-title {
    font-size: ${({theme:e})=>e.typography.fontSize.xxxl};
    font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.md};
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({theme:e})=>e.spacing.md};

    .title-icon {
      font-size: 3rem;
      animation: ${rz} 2s infinite;
    }

    @media (max-width: 768px) {
      font-size: ${({theme:e})=>e.typography.fontSize.xxl};
      flex-direction: column;
      gap: ${({theme:e})=>e.spacing.sm};
    }
  }

  .subtitle {
    font-size: ${({theme:e})=>e.typography.fontSize.lg};
    color: ${({theme:e})=>e.colors.textSecondary};
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.6;
  }
`,oz=L.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: ${({theme:e})=>e.spacing.xl};
  max-width: 1600px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.xl};

  @media (max-width: 1200px) {
    grid-template-columns: 1fr;
    gap: ${({theme:e})=>e.spacing.lg};
  }

  @media (max-width: 768px) {
    padding: 0 ${({theme:e})=>e.spacing.lg};
  }
`,sz=L(N.div)`
  position: relative;
`,cz=L(N.div)`
  position: sticky;
  top: ${({theme:e})=>e.spacing.xl};
  height: fit-content;

  @media (max-width: 1200px) {
    position: static;
    top: auto;
  }
`,lz=L(N.div)`
  position: fixed;
  bottom: ${({theme:e})=>e.spacing.xl};
  right: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  padding: ${({theme:e})=>e.spacing.lg};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  z-index: 100;
  min-width: 200px;

  @media (max-width: 768px) {
    bottom: ${({theme:e})=>e.spacing.lg};
    right: ${({theme:e})=>e.spacing.lg};
    left: ${({theme:e})=>e.spacing.lg};
    min-width: auto;
  }

  .progress-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: ${({theme:e})=>e.spacing.md};

    .progress-title {
      font-size: ${({theme:e})=>e.typography.fontSize.sm};
      font-weight: ${({theme:e})=>e.typography.fontWeight.semibold};
      color: ${({theme:e})=>e.colors.text};
    }

    .progress-percentage {
      font-size: ${({theme:e})=>e.typography.fontSize.lg};
      font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
      color: ${({theme:e})=>e.colors.primary};
    }
  }

  .progress-bar {
    width: 100%;
    height: 8px;
    background: ${({theme:e})=>e.colors.surface};
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: ${({theme:e})=>e.spacing.sm};

    .progress-fill {
      height: 100%;
      background: ${({theme:e})=>e.colors.gradient};
      border-radius: 4px;
      transition: width 0.5s ease;
    }
  }

  .progress-milestones {
    display: flex;
    justify-content: space-between;
    font-size: ${({theme:e})=>e.typography.fontSize.xs};
    color: ${({theme:e})=>e.colors.textTertiary};

    .milestone {
      display: flex;
      align-items: center;
      gap: 2px;

      &.completed {
        color: ${({theme:e})=>e.colors.success};
      }
    }
  }
`,uz=L(N.div)`
  position: fixed;
  bottom: ${({theme:e})=>e.spacing.xl};
  left: ${({theme:e})=>e.spacing.xl};
  width: 60px;
  height: 60px;
  background: ${({theme:e})=>e.colors.gradient};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  cursor: pointer;
  box-shadow: ${({theme:e})=>e.shadows.lg};
  z-index: 101;

  @media (max-width: 768px) {
    display: none;
  }
`,dz=L(N.div)`
  position: absolute;
  bottom: 70px;
  left: 0;
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.md};
  box-shadow: ${({theme:e})=>e.shadows.md};
  white-space: nowrap;
  font-size: ${({theme:e})=>e.typography.fontSize.sm};
  color: ${({theme:e})=>e.colors.text};
  max-width: 250px;
  white-space: normal;

  &::after {
    content: '';
    position: absolute;
    top: 100%;
    left: 20px;
    border: 8px solid transparent;
    border-top-color: ${({theme:e})=>e.colors.background};
  }
`,fz=L(N.div)`
  position: fixed;
  top: ${({theme:e})=>e.spacing.xl};
  right: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.success};
  color: white;
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  box-shadow: ${({theme:e})=>e.shadows.lg};
  z-index: 102;
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  font-weight: ${({theme:e})=>e.typography.fontWeight.medium};

  .alert-icon {
    font-size: 1.2rem;
    animation: ${rz} 1s infinite;
  }

  @media (max-width: 768px) {
    top: ${({theme:e})=>e.spacing.lg};
    right: ${({theme:e})=>e.spacing.lg};
    left: ${({theme:e})=>e.spacing.lg};
  }
`,pz=()=>{let{currentUser:e}=$M(),{addNotification:t}=aN(),[n,r]=(0,b.useState)({name:``,email:``,phone:``,linkedin:``,summary:``,education:``,experience:``,projects:``,skills:[]}),[i,a]=(0,b.useState)(0),[o,s]=(0,b.useState)(!1),[c,l]=(0,b.useState)(!1),[u,d]=(0,b.useState)(!1),[f,p]=(0,b.useState)(``);(0,b.useEffect)(()=>{(async()=>{if(e)try{let t=await lR.getResumeData(e.uid);t&&r(t)}catch(e){console.error(`Error loading resume data:`,e)}})()},[e]),(0,b.useEffect)(()=>{let e=lR.calculateResumeCompletion(n);a(e),e===25?(p(`Great start! Add your experience to boost your profile! 🚀`),m()):e===50?(p(`Halfway there! Don't forget to add your projects! 💼`),m()):e===75?(p(`Almost done! Add some skills to complete your resume! ⭐`),m()):e===100&&(p(`Perfect! Your resume is complete and ready to impress! 🎉`),m())},[n]);let m=()=>{l(!0),setTimeout(()=>l(!1),5e3)},h=e=>{r(e),s(!0),setTimeout(()=>s(!1),2e3),e.skills&&e.skills.length>n.skills.length&&(d(!0),setTimeout(()=>d(!1),4e3))},g=async n=>{try{await lR.saveResumeData(e.uid,n),t({type:`success`,title:`Resume Downloaded!`,message:`Your resume has been generated and saved successfully.`,duration:5e3})}catch(e){console.error(`Error saving resume:`,e),t({type:`error`,title:`Download Failed`,message:`There was an error saving your resume. Please try again.`,duration:5e3})}},_=()=>[{label:`25%`,completed:i>=25},{label:`50%`,completed:i>=50},{label:`75%`,completed:i>=75},{label:`100%`,completed:i>=100}],v={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.2}}},y={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};return(0,R.jsxs)(iz,{children:[(0,R.jsxs)(N.div,{variants:v,initial:`hidden`,animate:`visible`,children:[(0,R.jsxs)(az,{children:[(0,R.jsxs)(N.div,{className:`main-title`,variants:y,children:[(0,R.jsx)(`span`,{className:`title-icon`,children:`📄`}),`Resume Builder & AI Skill Extractor`]}),(0,R.jsx)(N.div,{className:`subtitle`,variants:y,children:`Create a professional resume with AI-powered skill extraction and real-time preview`})]}),(0,R.jsxs)(oz,{children:[(0,R.jsx)(sz,{variants:y,children:(0,R.jsx)(RR,{onResumeUpdate:h,initialData:n})}),(0,R.jsx)(cz,{variants:y,children:(0,R.jsx)(nz,{resumeData:n,onDownload:g,showUpdateIndicator:o})})]})]}),(0,R.jsxs)(lz,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{delay:1},children:[(0,R.jsxs)(`div`,{className:`progress-header`,children:[(0,R.jsx)(`span`,{className:`progress-title`,children:`Resume Progress`}),(0,R.jsxs)(`span`,{className:`progress-percentage`,children:[i,`%`]})]}),(0,R.jsx)(`div`,{className:`progress-bar`,children:(0,R.jsx)(N.div,{className:`progress-fill`,initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})}),(0,R.jsx)(`div`,{className:`progress-milestones`,children:_().map((e,t)=>(0,R.jsxs)(`div`,{className:`milestone ${e.completed?`completed`:``}`,children:[(0,R.jsx)(`span`,{children:e.completed?`✓`:`○`}),(0,R.jsx)(`span`,{children:e.label})]},t))})]}),(0,R.jsxs)(uz,{initial:{scale:0},animate:{scale:1},transition:{delay:1.5,type:`spring`,stiffness:300},onClick:()=>l(!c),whileHover:{scale:1.1},whileTap:{scale:.9},children:[`🤖`,(0,R.jsx)(Iu,{children:c&&(0,R.jsx)(dz,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.9},transition:{duration:.2},children:f||`Hi! I'm here to help you build an amazing resume! Click on me for tips! 😊`})})]}),(0,R.jsx)(Iu,{children:u&&(0,R.jsxs)(fz,{initial:{opacity:0,y:-50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},transition:{duration:.3},children:[(0,R.jsx)(`span`,{className:`alert-icon`,children:`🎯`}),`Skills extracted! Update your profile to boost internship matches!`]})})]})},mz=L.div`
  width: 100%;
  margin: ${({theme:e})=>e.spacing.md} 0;
`,hz=L.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: ${({theme:e})=>e.spacing.sm};
  font-size: 0.9rem;
  font-weight: 500;
  color: ${({theme:e})=>e.colors.text};
`,gz=L.div`
  width: 100%;
  height: ${({size:e})=>{switch(e){case`small`:return`6px`;case`large`:return`12px`;default:return`8px`}}};
  background: ${({theme:e})=>e.colors.surface};
  border-radius: ${({theme:e})=>e.borderRadius.sm};
  overflow: hidden;
  position: relative;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
`,_z=L(N.div)`
  height: 100%;
  background: ${({variant:e,theme:t})=>{switch(e){case`success`:return`linear-gradient(90deg, #4CAF50 0%, #66BB6A 100%)`;case`warning`:return`linear-gradient(90deg, #FF9800 0%, #FFB74D 100%)`;case`danger`:return`linear-gradient(90deg, #f44336 0%, #ef5350 100%)`;case`info`:return`linear-gradient(90deg, #2196F3 0%, #42A5F5 100%)`;default:return t.colors.gradient}}};
  border-radius: ${({theme:e})=>e.borderRadius.sm};
  position: relative;
  overflow: hidden;

  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.3) 50%,
      transparent 100%
    );
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
`,vz=L.span`
  font-weight: 600;
  color: ${({variant:e,theme:t})=>{switch(e){case`success`:return`#4CAF50`;case`warning`:return`#FF9800`;case`danger`:return`#f44336`;case`info`:return`#2196F3`;default:return t.colors.primary}}};
`,yz=L.div`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.md};
  padding: ${({theme:e})=>e.spacing.sm} 0;
`,bz=L.span`
  min-width: 100px;
  font-size: 0.85rem;
  color: ${({theme:e})=>e.colors.text};
  font-weight: 500;
`,xz=L.div`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};
  font-size: 0.8rem;
  color: ${({matched:e,theme:t})=>e?`#4CAF50`:`#f44336`};
  font-weight: 600;
`,Sz=L.div`
  position: relative;
  width: ${({size:e})=>e||`120px`};
  height: ${({size:e})=>e||`120px`};
  display: flex;
  align-items: center;
  justify-content: center;
`,Cz=L.svg`
  transform: rotate(-90deg);
  width: 100%;
  height: 100%;
`,wz=L.circle`
  fill: none;
  stroke: ${({theme:e})=>e.colors.surface};
  stroke-width: 8;
`,Tz=L(N.circle)`
  fill: none;
  stroke: ${({variant:e,theme:t})=>{switch(e){case`success`:return`#4CAF50`;case`warning`:return`#FF9800`;case`danger`:return`#f44336`;case`info`:return`#2196F3`;default:return t.colors.primary}}};
  stroke-width: 8;
  stroke-linecap: round;
  filter: drop-shadow(0 0 6px rgba(211, 47, 47, 0.3));
`,Ez=L.div`
  position: absolute;
  text-align: center;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  
  .percentage {
    font-size: 1.5rem;
    line-height: 1;
  }
  
  .label {
    font-size: 0.7rem;
    color: ${({theme:e})=>e.colors.textSecondary};
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
`,Dz=({value:e=0,max:t=100,label:n,variant:r=`primary`,size:i=`medium`,showPercentage:a=!0,animated:o=!0,type:s=`linear`,skills:c=null,className:l})=>{let[u,d]=(0,b.useState)(0),f=Math.min(Math.max(e/t*100,0),100);(0,b.useEffect)(()=>{if(o){let e=setTimeout(()=>{d(f)},100);return()=>clearTimeout(e)}else d(f)},[f,o]);let p=r===`auto`?(e=>e>=80?`success`:e>=60?`info`:e>=40?`warning`:`danger`)(f):r;if(s===`circular`){let e=2*Math.PI*50,t=e,r=e-u/100*e;return(0,R.jsxs)(Sz,{size:i,className:l,children:[(0,R.jsxs)(Cz,{children:[(0,R.jsx)(wz,{cx:`60`,cy:`60`,r:50}),(0,R.jsx)(Tz,{cx:`60`,cy:`60`,r:50,variant:p,initial:{strokeDashoffset:e},animate:{strokeDashoffset:r},transition:{duration:1.5,ease:`easeOut`},style:{strokeDasharray:t,strokeDashoffset:e}})]}),(0,R.jsxs)(Ez,{children:[(0,R.jsxs)(`div`,{className:`percentage`,children:[Math.round(u),`%`]}),n&&(0,R.jsx)(`div`,{className:`label`,children:n})]})]})}return c?(0,R.jsxs)(mz,{className:l,children:[n&&(0,R.jsx)(hz,{children:(0,R.jsx)(`span`,{children:n})}),c.map((e,t)=>(0,R.jsxs)(yz,{children:[(0,R.jsx)(bz,{children:e.name}),(0,R.jsx)(gz,{style:{flex:1},children:(0,R.jsx)(_z,{variant:e.matched?`success`:`danger`,initial:{width:`0%`},animate:{width:`${e.matchPercentage||(e.matched?100:0)}%`},transition:{duration:1,delay:t*.1}})}),(0,R.jsxs)(xz,{matched:e.matched,children:[e.matched?`✓`:`✗`,e.matchPercentage&&` ${e.matchPercentage}%`]})]},t))]}):(0,R.jsxs)(mz,{className:l,children:[(n||a)&&(0,R.jsxs)(hz,{children:[n&&(0,R.jsx)(`span`,{children:n}),a&&(0,R.jsxs)(vz,{variant:p,children:[Math.round(u),`%`]})]}),(0,R.jsx)(gz,{size:i,children:(0,R.jsx)(_z,{variant:p,initial:{width:`0%`},animate:{width:`${u}%`},transition:{duration:1.5,ease:`easeOut`}})})]})},Oz=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  border: 2px solid ${({$matchScore:e})=>e>=80?`#4CAF50`:e>=60?`#FF9800`:e>=40?`#2196F3`:`#9E9E9E`};
  padding: ${({theme:e})=>e.spacing.xl};
  box-shadow: ${({theme:e})=>e.shadows.md};
  transition: all ${({theme:e})=>e.transitions.normal};
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: ${({$matchScore:e})=>e>=80?`linear-gradient(90deg, #4CAF50, #66BB6A)`:e>=60?`linear-gradient(90deg, #FF9800, #FFB74D)`:e>=40?`linear-gradient(90deg, #2196F3, #64B5F6)`:`linear-gradient(90deg, #9E9E9E, #BDBDBD)`};
  }

  &:hover {
    transform: translateY(-8px);
    box-shadow: ${({theme:e})=>e.shadows.xl};
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,kz=L.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,Az=L.div`
  flex: 1;
`,jz=L.div`
  width: 60px;
  height: 60px;
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  background: ${({theme:e})=>e.colors.gradient};
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
  font-size: 1.5rem;
  margin-bottom: ${({theme:e})=>e.spacing.md};
`,Mz=L.h3`
  font-size: 1.4rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin: 0 0 ${({theme:e})=>e.spacing.xs} 0;
`,Nz=L.h4`
  font-size: 1.1rem;
  font-weight: 600;
  color: ${({theme:e})=>e.colors.primary};
  margin: 0 0 ${({theme:e})=>e.spacing.sm} 0;
`,Pz=L(N.div)`
  background: ${({$matchScore:e})=>e>=80?`linear-gradient(135deg, #4CAF50, #66BB6A)`:e>=60?`linear-gradient(135deg, #FF9800, #FFB74D)`:e>=40?`linear-gradient(135deg, #2196F3, #64B5F6)`:`linear-gradient(135deg, #9E9E9E, #BDBDBD)`};
  color: white;
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-weight: 700;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};
  box-shadow: ${({theme:e})=>e.shadows.sm};

  .icon {
    font-size: 1rem;
  }
`,Fz=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.lg};

  .progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: ${({theme:e})=>e.spacing.sm};

    .label {
      font-weight: 600;
      color: ${({theme:e})=>e.colors.text};
      font-size: 0.9rem;
    }

    .percentage {
      font-weight: 700;
      color: ${({$matchScore:e})=>e>=80?`#4CAF50`:e>=60?`#FF9800`:e>=40?`#2196F3`:`#9E9E9E`};
    }
  }
`,Iz=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: ${({theme:e})=>e.spacing.md};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,Lz=L.div`
  text-align: center;
  padding: ${({theme:e})=>e.spacing.md};
  background: ${({theme:e})=>e.colors.surface};
  border-radius: ${({theme:e})=>e.borderRadius.md};

  .icon {
    font-size: 1.2rem;
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .value {
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    font-size: 0.9rem;
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .label {
    font-size: 0.8rem;
    color: ${({theme:e})=>e.colors.textSecondary};
  }
`,Rz=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.lg};

  .skills-header {
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    font-size: 0.9rem;
  }

  .skills-grid {
    display: flex;
    flex-wrap: wrap;
    gap: ${({theme:e})=>e.spacing.xs};
  }
`,zz=L.span`
  padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-size: 0.8rem;
  font-weight: 500;
  background: ${({matched:e,theme:t})=>e?`rgba(76, 175, 80, 0.1)`:t.colors.surface};
  color: ${({matched:e,theme:t})=>e?`#4CAF50`:t.colors.text};
  border: 1px solid ${({matched:e})=>e?`#4CAF50`:`transparent`};
  position: relative;

  ${({matched:e})=>e&&`
    &::after {
      content: '✓';
      position: absolute;
      top: -4px;
      right: -4px;
      background: #4CAF50;
      color: white;
      border-radius: 50%;
      width: 16px;
      height: 16px;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  `}
`,Bz=L.div`
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
  border: 1px solid rgba(102, 126, 234, 0.3);
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.md};
  margin-bottom: ${({theme:e})=>e.spacing.lg};

  .ai-header {
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.sm};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    font-weight: 600;
    color: #667eea;
    font-size: 0.9rem;
  }

  .insights-list {
    display: flex;
    flex-direction: column;
    gap: ${({theme:e})=>e.spacing.xs};
  }

  .insight-item {
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.sm};
    font-size: 0.8rem;
    color: ${({theme:e})=>e.colors.text};

    .insight-icon {
      font-size: 1rem;
    }
  }
`,Vz=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.md};
  margin-top: ${({theme:e})=>e.spacing.lg};
`,Hz=L(N.button)`
  flex: 1;
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.gradient};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({theme:e})=>e.spacing.sm};
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }

  &:hover::before {
    left: 100%;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .icon {
    font-size: 1.1rem;
  }
`,Uz=L(N.div)`
  position: absolute;
  top: 10px;
  right: 10px;
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  cursor: pointer;
  z-index: 10;

  &:hover {
    transform: scale(1.1);
  }
`,Wz=L(N.div)`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  overflow: hidden;
  border-radius: ${({theme:e})=>e.borderRadius.xl};

  .confetti-piece {
    position: absolute;
    width: 8px;
    height: 8px;
    background: ${({theme:e})=>e.colors.primary};
  }
`,Gz=({internship:e,studentProfile:t,onApply:n,onView:r})=>{let{currentUser:i}=$M(),[a,o]=(0,b.useState)(!1),[s,c]=(0,b.useState)(!1),[l,u]=(0,b.useState)(!1),d=(e.seats||0)-(e.acceptedApplications||0),f=()=>e.stipendMin?!e.stipendMax||e.stipendMin===e.stipendMax?`₹${parseInt(e.stipendMin).toLocaleString()}`:`₹${parseInt(e.stipendMin).toLocaleString()} - ₹${parseInt(e.stipendMax).toLocaleString()}`:`Not specified`,p=async()=>{if(!(!i||a)){o(!0);try{let r={studentId:i.uid,studentName:t?.name||i.displayName,studentEmail:i.email,internshipId:e.id,internshipTitle:e.role,companyName:e.company,status:`pending`,appliedAt:Zk(),matchScore:e.matchScore,aiRecommended:!0};await Gk(LO(jM,`applications`),r),e.matchScore>=90&&(c(!0),setTimeout(()=>c(!1),3e3)),n&&n(e)}catch(e){console.error(`Error applying to internship:`,e),alert(`Failed to apply. Please try again.`)}finally{o(!1)}}},m=(()=>{let t=e.matchScore||0;return t>=80?{color:`#4CAF50`,icon:`🎯`,label:`Excellent Match`}:t>=60?{color:`#FF9800`,icon:`✅`,label:`Good Match`}:t>=40?{color:`#2196F3`,icon:`📈`,label:`Moderate Match`}:{color:`#9E9E9E`,icon:`🌱`,label:`Growth Opportunity`}})(),h=(()=>{if(!t?.skills||!e.skills)return[];let n=t.skills.map(e=>e.toLowerCase());return e.skills.map(e=>({skill:e,matched:n.includes(e.toLowerCase())}))})();return(0,R.jsxs)(Oz,{$matchScore:e.matchScore,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},children:[(0,R.jsxs)(Uz,{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),whileTap:{scale:.9},children:[`🤖`,(0,R.jsx)(Iu,{children:l&&(0,R.jsxs)(N.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:-50},exit:{opacity:0,scale:.8,y:10},style:{position:`absolute`,background:`#333`,color:`white`,padding:`8px 12px`,borderRadius:`8px`,fontSize:`0.8rem`,whiteSpace:`nowrap`,zIndex:1e3,boxShadow:`0 4px 12px rgba(0,0,0,0.3)`},children:[`AI recommends this because of your `,e.matchDetails?.skillMatches?.length||0,` skill matches!`]})})]}),(0,R.jsx)(Iu,{children:s&&(0,R.jsx)(Wz,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[...Array(20)].map((e,t)=>(0,R.jsx)(N.div,{className:`confetti-piece`,initial:{x:Math.random()*400,y:-10,rotate:0,scale:Math.random()*.5+.5},animate:{y:500,rotate:Math.random()*360,transition:{duration:Math.random()*2+1,ease:`easeOut`}},style:{backgroundColor:[`#4CAF50`,`#FF9800`,`#2196F3`,`#9C27B0`][Math.floor(Math.random()*4)]}},t))})}),(0,R.jsxs)(kz,{children:[(0,R.jsxs)(Az,{children:[(0,R.jsx)(jz,{children:e.company?.charAt(0)||`🏢`}),(0,R.jsx)(Mz,{children:e.company}),(0,R.jsx)(Nz,{children:e.role})]}),(0,R.jsxs)(Pz,{$matchScore:e.matchScore,whileHover:{scale:1.05},children:[(0,R.jsx)(`span`,{className:`icon`,children:m.icon}),e.matchScore,`% Match`]})]}),(0,R.jsxs)(Fz,{$matchScore:e.matchScore,children:[(0,R.jsxs)(`div`,{className:`progress-header`,children:[(0,R.jsx)(`span`,{className:`label`,children:m.label}),(0,R.jsxs)(`span`,{className:`percentage`,children:[e.matchScore,`%`]})]}),(0,R.jsx)(Dz,{percentage:e.matchScore,color:m.color,animated:!0})]}),(0,R.jsxs)(Iz,{children:[(0,R.jsxs)(Lz,{children:[(0,R.jsx)(`div`,{className:`icon`,children:`💰`}),(0,R.jsx)(`div`,{className:`value`,children:f()}),(0,R.jsx)(`div`,{className:`label`,children:`Stipend`})]}),(0,R.jsxs)(Lz,{children:[(0,R.jsx)(`div`,{className:`icon`,children:`⏱️`}),(0,R.jsx)(`div`,{className:`value`,children:e.duration||`Not specified`}),(0,R.jsx)(`div`,{className:`label`,children:`Duration`})]}),(0,R.jsxs)(Lz,{children:[(0,R.jsx)(`div`,{className:`icon`,children:`🪑`}),(0,R.jsx)(`div`,{className:`value`,children:d}),(0,R.jsx)(`div`,{className:`label`,children:`Seats Left`})]}),(0,R.jsxs)(Lz,{children:[(0,R.jsx)(`div`,{className:`icon`,children:`📍`}),(0,R.jsx)(`div`,{className:`value`,children:e.location||`Remote`}),(0,R.jsx)(`div`,{className:`label`,children:`Location`})]})]}),h.length>0&&(0,R.jsxs)(Rz,{children:[(0,R.jsx)(`div`,{className:`skills-header`,children:`Required Skills`}),(0,R.jsxs)(`div`,{className:`skills-grid`,children:[h.slice(0,8).map((e,t)=>(0,R.jsx)(zz,{matched:e.matched,children:e.skill},t)),h.length>8&&(0,R.jsxs)(zz,{children:[`+`,h.length-8,` more`]})]})]}),e.aiRecommendation&&e.aiRecommendation.length>0&&(0,R.jsxs)(Bz,{children:[(0,R.jsxs)(`div`,{className:`ai-header`,children:[(0,R.jsx)(`span`,{children:`🤖`}),`AI Insights`]}),(0,R.jsx)(`div`,{className:`insights-list`,children:e.aiRecommendation.slice(0,3).map((e,t)=>(0,R.jsxs)(`div`,{className:`insight-item`,children:[(0,R.jsx)(`span`,{className:`insight-icon`,children:e.icon}),(0,R.jsx)(`span`,{children:e.message})]},t))})]}),(0,R.jsx)(Vz,{children:(0,R.jsxs)(Hz,{onClick:p,disabled:a||d<=0,whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`span`,{className:`icon`,children:a?`⏳`:`🚀`}),a?`Applying...`:d<=0?`No Seats Available`:`Apply with 1 Click`]})}),e.conversionPotential&&(0,R.jsx)(N.div,{style:{position:`absolute`,bottom:`10px`,left:`10px`,background:`linear-gradient(135deg, #4CAF50, #66BB6A)`,color:`white`,padding:`4px 8px`,borderRadius:`12px`,fontSize:`0.7rem`,fontWeight:`600`},initial:{scale:0},animate:{scale:1},transition:{delay:.5},children:`🎯 Conversion Possible`})]})};new class{constructor(){this.skillWeights={exact:1,similar:.8,category:.6,complementary:.4},this.profileWeights={skills:.3,experience:.2,projects:.2,education:.15,resume:.15},this.skillCategories={"Programming Languages":[`JavaScript`,`Python`,`Java`,`C++`,`C#`,`PHP`,`Go`,`Rust`,`TypeScript`,`Swift`,`Kotlin`,`Ruby`,`Scala`,`R`],"Web Technologies":[`HTML`,`CSS`,`React`,`Angular`,`Vue.js`,`Node.js`,`Express.js`,`Next.js`,`Svelte`],Databases:[`MySQL`,`PostgreSQL`,`MongoDB`,`Redis`,`SQLite`,`Oracle`,`SQL Server`,`Cassandra`,`DynamoDB`,`Firebase`],"Cloud & DevOps":[`AWS`,`Azure`,`Google Cloud`,`Docker`,`Kubernetes`,`Jenkins`,`GitLab CI`,`GitHub Actions`,`Terraform`,`Ansible`],"Mobile Development":[`Android`,`iOS`,`React Native`,`Flutter`,`Xamarin`],"Data Science & AI":[`Machine Learning`,`Data Science`,`TensorFlow`,`PyTorch`,`Pandas`,`NumPy`,`Scikit-learn`,`Jupyter`,`Tableau`,`Power BI`],"Tools & Frameworks":[`Git`,`Webpack`,`Babel`,`ESLint`,`Jest`,`Cypress`,`Selenium`,`Postman`,`Figma`,`Adobe XD`],"Soft Skills":[`Communication`,`Leadership`,`Problem Solving`,`Teamwork`,`Project Management`,`Time Management`,`Adaptability`,`Creativity`]},this.skillSimilarity={JavaScript:[`TypeScript`,`Node.js`,`React`,`Vue.js`,`Angular`],Python:[`Django`,`Flask`,`Pandas`,`NumPy`,`TensorFlow`,`PyTorch`],React:[`JavaScript`,`TypeScript`,`Next.js`,`Redux`,`HTML`,`CSS`],Java:[`Spring`,`Kotlin`,`Android`,`Maven`,`Gradle`],AWS:[`Azure`,`Google Cloud`,`Docker`,`Kubernetes`,`Terraform`],"Machine Learning":[`Python`,`TensorFlow`,`PyTorch`,`Data Science`,`Pandas`],"Node.js":[`JavaScript`,`Express.js`,`MongoDB`,`npm`,`TypeScript`]}}async generateRecommendations(e,t,n={}){let{maxRecommendations:r=10,minMatchScore:i=20,includeSkillGaps:a=!0,prioritizeConversion:o=!0}=n;try{let n=(t.map(t=>{let n=this.calculateMatchScore(e,t);return{...t,...n,aiRecommendation:this.generateAIInsight(n,e,t)}})),s=(n.filter(t=>t.matchScore>=i&&this.isEligible(e,t)).sort((e,t)=>t.matchScore===e.matchScore?o&&e.conversionPotential!==t.conversionPotential?t.conversionPotential?1:-1:(t.availableSeats||0)-(e.availableSeats||0):t.matchScore-e.matchScore).slice(0,r));return a&&(s=s.map(t=>({...t,skillGaps:this.analyzeSkillGaps(e.skills||[],t.skills||[]),improvementSuggestions:this.generateImprovementSuggestions(e,t)}))),{recommendations:s,totalAnalyzed:t.length,averageMatch:this.calculateAverageMatch(n),topCategories:this.identifyTopCategories(s),aiInsights:this.generateOverallInsights(e,s)}}catch(e){return console.error(`Error generating recommendations:`,e),{recommendations:[],error:`Failed to generate recommendations`,totalAnalyzed:0}}}calculateMatchScore(e,t){let n=0,r=0,i={skillMatches:[],departmentMatch:!1,yearMatch:!1,profileCompletionBonus:0},a=(this.calculateSkillMatch(e.skills||[],t.skills||[]));n+=a.score*.6,r+=100*.6,i.skillMatches=a.matches,i.skillScore=a.score,this.isDepartmentMatch(e.department,t.departments)&&(n+=100*.2,i.departmentMatch=!0),r+=100*.2,this.isYearMatch(e.year,t.years)&&(n+=100*.1,i.yearMatch=!0),r+=100*.1;let o=(this.calculateProfileCompletionBonus(e));n+=o*.1,r+=100*.1,i.profileCompletionBonus=o;let s=(Math.round(n/r*100));return{matchScore:Math.max(0,Math.min(100,s)),matchDetails:i,rawScore:n,maxScore:r}}calculateSkillMatch(e,t){if(!e.length||!t.length)return{score:0,matches:[]};let n=[],r=0;t.forEach(t=>{let i=this.findBestSkillMatch(t,e);i&&(n.push(i),r+=i.weight*100)});let i=t.length*100,a=i>0?r/i*100:0;return{score:Math.round(a),matches:n,totalMatched:n.length,totalRequired:t.length}}findBestSkillMatch(e,t){let n=(e.toLowerCase());for(let r of t)if(r.toLowerCase()===n)return{studentSkill:r,requiredSkill:e,matchType:`exact`,weight:this.skillWeights.exact,confidence:1};let r=this.skillSimilarity[e]||[];for(let n of t){let t=(n.toLowerCase());if(r.some(e=>e.toLowerCase()===t))return{studentSkill:n,requiredSkill:e,matchType:`similar`,weight:this.skillWeights.similar,confidence:.8}}let i=(this.getSkillCategory(e));if(i){for(let n of t)if(this.getSkillCategory(n)===i)return{studentSkill:n,requiredSkill:e,matchType:`category`,weight:this.skillWeights.category,confidence:.6}}return null}getSkillCategory(e){for(let[t,n]of Object.entries(this.skillCategories))if(n.some(t=>t.toLowerCase()===e.toLowerCase()))return t;return null}isDepartmentMatch(e,t){return!e||!t||!t.length?!1:t.includes(`All Departments`)||t.some(t=>t.toLowerCase()===e.toLowerCase())}isYearMatch(e,t){return!e||!t||!t.length?!1:t.includes(`All Years`)||t.some(t=>t.toLowerCase()===e.toLowerCase())}isEligible(e,t){if((t.seats||0)-(t.acceptedApplications||0)<=0||t.appliedStudents&&t.appliedStudents.includes(e.uid))return!1;let n=(this.isDepartmentMatch(e.department,t.departments)),r=(this.isYearMatch(e.year,t.years));return n&&r}calculateProfileCompletionBonus(e){let t=0,n=0;return e.skills&&e.skills.length>0&&(t+=Math.min(e.skills.length*10,100)),n+=100,e.projects&&e.projects.length>0&&(t+=Math.min(e.projects.length*20,100)),n+=100,e.education&&e.education.degree&&(t+=100),n+=100,e.resumeUrl&&(t+=100),n+=100,e.avatarUrl&&(t+=50),n+=50,n>0?Math.round(t/n*100):0}analyzeSkillGaps(e,t){let n=[],r=(e.map(e=>e.toLowerCase()));return t.forEach(e=>{let t=r.includes(e.toLowerCase()),i=this.skillSimilarity[e]?.some(e=>r.includes(e.toLowerCase()));!t&&!i&&n.push({skill:e,category:this.getSkillCategory(e),priority:this.getSkillPriority(e),learningTime:this.getEstimatedLearningTime(e),resources:this.getSkillResources(e)})}),n.sort((e,t)=>t.priority-e.priority)}getSkillPriority(e){return[`JavaScript`,`Python`,`React`,`Java`,`SQL`,`Git`].includes(e)?3:[`Node.js`,`HTML`,`CSS`,`MongoDB`,`AWS`].includes(e)?2:1}getEstimatedLearningTime(e){return{JavaScript:`2-3 months`,Python:`2-3 months`,React:`1-2 months`,Java:`3-4 months`,HTML:`2-4 weeks`,CSS:`1-2 months`,Git:`1-2 weeks`,SQL:`1-2 months`,"Node.js":`1-2 months`,AWS:`3-6 months`}[e]||`1-3 months`}getSkillResources(e){return{JavaScript:[`MDN Web Docs`,`freeCodeCamp`,`JavaScript.info`],Python:[`Python.org`,`Codecademy`,`Automate the Boring Stuff`],React:[`React Docs`,`React Tutorial`,`Scrimba`],Java:[`Oracle Java Tutorials`,`Codecademy Java`,`Java Code Geeks`],AWS:[`AWS Training`,`A Cloud Guru`,`AWS Documentation`]}[e]||[`Online tutorials`,`Documentation`,`Practice projects`]}generateAIInsight(e,t,n){let{matchScore:r,matchDetails:i}=e,a=[];if(r>=80?a.push({type:`excellent`,message:`Excellent match! Your skills align perfectly with this role.`,icon:`🎯`}):r>=60?a.push({type:`good`,message:`Good match! You have most of the required skills.`,icon:`✅`}):r>=40?a.push({type:`moderate`,message:`Moderate match. Consider developing missing skills.`,icon:`📈`}):a.push({type:`low`,message:`Lower match. This could be a growth opportunity.`,icon:`🌱`}),i.skillMatches.length>0){let e=(i.skillMatches.filter(e=>e.matchType===`exact`));e.length>0&&a.push({type:`skills`,message:`Perfect match for: ${e.map(e=>e.studentSkill).join(`, `)}`,icon:`💪`})}return i.departmentMatch&&i.yearMatch&&a.push({type:`eligibility`,message:`Perfect eligibility match for your department and year!`,icon:`🎓`}),a}generateOverallInsights(e,t){let n=[];if(t.length===0)return n.push({type:`no_matches`,message:`No strong matches found. Consider expanding your skills or updating your profile.`,priority:`high`}),n;let r=t[0];r.matchScore>=90&&n.push({type:`excellent_opportunity`,message:`🎉 Amazing! You have a ${r.matchScore}% match with ${r.company}!`,priority:`high`});let i=(this.findCommonSkillGaps(t));return i.length>0&&n.push({type:`skill_development`,message:`Learning ${i[0]} could improve your match for ${i.length} more internships.`,priority:`medium`}),n}findCommonSkillGaps(e){let t={};return e.forEach(e=>{e.skillGaps&&e.skillGaps.forEach(e=>{t[e.skill]=(t[e.skill]||0)+1})}),Object.entries(t).sort(([,e],[,t])=>t-e).slice(0,3).map(([e])=>e)}calculateAverageMatch(e){if(e.length===0)return 0;let t=(e.reduce((e,t)=>e+t.matchScore,0));return Math.round(t/e.length)}identifyTopCategories(e){let t={};return e.forEach(e=>{e.skills&&e.skills.forEach(e=>{let n=this.getSkillCategory(e);n&&(t[n]=(t[n]||0)+1)})}),Object.entries(t).sort(([,e],[,t])=>t-e).slice(0,3).map(([e,t])=>({category:e,count:t}))}generateImprovementSuggestions(e,t){let n=[];if(this.calculateProfileCompletionBonus(e)<80&&n.push({type:`profile`,message:`Complete your profile to improve match accuracy`,action:`Add missing information to your profile`,impact:`medium`}),t.skillGaps&&t.skillGaps.length>0){let e=t.skillGaps[0];n.push({type:`skill`,message:`Learn ${e.skill} to significantly improve your match`,action:`Start learning ${e.skill}`,impact:`high`,timeEstimate:e.learningTime})}return n}};var Kz=L.div`
  padding: ${({theme:e})=>e.spacing.xxl};
  max-width: 1400px;
  margin: 0 auto;

  @media (max-width: 768px) {
    padding: ${({theme:e})=>e.spacing.lg};
  }
`,qz=L.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.spacing.lg};
`,Jz=L.h1`
  font-size: 2.2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};

  .icon {
    font-size: 2.5rem;
  }

  @media (max-width: 768px) {
    font-size: 1.8rem;
    
    .icon {
      font-size: 2rem;
    }
  }
`,Yz=L(N.div)`
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-size: 0.9rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: ${({theme:e})=>e.shadows.md};

  .ai-icon {
    font-size: 1.1rem;
  }
`,Xz=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
`,Zz=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  text-align: center;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: ${({color:e})=>e||`var(--primary)`};
  }

  .number {
    font-size: 2.2rem;
    font-weight: 700;
    color: ${({color:e})=>e||`var(--primary)`};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    display: block;
  }

  .label {
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 1rem;
    font-weight: 500;
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .description {
    font-size: 0.8rem;
    color: ${({theme:e})=>e.colors.textSecondary};
  }
`,Qz=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.md};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  flex-wrap: wrap;
  align-items: center;
`,$z=L(N.button)`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e,active:t})=>t?e.colors.primary:e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e,active:t})=>t?e.colors.primary:e.colors.background};
  color: ${({theme:e,active:t})=>t?`white`:e.colors.text};
  font-weight: 600;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};
  white-space: nowrap;

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    ${({active:e,theme:t})=>!e&&`color: ${t.colors.primary};`}
  }
`,eB=L.select`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e})=>e.colors.background};
  color: ${({theme:e})=>e.colors.text};
  font-weight: 500;
  cursor: pointer;

  &:focus {
    outline: none;
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,tB=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: ${({theme:e})=>e.spacing.xl};

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: ${({theme:e})=>e.spacing.lg};
  }
`,nB=L(N.div)`
  width: 60px;
  height: 60px;
  border: 4px solid ${({theme:e})=>e.colors.border};
  border-top: 4px solid ${({theme:e})=>e.colors.primary};
  border-radius: 50%;
  margin: ${({theme:e})=>e.spacing.xxl} auto;
  animation: spin 1s linear infinite;

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`,rB=L.div`
  text-align: center;
  padding: ${({theme:e})=>e.spacing.xxl};
  color: ${({theme:e})=>e.colors.textSecondary};

  .icon {
    font-size: 5rem;
    margin-bottom: ${({theme:e})=>e.spacing.lg};
  }

  h3 {
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    color: ${({theme:e})=>e.colors.text};
    font-size: 1.5rem;
  }

  p {
    font-size: 1.1rem;
    line-height: 1.6;
    max-width: 500px;
    margin: 0 auto ${({theme:e})=>e.spacing.lg};
  }
`,iB=L(N.button)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.gradient};
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 600;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
`,aB=L(N.div)`
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
  border: 1px solid rgba(102, 126, 234, 0.3);
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  margin-bottom: ${({theme:e})=>e.spacing.xl};

  .panel-header {
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.sm};
    margin-bottom: ${({theme:e})=>e.spacing.lg};
    font-weight: 600;
    color: #667eea;
    font-size: 1.1rem;
  }

  .insights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: ${({theme:e})=>e.spacing.md};
  }

  .insight-card {
    background: rgba(255, 255, 255, 0.1);
    border-radius: ${({theme:e})=>e.borderRadius.md};
    padding: ${({theme:e})=>e.spacing.md};

    .insight-title {
      font-weight: 600;
      color: ${({theme:e})=>e.colors.text};
      margin-bottom: ${({theme:e})=>e.spacing.xs};
      display: flex;
      align-items: center;
      gap: ${({theme:e})=>e.spacing.xs};
    }

    .insight-content {
      color: ${({theme:e})=>e.colors.textSecondary};
      font-size: 0.9rem;
    }
  }
`,oB=L(N.div)`
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 60px;
  height: 60px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  cursor: pointer;
  z-index: 1000;
  box-shadow: ${({theme:e})=>e.shadows.xl};

  &:hover {
    transform: scale(1.1);
  }

  @media (max-width: 768px) {
    width: 50px;
    height: 50px;
    font-size: 1.2rem;
    bottom: 20px;
    right: 20px;
  }
`,sB=()=>{let{currentUser:e}=$M(),[t,n]=(0,b.useState)([]),[r,i]=(0,b.useState)([]),[a,o]=(0,b.useState)(null),[s,c]=(0,b.useState)(!0),[l,u]=(0,b.useState)(`all`),[d,f]=(0,b.useState)(`match`),[p,m]=(0,b.useState)({total:0,excellent:0,good:0,moderate:0}),[h,g]=(0,b.useState)(null);(0,b.useEffect)(()=>{e&&(async()=>{try{let t={uid:e.uid,name:e.displayName||`Student User`,email:e.email,skills:[`JavaScript`,`React`,`Node.js`,`Python`],education:`Computer Science`,experience:`Beginner`};o(t);let r=[{id:`intern1`,title:`Frontend Developer Intern`,company:`TechCorp Solutions`,location:`Bangalore, India`,duration:`3 months`,stipend:`₹25,000/month`,stipendMax:25e3,description:`Work on React.js applications and modern web technologies`,requirements:[`React`,`JavaScript`,`HTML`,`CSS`],availableSeats:5,status:`active`,createdAt:new Date},{id:`intern2`,title:`Full Stack Developer Intern`,company:`Innovation Labs`,location:`Mumbai, India`,duration:`6 months`,stipend:`₹30,000/month`,stipendMax:3e4,description:`Build end-to-end web applications using MERN stack`,requirements:[`React`,`Node.js`,`MongoDB`,`Express`],availableSeats:3,status:`active`,createdAt:new Date},{id:`intern3`,title:`Python Developer Intern`,company:`DataTech Analytics`,location:`Hyderabad, India`,duration:`4 months`,stipend:`₹22,000/month`,stipendMax:22e3,description:`Develop data analysis tools and automation scripts`,requirements:[`Python`,`Django`,`SQL`,`Data Analysis`],availableSeats:4,status:`active`,createdAt:new Date},{id:`intern4`,title:`Mobile App Developer Intern`,company:`AppVenture Studios`,location:`Pune, India`,duration:`5 months`,stipend:`₹28,000/month`,stipendMax:28e3,description:`Create cross-platform mobile applications`,requirements:[`React Native`,`JavaScript`,`Mobile Development`],availableSeats:2,status:`active`,createdAt:new Date},{id:`intern5`,title:`UI/UX Design Intern`,company:`Creative Minds Agency`,location:`Delhi, India`,duration:`3 months`,stipend:`₹20,000/month`,stipendMax:2e4,description:`Design user interfaces and improve user experience`,requirements:[`Figma`,`Adobe XD`,`UI Design`,`UX Research`],availableSeats:3,status:`active`,createdAt:new Date}];n(r);let a=r.map((e,t)=>{let n=[92,85,78,65,58];return{...e,matchScore:n[t],matchReasons:[`Strong skill alignment with your profile`,`Company culture matches your preferences`,`Location preference match`],skillGaps:t>2?[`Advanced algorithms`,`System design`]:[],applied:!1}});i(a),g([{type:`excellent_opportunity`,message:`TechCorp Solutions internship has 92% match with your skills!`},{type:`skill_development`,message:`Consider learning System Design to improve your match scores`}]);let s={total:a.length,excellent:a.filter(e=>e.matchScore>=80).length,good:a.filter(e=>e.matchScore>=60&&e.matchScore<80).length,moderate:a.filter(e=>e.matchScore>=40&&e.matchScore<60).length};m(s),c(!1)}catch(e){console.error(`Error loading recommendations:`,e),c(!1)}})()},[e]);let _=r.filter(e=>l===`all`?!0:l===`excellent`?e.matchScore>=80:l===`good`?e.matchScore>=60&&e.matchScore<80:l===`moderate`?e.matchScore>=40&&e.matchScore<60:!0).sort((e,t)=>d===`match`?t.matchScore-e.matchScore:d===`seats`?(t.availableSeats||0)-(e.availableSeats||0):d===`stipend`?(t.stipendMax||0)-(e.stipendMax||0):0),v=e=>{i(t=>t.map(t=>t.id===e.id?{...t,applied:!0}:t))};return s?(0,R.jsx)(Kz,{children:(0,R.jsx)(nB,{})}):(0,R.jsxs)(Kz,{children:[(0,R.jsxs)(qz,{children:[(0,R.jsxs)(Jz,{children:[(0,R.jsx)(`span`,{className:`icon`,children:`🎯`}),`AI-Powered Recommendations`]}),(0,R.jsxs)(Yz,{initial:{scale:0},animate:{scale:1},transition:{delay:.5},children:[(0,R.jsx)(`span`,{className:`ai-icon`,children:`🧠`}),`AI Powered`]})]}),(0,R.jsxs)(Xz,{children:[(0,R.jsxs)(Zz,{color:`#2196F3`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,R.jsx)(`span`,{className:`number`,children:p.total}),(0,R.jsx)(`div`,{className:`label`,children:`Total Recommendations`}),(0,R.jsx)(`div`,{className:`description`,children:`Personalized for you`})]}),(0,R.jsxs)(Zz,{color:`#4CAF50`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[(0,R.jsx)(`span`,{className:`number`,children:p.excellent}),(0,R.jsx)(`div`,{className:`label`,children:`Excellent Matches`}),(0,R.jsx)(`div`,{className:`description`,children:`80%+ compatibility`})]}),(0,R.jsxs)(Zz,{color:`#FF9800`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[(0,R.jsx)(`span`,{className:`number`,children:p.good}),(0,R.jsx)(`div`,{className:`label`,children:`Good Matches`}),(0,R.jsx)(`div`,{className:`description`,children:`60-79% compatibility`})]}),(0,R.jsxs)(Zz,{color:`#9C27B0`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[(0,R.jsx)(`span`,{className:`number`,children:p.moderate}),(0,R.jsx)(`div`,{className:`label`,children:`Growth Opportunities`}),(0,R.jsx)(`div`,{className:`description`,children:`40-59% compatibility`})]})]}),h&&(0,R.jsxs)(aB,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:[(0,R.jsxs)(`div`,{className:`panel-header`,children:[(0,R.jsx)(`span`,{children:`🤖`}),`AI Insights & Recommendations`]}),(0,R.jsx)(`div`,{className:`insights-grid`,children:h.map((e,t)=>(0,R.jsxs)(`div`,{className:`insight-card`,children:[(0,R.jsxs)(`div`,{className:`insight-title`,children:[(0,R.jsx)(`span`,{children:`💡`}),e.type===`excellent_opportunity`&&`Top Match Found`,e.type===`skill_development`&&`Skill Development`,e.type===`no_matches`&&`Profile Enhancement`]}),(0,R.jsx)(`div`,{className:`insight-content`,children:e.message})]},t))})]}),(0,R.jsxs)(Qz,{children:[(0,R.jsxs)($z,{active:l===`all`,onClick:()=>u(`all`),whileHover:{scale:1.05},whileTap:{scale:.95},children:[`All (`,p.total,`)`]}),(0,R.jsxs)($z,{active:l===`excellent`,onClick:()=>u(`excellent`),whileHover:{scale:1.05},whileTap:{scale:.95},children:[`Excellent (`,p.excellent,`)`]}),(0,R.jsxs)($z,{active:l===`good`,onClick:()=>u(`good`),whileHover:{scale:1.05},whileTap:{scale:.95},children:[`Good (`,p.good,`)`]}),(0,R.jsxs)($z,{active:l===`moderate`,onClick:()=>u(`moderate`),whileHover:{scale:1.05},whileTap:{scale:.95},children:[`Growth (`,p.moderate,`)`]}),(0,R.jsxs)(eB,{value:d,onChange:e=>f(e.target.value),children:[(0,R.jsx)(`option`,{value:`match`,children:`Sort by Match %`}),(0,R.jsx)(`option`,{value:`seats`,children:`Sort by Available Seats`}),(0,R.jsx)(`option`,{value:`stipend`,children:`Sort by Stipend`})]})]}),_.length===0?(0,R.jsxs)(rB,{children:[(0,R.jsx)(`div`,{className:`icon`,children:`🎯`}),(0,R.jsx)(`h3`,{children:`No Recommendations Available`}),(0,R.jsx)(`p`,{children:`Complete your profile with skills, projects, and preferences to get personalized internship recommendations powered by AI.`}),(0,R.jsxs)(iB,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href=`/profile`,children:[(0,R.jsx)(`span`,{children:`👤`}),`Complete Profile`]})]}):(0,R.jsx)(tB,{children:(0,R.jsx)(Iu,{children:_.map((e,t)=>(0,R.jsx)(Gz,{internship:e,studentProfile:a,onApply:v,onView:e=>{console.log(`View internship:`,e.id)}},e.id))})}),(0,R.jsx)(oB,{whileHover:{scale:1.1,rotate:10},whileTap:{scale:.9},onClick:()=>{alert(`AI Assistant: I analyzed your profile and found the best internship matches for you! 🎯`)},children:`🤖`})]})},cB=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  padding: ${({theme:e})=>e.spacing.xl};
  box-shadow: ${({theme:e})=>e.shadows.md};
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #FFD700, #FFA500);
  }

  &:hover {
    transform: translateY(-4px);
    box-shadow: ${({theme:e})=>e.shadows.xl};
  }
`,lB=L.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.spacing.md};
`,uB=L.div`
  flex: 1;
  min-width: 200px;
`,dB=L.h3`
  font-size: 1.2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin: 0 0 ${({theme:e})=>e.spacing.xs} 0;
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};

  .certificate-icon {
    width: 40px;
    height: 40px;
    border-radius: ${({theme:e})=>e.borderRadius.md};
    background: linear-gradient(135deg, #FFD700, #FFA500);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.2rem;
  }
`,fB=L.div`
  display: flex;
  flex-direction: column;
  gap: ${({theme:e})=>e.spacing.xs};
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;

  .detail-item {
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.xs};

    .icon {
      font-size: 1rem;
    }

    .label {
      font-weight: 500;
      min-width: 80px;
    }
  }
`,pB=L(N.div)`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  font-size: 0.9rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  background: ${({status:e})=>{switch(e){case`generated`:return`rgba(76, 175, 80, 0.1)`;case`pending`:return`rgba(255, 152, 0, 0.1)`;case`failed`:return`rgba(244, 67, 54, 0.1)`;default:return`rgba(158, 158, 158, 0.1)`}}};
  color: ${({status:e})=>{switch(e){case`generated`:return`#4CAF50`;case`pending`:return`#FF9800`;case`failed`:return`#f44336`;default:return`#9E9E9E`}}};
  border: 1px solid ${({status:e})=>{switch(e){case`generated`:return`#4CAF50`;case`pending`:return`#FF9800`;case`failed`:return`#f44336`;default:return`#9E9E9E`}}};
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};

  .icon {
    font-size: 1rem;
  }
`,mB=L.div`
  background: ${({theme:e})=>e.colors.surface};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  border: 2px dashed ${({theme:e})=>e.colors.border};
  text-align: center;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
    z-index: -1;
    border-radius: ${({theme:e})=>e.borderRadius.lg};
    opacity: 0.3;
  }

  .preview-icon {
    font-size: 3rem;
    margin-bottom: ${({theme:e})=>e.spacing.md};
    color: #FFD700;
  }

  .preview-text {
    font-size: 1rem;
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  .preview-subtitle {
    font-size: 0.8rem;
    color: ${({theme:e})=>e.colors.textSecondary};
  }
`,hB=L.div`
  background: ${({theme:e})=>e.colors.surface};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.lg};

  .summary-header {
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.sm};
    margin-bottom: ${({theme:e})=>e.spacing.md};
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    font-size: 1rem;
  }

  .summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: ${({theme:e})=>e.spacing.md};
  }

  .summary-item {
    .label {
      font-size: 0.8rem;
      color: ${({theme:e})=>e.colors.textSecondary};
      margin-bottom: ${({theme:e})=>e.spacing.xs};
    }

    .value {
      font-weight: 600;
      color: ${({theme:e})=>e.colors.text};
      font-size: 0.9rem;
    }
  }
`,gB=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.lg};

  .metrics-header {
    display: flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.sm};
    margin-bottom: ${({theme:e})=>e.spacing.md};
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    font-size: 1rem;
  }

  .metrics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: ${({theme:e})=>e.spacing.md};
  }

  .metric-item {
    text-align: center;
    padding: ${({theme:e})=>e.spacing.md};
    background: ${({theme:e})=>e.colors.background};
    border-radius: ${({theme:e})=>e.borderRadius.md};
    border: 1px solid ${({theme:e})=>e.colors.border};

    .metric-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: ${({color:e})=>e||`var(--primary)`};
      margin-bottom: ${({theme:e})=>e.spacing.xs};
    }

    .metric-label {
      font-size: 0.8rem;
      color: ${({theme:e})=>e.colors.textSecondary};
    }
  }
`,_B=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.md};
  margin-top: ${({theme:e})=>e.spacing.lg};

  @media (max-width: 480px) {
    flex-direction: column;
  }
`,vB=L(N.button)`
  flex: 1;
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  background: linear-gradient(135deg, #FFD700, #FFA500);
  color: white;
  border: none;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({theme:e})=>e.spacing.sm};
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }

  &:hover::before {
    left: 100%;
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .icon {
    font-size: 1.1rem;
  }
`,yB=L(N.button)`
  flex: 1;
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  background: transparent;
  color: ${({theme:e})=>e.colors.primary};
  border: 2px solid ${({theme:e})=>e.colors.primary};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({theme:e})=>e.spacing.sm};
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    background: ${({theme:e})=>e.colors.primary};
    color: white;
  }

  .icon {
    font-size: 1.1rem;
  }
`,bB=L(N.div)`
  position: fixed;
  top: 20px;
  right: 20px;
  background: ${({type:e})=>e===`success`?`linear-gradient(135deg, #4CAF50, #66BB6A)`:`linear-gradient(135deg, #f44336, #ef5350)`};
  color: white;
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  box-shadow: ${({theme:e})=>e.shadows.xl};
  z-index: 1000;
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.sm};
  font-weight: 600;

  .icon {
    font-size: 1.2rem;
  }
`,xB=({certificate:e,index:t})=>{let[n,r]=(0,b.useState)(!1),[i,a]=(0,b.useState)(null),o=e=>e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`}):`N/A`;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(cB,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.1},whileHover:{scale:1.02},children:[(0,R.jsxs)(lB,{children:[(0,R.jsxs)(uB,{children:[(0,R.jsxs)(dB,{children:[(0,R.jsx)(`div`,{className:`certificate-icon`,children:`🏆`}),e.studentName]}),(0,R.jsxs)(fB,{children:[(0,R.jsxs)(`div`,{className:`detail-item`,children:[(0,R.jsx)(`span`,{className:`icon`,children:`🏢`}),(0,R.jsx)(`span`,{className:`label`,children:`Company:`}),(0,R.jsx)(`span`,{children:e.companyName})]}),(0,R.jsxs)(`div`,{className:`detail-item`,children:[(0,R.jsx)(`span`,{className:`icon`,children:`💼`}),(0,R.jsx)(`span`,{className:`label`,children:`Role:`}),(0,R.jsx)(`span`,{children:e.internshipTitle})]}),(0,R.jsxs)(`div`,{className:`detail-item`,children:[(0,R.jsx)(`span`,{className:`icon`,children:`📅`}),(0,R.jsx)(`span`,{className:`label`,children:`Completed:`}),(0,R.jsx)(`span`,{children:o(e.completedAt)})]}),(0,R.jsxs)(`div`,{className:`detail-item`,children:[(0,R.jsx)(`span`,{className:`icon`,children:`📄`}),(0,R.jsx)(`span`,{className:`label`,children:`Generated:`}),(0,R.jsx)(`span`,{children:o(e.createdAt)})]})]})]}),(0,R.jsxs)(pB,{status:e.status||`generated`,initial:{scale:0},animate:{scale:1},transition:{delay:.3},children:[(0,R.jsx)(`span`,{className:`icon`,children:(e=>{switch(e){case`generated`:return`✅`;case`pending`:return`⏳`;case`failed`:return`❌`;default:return`📄`}})(e.status)}),e.status||`Generated`]})]}),(0,R.jsxs)(mB,{children:[(0,R.jsx)(`div`,{className:`preview-icon`,children:`🏆`}),(0,R.jsx)(`div`,{className:`preview-text`,children:`Internship Completion Certificate`}),(0,R.jsx)(`div`,{className:`preview-subtitle`,children:`This certificate validates the successful completion of the internship program`})]}),(0,R.jsxs)(hB,{children:[(0,R.jsxs)(`div`,{className:`summary-header`,children:[(0,R.jsx)(`span`,{children:`📋`}),`Internship Summary`]}),(0,R.jsxs)(`div`,{className:`summary-grid`,children:[(0,R.jsxs)(`div`,{className:`summary-item`,children:[(0,R.jsx)(`div`,{className:`label`,children:`Duration`}),(0,R.jsx)(`div`,{className:`value`,children:e.duration||`3 months`})]}),(0,R.jsxs)(`div`,{className:`summary-item`,children:[(0,R.jsx)(`div`,{className:`label`,children:`Department`}),(0,R.jsx)(`div`,{className:`value`,children:e.department||`Technology`})]}),(0,R.jsxs)(`div`,{className:`summary-item`,children:[(0,R.jsx)(`div`,{className:`label`,children:`Mentor`}),(0,R.jsx)(`div`,{className:`value`,children:e.mentorName||`N/A`})]}),(0,R.jsxs)(`div`,{className:`summary-item`,children:[(0,R.jsx)(`div`,{className:`label`,children:`Location`}),(0,R.jsx)(`div`,{className:`value`,children:e.location||`Remote`})]})]})]}),e.performance&&(0,R.jsxs)(gB,{children:[(0,R.jsxs)(`div`,{className:`metrics-header`,children:[(0,R.jsx)(`span`,{children:`📊`}),`Performance Metrics`]}),(0,R.jsxs)(`div`,{className:`metrics-grid`,children:[(0,R.jsxs)(`div`,{className:`metric-item`,children:[(0,R.jsxs)(`div`,{className:`metric-value`,color:(e=>e>=4.5?`#4CAF50`:e>=4?`#2196F3`:e>=3.5?`#FF9800`:`#f44336`)(e.performance.overall||4),children:[e.performance.overall||`4.2`,`/5`]}),(0,R.jsx)(`div`,{className:`metric-label`,children:`Overall Rating`})]}),(0,R.jsxs)(`div`,{className:`metric-item`,children:[(0,R.jsx)(`div`,{className:`metric-value`,color:`#4CAF50`,children:e.performance.projectsCompleted||`5`}),(0,R.jsx)(`div`,{className:`metric-label`,children:`Projects`})]}),(0,R.jsxs)(`div`,{className:`metric-item`,children:[(0,R.jsx)(`div`,{className:`metric-value`,color:`#2196F3`,children:e.performance.skillsGained||`8`}),(0,R.jsx)(`div`,{className:`metric-label`,children:`Skills Gained`})]}),(0,R.jsxs)(`div`,{className:`metric-item`,children:[(0,R.jsxs)(`div`,{className:`metric-value`,color:`#FF9800`,children:[e.performance.attendanceRate||`95`,`%`]}),(0,R.jsx)(`div`,{className:`metric-label`,children:`Attendance`})]})]})]}),(0,R.jsxs)(_B,{children:[(0,R.jsxs)(vB,{onClick:async()=>{if(!(n||!e.fileUrl)){r(!0);try{let t=await Yj(Xj(MM,e.fileUrl)),n=document.createElement(`a`);n.href=t,n.download=`${e.studentName}_${e.internshipTitle}_Certificate.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),a({type:`success`,message:`Certificate downloaded successfully!`}),setTimeout(()=>a(null),3e3)}catch(e){console.error(`Error downloading certificate:`,e),a({type:`error`,message:`Failed to download certificate. Please try again.`}),setTimeout(()=>a(null),3e3)}finally{r(!1)}}},disabled:n||!e.fileUrl,whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`span`,{className:`icon`,children:n?`⏳`:`📥`}),n?`Downloading...`:`Download Certificate`]}),(0,R.jsxs)(yB,{onClick:async()=>{try{navigator.share?await navigator.share({title:`${e.studentName} - Internship Certificate`,text:`${e.studentName} has successfully completed their internship at ${e.companyName}`,url:window.location.href}):(await navigator.clipboard.writeText(`🎉 ${e.studentName} has successfully completed their internship as ${e.internshipTitle} at ${e.companyName}!`),a({type:`success`,message:`Certificate details copied to clipboard!`}),setTimeout(()=>a(null),3e3))}catch(e){console.error(`Error sharing certificate:`,e),a({type:`error`,message:`Failed to share certificate.`}),setTimeout(()=>a(null),3e3)}},whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(`span`,{className:`icon`,children:`📤`}),`Share Achievement`]})]})]}),(0,R.jsx)(Iu,{children:i&&(0,R.jsxs)(bB,{type:i.type,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:.3},children:[(0,R.jsx)(`span`,{className:`icon`,children:i.type===`success`?`✅`:`❌`}),i.message]})})]})},SB=Ip`
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(-100vh) rotate(360deg);
    opacity: 0;
  }
`,CB=Ip`
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
`,wB=L.div`
  min-height: 100vh;
  background: ${({theme:e})=>e.colors.background};
  padding: ${({theme:e})=>e.spacing.xl};

  @media (max-width: 768px) {
    padding: ${({theme:e})=>e.spacing.lg};
  }
`,TB=L(N.div)`
  max-width: 1200px;
  margin: 0 auto ${({theme:e})=>e.spacing.xl} auto;
  text-align: center;

  .header-icon {
    font-size: 4rem;
    margin-bottom: ${({theme:e})=>e.spacing.lg};
    animation: ${SB} 3s ease-out infinite;
  }

  .header-title {
    font-size: ${({theme:e})=>e.typography.fontSize.xxxl};
    font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
    background: ${({theme:e})=>e.colors.gradient};
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .header-subtitle {
    font-size: ${({theme:e})=>e.typography.fontSize.lg};
    color: ${({theme:e})=>e.colors.textSecondary};
    margin-bottom: ${({theme:e})=>e.spacing.lg};
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
  }
`,EB=L(N.div)`
  max-width: 1200px;
  margin: 0 auto ${({theme:e})=>e.spacing.xl} auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};

  @media (max-width: 768px) {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: ${({theme:e})=>e.spacing.md};
  }
`,DB=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.xl};
  padding: ${({theme:e})=>e.spacing.lg};
  text-align: center;
  position: relative;
  overflow: hidden;
  box-shadow: ${({theme:e})=>e.shadows.md};

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: ${({color:e})=>e||`linear-gradient(90deg, #FFD700, #FFA500)`};
  }

  &:hover {
    transform: translateY(-4px);
    box-shadow: ${({theme:e})=>e.shadows.xl};
  }

  .stat-icon {
    font-size: 2.5rem;
    margin-bottom: ${({theme:e})=>e.spacing.md};
  }

  .stat-number {
    font-size: ${({theme:e})=>e.typography.fontSize.xxl};
    font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
    color: ${({color:e})=>e||`#FFD700`};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
    display: block;
  }

  .stat-label {
    font-size: ${({theme:e})=>e.typography.fontSize.sm};
    color: ${({theme:e})=>e.colors.textSecondary};
    font-weight: ${({theme:e})=>e.typography.fontWeight.medium};
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .stat-description {
    font-size: ${({theme:e})=>e.typography.fontSize.xs};
    color: ${({theme:e})=>e.colors.textTertiary};
    margin-top: ${({theme:e})=>e.spacing.xs};
    line-height: 1.4;
  }
`,OB=L(N.div)`
  max-width: 1200px;
  margin: 0 auto ${({theme:e})=>e.spacing.xl} auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: ${({theme:e})=>e.spacing.md};

  .filter-controls {
    display: flex;
    gap: ${({theme:e})=>e.spacing.sm};
    flex-wrap: wrap;
  }

  .view-controls {
    display: flex;
    gap: ${({theme:e})=>e.spacing.sm};
  }

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,kB=L(N.button)`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.md};
  border: 2px solid ${({theme:e,active:t})=>t?e.colors.primary:e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  background: ${({theme:e,active:t})=>t?e.colors.primary:`transparent`};
  color: ${({theme:e,active:t})=>t?`white`:e.colors.text};
  font-size: ${({theme:e})=>e.typography.fontSize.sm};
  font-weight: ${({theme:e})=>e.typography.fontWeight.medium};
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};

  &:hover {
    background: ${({theme:e,active:t})=>t?e.colors.primaryDark:e.colors.surface};
    transform: translateY(-2px);
  }

  .filter-icon {
    font-size: 1rem;
  }
`,AB=L(N.button)`
  padding: ${({theme:e})=>e.spacing.sm};
  border: 1px solid ${({theme:e})=>e.colors.border};
  background: ${({theme:e,active:t})=>t?e.colors.primary:e.colors.background};
  color: ${({theme:e,active:t})=>t?`white`:e.colors.text};
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;

  &:first-child {
    border-radius: ${({theme:e})=>e.borderRadius.md} 0 0 ${({theme:e})=>e.borderRadius.md};
  }

  &:last-child {
    border-radius: 0 ${({theme:e})=>e.borderRadius.md} ${({theme:e})=>e.borderRadius.md} 0;
    border-left: none;
  }

  &:hover {
    background: ${({theme:e,active:t})=>t?e.colors.primaryDark:e.colors.surface};
  }

  .view-icon {
    font-size: 1.2rem;
  }
`,jB=L(N.div)`
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: ${({viewMode:e})=>e===`grid`?`repeat(auto-fill, minmax(400px, 1fr))`:`1fr`};
  gap: ${({theme:e})=>e.spacing.xl};

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    gap: ${({theme:e})=>e.spacing.lg};
  }
`,MB=L.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: ${({theme:e})=>e.spacing.xxxl};
  text-align: center;

  .loading-icon {
    font-size: 4rem;
    margin-bottom: ${({theme:e})=>e.spacing.lg};
    animation: ${CB} 2s infinite;
    background: linear-gradient(90deg, #FFD700, #FFA500, #FFD700);
    background-size: 200% 100%;
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .loading-text {
    font-size: ${({theme:e})=>e.typography.fontSize.lg};
    color: ${({theme:e})=>e.colors.text};
    font-weight: ${({theme:e})=>e.typography.fontWeight.medium};
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  .loading-description {
    font-size: ${({theme:e})=>e.typography.fontSize.sm};
    color: ${({theme:e})=>e.colors.textSecondary};
    max-width: 400px;
    line-height: 1.5;
  }
`,NB=L(N.div)`
  text-align: center;
  padding: ${({theme:e})=>e.spacing.xxxl};
  max-width: 600px;
  margin: 0 auto;

  .empty-icon {
    font-size: 5rem;
    margin-bottom: ${({theme:e})=>e.spacing.lg};
    opacity: 0.5;
  }

  .empty-title {
    font-size: ${({theme:e})=>e.typography.fontSize.xl};
    font-weight: ${({theme:e})=>e.typography.fontWeight.bold};
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.md};
  }

  .empty-description {
    font-size: ${({theme:e})=>e.typography.fontSize.md};
    color: ${({theme:e})=>e.colors.textSecondary};
    line-height: 1.6;
    margin-bottom: ${({theme:e})=>e.spacing.lg};
  }

  .empty-action {
    padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.xl};
    background: ${({theme:e})=>e.colors.gradient};
    color: white;
    border: none;
    border-radius: ${({theme:e})=>e.borderRadius.lg};
    font-size: ${({theme:e})=>e.typography.fontSize.md};
    font-weight: ${({theme:e})=>e.typography.fontWeight.semibold};
    cursor: pointer;
    transition: all 0.3s ease;

    &:hover {
      transform: translateY(-2px);
      box-shadow: ${({theme:e})=>e.shadows.lg};
    }
  }
`,PB=L(N.div)`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1000;
`,FB=L(N.div)`
  position: absolute;
  width: 10px;
  height: 10px;
  background: ${({color:e})=>e};
  border-radius: 2px;
`,IB=()=>{let{currentUser:e}=$M(),{addNotification:t}=aN(),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)(!0),[o,s]=(0,b.useState)(`all`),[c,l]=(0,b.useState)(`grid`),[u,d]=(0,b.useState)(!1),[f,p]=(0,b.useState)({total:0,excellence:0,completion:0,recent:0});(0,b.useEffect)(()=>{if(!e)return;let t=[{id:`cert1`,studentName:e.displayName||`Student User`,companyName:`TechCorp Solutions`,internshipTitle:`Frontend Developer Intern`,completedAt:new Date(`2024-08-15`),generatedAt:new Date(`2024-08-16`),performance:{category:`Excellence`,score:95,feedback:`Outstanding performance throughout the internship`},duration:`3 months`,department:`Engineering`,mentorName:`Dr. Sarah Johnson`,location:`Bangalore, India`,certificateUrl:`#`,skills:[`React`,`JavaScript`,`HTML`,`CSS`],projects:[`E-commerce Platform`,`Dashboard Analytics`]},{id:`cert2`,studentName:e.displayName||`Student User`,companyName:`Innovation Labs`,internshipTitle:`Full Stack Developer Intern`,completedAt:new Date(`2024-07-20`),generatedAt:new Date(`2024-07-21`),performance:{category:`Completion`,score:88,feedback:`Good technical skills and team collaboration`},duration:`6 months`,department:`Product Development`,mentorName:`Mr. Raj Patel`,location:`Mumbai, India`,certificateUrl:`#`,skills:[`Node.js`,`MongoDB`,`Express`,`React`],projects:[`Social Media App`,`API Development`]},{id:`cert3`,studentName:e.displayName||`Student User`,companyName:`DataTech Analytics`,internshipTitle:`Python Developer Intern`,completedAt:new Date(`2024-06-10`),generatedAt:new Date(`2024-06-11`),performance:{category:`Excellence`,score:92,feedback:`Exceptional problem-solving abilities`},duration:`4 months`,department:`Data Science`,mentorName:`Dr. Priya Sharma`,location:`Hyderabad, India`,certificateUrl:`#`,skills:[`Python`,`Django`,`SQL`,`Data Analysis`],projects:[`Data Pipeline`,`ML Model Deployment`]}];setTimeout(()=>{r(t),m(t),a(!1)},1e3)},[e]);let m=e=>{let t=e.length,n=e.filter(e=>e.performance?.category===`Excellence`).length,r=e.filter(e=>e.performance?.category===`Completion`).length,i=new Date;i.setDate(i.getDate()-30);let a=e.filter(e=>(e.generatedAt?.toDate?e.generatedAt.toDate():new Date(e.generatedAt))>i).length;p({total:t,excellence:n,completion:r,recent:a})},h=(()=>{switch(o){case`excellence`:return n.filter(e=>e.performance?.category===`Excellence`);case`completion`:return n.filter(e=>e.performance?.category===`Completion`);case`recent`:let e=new Date;return e.setDate(e.getDate()-30),n.filter(t=>(t.generatedAt?.toDate?t.generatedAt.toDate():new Date(t.generatedAt))>e);default:return n}})();return i?(0,R.jsx)(wB,{children:(0,R.jsxs)(MB,{children:[(0,R.jsx)(`div`,{className:`loading-icon`,children:`🏆`}),(0,R.jsx)(`div`,{className:`loading-text`,children:`Loading Your Certificates`}),(0,R.jsx)(`div`,{className:`loading-description`,children:`Please wait while we fetch your achievement certificates...`})]})}):(0,R.jsxs)(wB,{children:[(0,R.jsxs)(TB,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,R.jsx)(`div`,{className:`header-icon`,children:`🏆`}),(0,R.jsx)(`h1`,{className:`header-title`,children:`My Certificates`}),(0,R.jsx)(`p`,{className:`header-subtitle`,children:`Your collection of internship completion certificates and achievements. Download, share, and showcase your professional accomplishments.`})]}),n.length>0&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(EB,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[(0,R.jsxs)(DB,{color:`#FFD700`,children:[(0,R.jsx)(`div`,{className:`stat-icon`,children:`🏆`}),(0,R.jsx)(`span`,{className:`stat-number`,children:f.total}),(0,R.jsx)(`div`,{className:`stat-label`,children:`Total Certificates`}),(0,R.jsx)(`div`,{className:`stat-description`,children:`Complete collection of your achievements`})]}),(0,R.jsxs)(DB,{color:`#4CAF50`,children:[(0,R.jsx)(`div`,{className:`stat-icon`,children:`⭐`}),(0,R.jsx)(`span`,{className:`stat-number`,children:f.excellence}),(0,R.jsx)(`div`,{className:`stat-label`,children:`Excellence Awards`}),(0,R.jsx)(`div`,{className:`stat-description`,children:`Outstanding performance recognition`})]}),(0,R.jsxs)(DB,{color:`#2196F3`,children:[(0,R.jsx)(`div`,{className:`stat-icon`,children:`✅`}),(0,R.jsx)(`span`,{className:`stat-number`,children:f.completion}),(0,R.jsx)(`div`,{className:`stat-label`,children:`Completion Certificates`}),(0,R.jsx)(`div`,{className:`stat-description`,children:`Successfully completed internships`})]}),(0,R.jsxs)(DB,{color:`#FF9800`,children:[(0,R.jsx)(`div`,{className:`stat-icon`,children:`🆕`}),(0,R.jsx)(`span`,{className:`stat-number`,children:f.recent}),(0,R.jsx)(`div`,{className:`stat-label`,children:`Recent (30 days)`}),(0,R.jsx)(`div`,{className:`stat-description`,children:`Newly generated certificates`})]})]}),(0,R.jsxs)(OB,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[(0,R.jsx)(`div`,{className:`filter-controls`,children:[{key:`all`,label:`All Certificates`,icon:`📜`},{key:`excellence`,label:`Excellence`,icon:`⭐`},{key:`completion`,label:`Completion`,icon:`✅`},{key:`recent`,label:`Recent`,icon:`🆕`}].map(e=>(0,R.jsxs)(kB,{active:o===e.key,onClick:()=>s(e.key),whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,R.jsx)(`span`,{className:`filter-icon`,children:e.icon}),e.label]},e.key))}),(0,R.jsxs)(`div`,{className:`view-controls`,children:[(0,R.jsx)(AB,{active:c===`grid`,onClick:()=>l(`grid`),whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,R.jsx)(`span`,{className:`view-icon`,children:`⊞`})}),(0,R.jsx)(AB,{active:c===`list`,onClick:()=>l(`list`),whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,R.jsx)(`span`,{className:`view-icon`,children:`☰`})})]})]})]}),(0,R.jsx)(Iu,{mode:`wait`,children:h.length===0?(0,R.jsxs)(NB,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.5},children:[(0,R.jsx)(`div`,{className:`empty-icon`,children:n.length===0?`📭`:`🔍`}),(0,R.jsx)(`h2`,{className:`empty-title`,children:n.length===0?`No Certificates Yet`:`No Matching Certificates`}),(0,R.jsx)(`p`,{className:`empty-description`,children:n.length===0?`Complete your internships and receive mentor feedback to earn certificates. Your achievements will appear here once they're ready.`:`No certificates match your current filter. Try selecting a different filter to view more certificates.`}),n.length===0&&(0,R.jsx)(`button`,{className:`empty-action`,onClick:()=>window.location.href=`/student/dashboard`,children:`View Available Internships`})]},`empty`):(0,R.jsx)(jB,{viewMode:c,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:h.map((e,t)=>(0,R.jsx)(xB,{certificate:e,index:t},e.id))},`certificates`)}),(0,R.jsx)(Iu,{children:u&&(0,R.jsx)(PB,{children:[...Array(30)].map((e,t)=>(0,R.jsx)(FB,{color:[`#FFD700`,`#FFA500`,`#4CAF50`,`#2196F3`,`#FF9800`][t%5],initial:{x:Math.random()*window.innerWidth,y:-10,rotate:0,scale:1},animate:{y:window.innerHeight+10,rotate:360,scale:[1,1.2,.8,1]},transition:{duration:3,delay:t*.1,ease:`easeOut`}},t))})})]})},LB=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xl} 0;
  background: ${({theme:e})=>e.colors.surface};
`,RB=L.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 ${({theme:e})=>e.spacing.md};

  @media (max-width: 768px) {
    padding: 0 ${({theme:e})=>e.spacing.sm};
  }
`,zB=L.div`
  text-align: center;
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
`,BB=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.md};

  span {
    color: ${({theme:e})=>e.colors.primary};
  }
`,VB=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 1.1rem;
  max-width: 600px;
  margin: 0 auto;
`,HB=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.xxl};
`,UB=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  text-align: center;

  .icon {
    font-size: 2rem;
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  .value {
    font-size: 2rem;
    font-weight: 700;
    color: ${({theme:e})=>e.colors.primary};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .label {
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.9rem;
  }
`,WB=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.sm};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
  overflow-x: auto;
  padding-bottom: ${({theme:e})=>e.spacing.sm};

  @media (max-width: 768px) {
    justify-content: flex-start;
  }
`,GB=L(N.button)`
  padding: ${({theme:e})=>e.spacing.md} ${({theme:e})=>e.spacing.lg};
  border: 2px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({theme:e,active:t})=>t?e.colors.primary:e.colors.background};
  color: ${({theme:e,active:t})=>t?`white`:e.colors.text};
  font-weight: 600;
  cursor: pointer;
  transition: all ${({theme:e})=>e.transitions.fast};
  white-space: nowrap;

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    ${({active:e,theme:t})=>!e&&`color: ${t.colors.primary};`}
  }
`,KB=L.div`
  display: grid;
  gap: ${({theme:e})=>e.spacing.lg};
`,qB=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  transition: all ${({theme:e})=>e.transitions.normal};

  &:hover {
    transform: translateY(-2px);
    box-shadow: ${({theme:e})=>e.shadows.lg};
    border-color: ${({theme:e})=>e.colors.primary};
  }
`,JB=L.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: ${({theme:e})=>e.spacing.lg};
  gap: ${({theme:e})=>e.spacing.md};

  @media (max-width: 768px) {
    flex-direction: column;
    align-items: stretch;
  }
`,YB=L.div`
  flex: 1;

  .name {
    font-size: 1.2rem;
    font-weight: 600;
    color: ${({theme:e})=>e.colors.text};
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .email {
    color: ${({theme:e})=>e.colors.textSecondary};
    font-size: 0.9rem;
    margin-bottom: ${({theme:e})=>e.spacing.sm};
  }

  .requested-role {
    display: inline-flex;
    align-items: center;
    gap: ${({theme:e})=>e.spacing.xs};
    padding: ${({theme:e})=>e.spacing.xs} ${({theme:e})=>e.spacing.sm};
    background: rgba(211, 47, 47, 0.1);
    color: ${({theme:e})=>e.colors.primary};
    border-radius: ${({theme:e})=>e.borderRadius.sm};
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
  }
`,XB=L.div`
  text-align: right;
  font-size: 0.8rem;
  color: ${({theme:e})=>e.colors.textSecondary};

  @media (max-width: 768px) {
    text-align: left;
  }

  .date {
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .id {
    font-family: monospace;
    background: ${({theme:e})=>e.colors.surface};
    padding: ${({theme:e})=>e.spacing.xs};
    border-radius: ${({theme:e})=>e.borderRadius.sm};
  }
`,ZB=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.lg};
`,QB=L.div`
  .label {
    font-size: 0.8rem;
    font-weight: 600;
    color: ${({theme:e})=>e.colors.textSecondary};
    text-transform: uppercase;
    margin-bottom: ${({theme:e})=>e.spacing.xs};
  }

  .value {
    color: ${({theme:e})=>e.colors.text};
    font-size: 0.9rem;
  }
`,$B=L.div`
  display: flex;
  gap: ${({theme:e})=>e.spacing.md};
  justify-content: flex-end;

  @media (max-width: 768px) {
    justify-content: stretch;
  }
`,eV=L(N.button)`
  padding: ${({theme:e})=>e.spacing.sm} ${({theme:e})=>e.spacing.lg};
  border-radius: ${({theme:e})=>e.borderRadius.md};
  font-weight: 600;
  cursor: pointer;
  border: 2px solid transparent;
  transition: all ${({theme:e})=>e.transitions.fast};
  display: flex;
  align-items: center;
  gap: ${({theme:e})=>e.spacing.xs};

  &.approve {
    background: #4caf50;
    color: white;
    border-color: #4caf50;

    &:hover {
      background: #45a049;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
    }
  }

  &.reject {
    background: transparent;
    color: #f44336;
    border-color: #f44336;

    &:hover {
      background: #f44336;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(244, 67, 54, 0.3);
    }
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }

  @media (max-width: 768px) {
    flex: 1;
    justify-content: center;
  }
`,tV=L.div`
  text-align: center;
  padding: ${({theme:e})=>e.spacing.xxl};
  color: ${({theme:e})=>e.colors.textSecondary};

  .icon {
    font-size: 4rem;
    margin-bottom: ${({theme:e})=>e.spacing.lg};
  }

  .message {
    font-size: 1.1rem;
    margin-bottom: ${({theme:e})=>e.spacing.md};
  }

  .submessage {
    font-size: 0.9rem;
  }
`,nV=L(N.div)`
  width: 40px;
  height: 40px;
  border: 3px solid ${({theme:e})=>e.colors.border};
  border-top: 3px solid ${({theme:e})=>e.colors.primary};
  border-radius: 50%;
  margin: ${({theme:e})=>e.spacing.xxl} auto;
  animation: spin 1s linear infinite;

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`,rV=()=>{let{currentUser:e,hasRole:t}=$M(),[n,r]=(0,b.useState)([]),[i,a]=(0,b.useState)(!0),[o,s]=(0,b.useState)(`pending`),[c,l]=(0,b.useState)(new Set),u=t([GM.PLACEMENT,GM.ADMIN]);(0,b.useEffect)(()=>{if(!u||!e)return;let t=[{id:`req1`,userId:`user1`,userEmail:`john.doe@university.edu`,requestedRole:GM.STUDENT,status:`pending`,createdAt:new Date(`2024-09-28`),additionalInfo:{name:`John Doe`,studentId:`CS2021001`,department:`Computer Science`,year:`3rd Year`}},{id:`req2`,userId:`user2`,userEmail:`jane.smith@university.edu`,requestedRole:GM.STUDENT,status:`pending`,createdAt:new Date(`2024-09-27`),additionalInfo:{name:`Jane Smith`,studentId:`EC2021045`,department:`Electronics`,year:`4th Year`}},{id:`req3`,userId:`user3`,userEmail:`recruiter@techcorp.com`,requestedRole:GM.RECRUITER,status:`pending`,createdAt:new Date(`2024-09-26`),additionalInfo:{name:`Sarah Johnson`,company:`TechCorp Solutions`,position:`HR Manager`,companySize:`500+ employees`}},{id:`req4`,userId:`user4`,userEmail:`dr.patel@university.edu`,requestedRole:GM.FACULTY,status:`pending`,createdAt:new Date(`2024-09-25`),additionalInfo:{name:`Dr. Raj Patel`,department:`Computer Science`,position:`Assistant Professor`,experience:`8 years`}},{id:`req5`,userId:`user5`,userEmail:`alex.kumar@university.edu`,requestedRole:GM.STUDENT,status:`pending`,createdAt:new Date(`2024-09-24`),additionalInfo:{name:`Alex Kumar`,studentId:`ME2021078`,department:`Mechanical Engineering`,year:`2nd Year`}}];setTimeout(()=>{r(t),a(!1)},1e3)},[u,e]);let d=async(t,n,i)=>{if(!c.has(t)){l(e=>new Set(e).add(t));try{await ZM(t,`approved`,e.uid),await WM({uid:n,role:i}),await UM(n,{role:i,approved:!0,requestedRole:null,approvedAt:new Date,approvedBy:e.uid});let a=await XM();r(a),console.log(`Approved ${n} for role ${i}`)}catch(e){console.error(`Error approving user:`,e),alert(`Failed to approve user. Please try again.`)}finally{l(e=>{let n=new Set(e);return n.delete(t),n})}}},f=async(t,n)=>{if(!c.has(t)){l(e=>new Set(e).add(t));try{await ZM(t,`rejected`,e.uid);let n=await XM();r(n),console.log(`Rejected request ${t}`)}catch(e){console.error(`Error rejecting user:`,e),alert(`Failed to reject user. Please try again.`)}finally{l(e=>{let n=new Set(e);return n.delete(t),n})}}},p=()=>n.filter(e=>{switch(o){case`pending`:return e.status===`pending`;case`students`:return e.requestedRole===GM.STUDENT;case`recruiters`:return e.requestedRole===GM.RECRUITER;case`faculty`:return e.requestedRole===GM.FACULTY;default:return!0}}),m=()=>{let e=n.filter(e=>e.status===`pending`).length,t=n.filter(e=>e.requestedRole===GM.STUDENT).length,r=n.filter(e=>e.requestedRole===GM.RECRUITER).length,i=n.filter(e=>e.requestedRole===GM.FACULTY).length;return{pending:e,students:t,recruiters:r,faculty:i}},h=e=>{if(!e)return`Unknown`;let t=e.toDate?e.toDate():new Date(e);return t.toLocaleDateString()+` `+t.toLocaleTimeString()},g=e=>{switch(e){case GM.STUDENT:return`🎓`;case GM.FACULTY:return`👨‍🏫`;case GM.RECRUITER:return`🏢`;case GM.PLACEMENT:return`📋`;default:return`👤`}};if(!u)return(0,R.jsx)(LB,{children:(0,R.jsx)(RB,{children:(0,R.jsxs)(tV,{children:[(0,R.jsx)(`div`,{className:`icon`,children:`🚫`}),(0,R.jsx)(`div`,{className:`message`,children:`Access Denied`}),(0,R.jsx)(`div`,{className:`submessage`,children:`You don't have permission to access this page.`})]})})});let _=m(),v=p();return(0,R.jsx)(LB,{children:(0,R.jsxs)(RB,{children:[(0,R.jsxs)(zB,{children:[(0,R.jsxs)(BB,{children:[`Role `,(0,R.jsx)(`span`,{children:`Approvals`})]}),(0,R.jsx)(VB,{children:`Review and approve user role requests for the campus placement portal`})]}),(0,R.jsxs)(HB,{children:[(0,R.jsxs)(UB,{whileHover:{scale:1.02},children:[(0,R.jsx)(`div`,{className:`icon`,children:`⏳`}),(0,R.jsx)(`div`,{className:`value`,children:_.pending}),(0,R.jsx)(`div`,{className:`label`,children:`Pending Requests`})]}),(0,R.jsxs)(UB,{whileHover:{scale:1.02},children:[(0,R.jsx)(`div`,{className:`icon`,children:`🎓`}),(0,R.jsx)(`div`,{className:`value`,children:_.students}),(0,R.jsx)(`div`,{className:`label`,children:`Student Requests`})]}),(0,R.jsxs)(UB,{whileHover:{scale:1.02},children:[(0,R.jsx)(`div`,{className:`icon`,children:`🏢`}),(0,R.jsx)(`div`,{className:`value`,children:_.recruiters}),(0,R.jsx)(`div`,{className:`label`,children:`Recruiter Requests`})]}),(0,R.jsxs)(UB,{whileHover:{scale:1.02},children:[(0,R.jsx)(`div`,{className:`icon`,children:`👨‍🏫`}),(0,R.jsx)(`div`,{className:`value`,children:_.faculty}),(0,R.jsx)(`div`,{className:`label`,children:`Faculty Requests`})]})]}),(0,R.jsx)(WB,{children:[{key:`pending`,label:`Pending`,count:_.pending},{key:`students`,label:`Students`,count:_.students},{key:`recruiters`,label:`Recruiters`,count:_.recruiters},{key:`faculty`,label:`Faculty`,count:_.faculty}].map(e=>(0,R.jsxs)(GB,{active:o===e.key,onClick:()=>s(e.key),whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.label,` (`,e.count,`)`]},e.key))}),i?(0,R.jsx)(nV,{}):v.length===0?(0,R.jsxs)(tV,{children:[(0,R.jsx)(`div`,{className:`icon`,children:`📭`}),(0,R.jsx)(`div`,{className:`message`,children:`No requests found`}),(0,R.jsx)(`div`,{className:`submessage`,children:o===`pending`?`All role requests have been processed`:`No ${o} requests at this time`})]}):(0,R.jsx)(KB,{children:(0,R.jsx)(Iu,{children:v.map(e=>(0,R.jsxs)(qB,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,R.jsxs)(JB,{children:[(0,R.jsxs)(YB,{children:[(0,R.jsx)(`div`,{className:`name`,children:e.name||`Unknown User`}),(0,R.jsx)(`div`,{className:`email`,children:e.userEmail}),e.requestedRole&&(0,R.jsxs)(`div`,{className:`requested-role`,children:[g(e.requestedRole),` `,e.requestedRole]})]}),(0,R.jsxs)(XB,{children:[(0,R.jsx)(`div`,{className:`date`,children:h(e.createdAt)}),(0,R.jsxs)(`div`,{className:`id`,children:[e.id.substring(0,8),`...`]})]})]}),(0,R.jsxs)(ZB,{children:[e.department&&(0,R.jsxs)(QB,{children:[(0,R.jsx)(`div`,{className:`label`,children:`Department`}),(0,R.jsx)(`div`,{className:`value`,children:e.department})]}),e.year&&(0,R.jsxs)(QB,{children:[(0,R.jsx)(`div`,{className:`label`,children:`Year`}),(0,R.jsx)(`div`,{className:`value`,children:e.year})]}),e.rollNumber&&(0,R.jsxs)(QB,{children:[(0,R.jsx)(`div`,{className:`label`,children:`Roll Number`}),(0,R.jsx)(`div`,{className:`value`,children:e.rollNumber})]}),e.phone&&(0,R.jsxs)(QB,{children:[(0,R.jsx)(`div`,{className:`label`,children:`Phone`}),(0,R.jsx)(`div`,{className:`value`,children:e.phone})]})]}),e.status===`pending`&&(0,R.jsxs)($B,{children:[(0,R.jsxs)(eV,{className:`approve`,onClick:()=>d(e.id,e.userId,e.requestedRole),disabled:c.has(e.id),whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.has(e.id)?`⏳`:`✅`,` Approve`]}),(0,R.jsxs)(eV,{className:`reject`,onClick:()=>f(e.id,e.userId),disabled:c.has(e.id),whileHover:{scale:1.05},whileTap:{scale:.95},children:[c.has(e.id)?`⏳`:`❌`,` Reject`]})]})]},e.id))})})]})})},iV=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.surface};
`,aV=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,oV=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,sV=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 1.1rem;
`,cV=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,lV=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.sm};
`,uV=L.div`
  width: 50px;
  height: 50px;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({color:e})=>e||`#3B82F6`};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  margin-bottom: ${({theme:e})=>e.spacing.md};
`,dV=L.div`
  font-size: 2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,fV=L.div`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,pV=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: ${({theme:e})=>e.spacing.md};
`,mV=L(N.button)`
  padding: ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  cursor: pointer;
  text-align: left;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: ${({theme:e})=>e.shadows.md};
  }
`,hV=L.div`
  font-size: 1.5rem;
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,gV=L.div`
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.xs};
`,_V=L.div`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,vV=()=>{let{userProfile:e}=$M(),t=Ye(),n=e=>{switch(e){case`Manage Users`:t(`/admin/role-approvals`);break;case`Company Management`:alert(`Company Management feature coming soon!`);break;case`Analytics`:alert(`Analytics feature coming soon!`);break;case`System Settings`:t(`/settings`);break;case`Notifications`:alert(`Notifications feature coming soon!`);break;case`Security`:alert(`Security settings feature coming soon!`);break;default:console.log(`Unknown action:`,e)}};return(0,R.jsxs)(iV,{children:[(0,R.jsxs)(aV,{children:[(0,R.jsx)(oV,{children:`Admin Dashboard`}),(0,R.jsxs)(sV,{children:[`Welcome back, `,e?.name||`Administrator`,`! Here's your system overview.`]})]}),(0,R.jsx)(cV,{children:[{icon:`👥`,value:`1,234`,label:`Total Students`,color:`#3B82F6`},{icon:`🏢`,value:`89`,label:`Active Companies`,color:`#10B981`},{icon:`💼`,value:`156`,label:`Job Postings`,color:`#F59E0B`},{icon:`✅`,value:`78%`,label:`Placement Rate`,color:`#EF4444`}].map((e,t)=>(0,R.jsxs)(lV,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},children:[(0,R.jsx)(uV,{color:e.color,children:e.icon}),(0,R.jsx)(dV,{children:e.value}),(0,R.jsx)(fV,{children:e.label})]},t))}),(0,R.jsx)(`h2`,{style:{marginBottom:`1rem`,color:`var(--text-color)`},children:`Quick Actions`}),(0,R.jsx)(pV,{children:[{icon:`👤`,title:`Manage Users`,description:`Add, edit, or remove user accounts`},{icon:`🏢`,title:`Company Management`,description:`Manage company profiles and partnerships`},{icon:`📊`,title:`Analytics`,description:`View placement statistics and reports`},{icon:`⚙️`,title:`System Settings`,description:`Configure system preferences`},{icon:`📧`,title:`Notifications`,description:`Send announcements and updates`},{icon:`🔒`,title:`Security`,description:`Manage security settings and permissions`}].map((e,t)=>(0,R.jsxs)(mV,{onClick:()=>n(e.title),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,R.jsx)(hV,{children:e.icon}),(0,R.jsx)(gV,{children:e.title}),(0,R.jsx)(_V,{children:e.description})]},t))})]})},yV=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.surface};
`,bV=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,xV=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,SV=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 1.1rem;
`,CV=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,wV=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.sm};
`,TV=L.div`
  width: 50px;
  height: 50px;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({color:e})=>e||`#10B981`};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  margin-bottom: ${({theme:e})=>e.spacing.md};
`,EV=L.div`
  font-size: 2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,DV=L.div`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,OV=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: ${({theme:e})=>e.spacing.md};
`,kV=L(N.button)`
  padding: ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  cursor: pointer;
  text-align: left;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: ${({theme:e})=>e.shadows.md};
  }
`,AV=L.div`
  font-size: 1.5rem;
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,jV=L.div`
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.xs};
`,MV=L.div`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,NV=()=>{let{userProfile:e}=$M(),t=[{icon:`👨‍🎓`,value:`45`,label:`My Students`,color:`#10B981`},{icon:`📝`,value:`12`,label:`Pending Reviews`,color:`#F59E0B`},{icon:`✅`,value:`28`,label:`Approved Applications`,color:`#3B82F6`},{icon:`📊`,value:`85%`,label:`Student Success Rate`,color:`#8B5CF6`}],n=[{icon:`👥`,title:`View My Students`,description:`Monitor student progress and profiles`,hasData:!0},{icon:`📝`,title:`Review Applications`,description:`Approve or reject student applications`,hasData:!1},{icon:`📊`,title:`Student Analytics`,description:`View detailed student performance metrics`,hasData:!1},{icon:`💼`,title:`Mentorship`,description:`Provide guidance and career counseling`,hasData:!1},{icon:`📧`,title:`Send Updates`,description:`Communicate with students and placement team`,hasData:!1},{icon:`📅`,title:`Schedule Meetings`,description:`Book one-on-one sessions with students`,hasData:!1}],r=e=>{e.hasData?alert(`Students under your guidance:

📚 Computer Science Department:
• John Doe (CS2021001) - 3rd Year
• Jane Smith (CS2021045) - 4th Year  
• Alex Kumar (CS2021078) - 2nd Year

📊 Current Status:
• 15 students actively applying for internships
• 8 students with pending applications
• 5 students already placed

🎯 Recent Activities:
• 3 applications approved this week
• 2 mentorship sessions scheduled
• 1 placement offer received`):alert(`🚧 Coming Soon!

This feature is currently under development and will be available in the next update.`)};return(0,R.jsxs)(yV,{children:[(0,R.jsxs)(bV,{children:[(0,R.jsx)(xV,{children:`Faculty Dashboard`}),(0,R.jsxs)(SV,{children:[`Welcome back, `,e?.name||`Faculty Member`,`! Track your students' placement journey.`]})]}),(0,R.jsx)(CV,{children:t.map((e,t)=>(0,R.jsxs)(wV,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},children:[(0,R.jsx)(TV,{color:e.color,children:e.icon}),(0,R.jsx)(EV,{children:e.value}),(0,R.jsx)(DV,{children:e.label})]},t))}),(0,R.jsx)(`h2`,{style:{marginBottom:`1rem`,color:`var(--text-color)`},children:`Quick Actions`}),(0,R.jsx)(OV,{children:n.map((e,t)=>(0,R.jsxs)(kV,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(e),children:[(0,R.jsx)(AV,{children:e.icon}),(0,R.jsx)(jV,{children:e.title}),(0,R.jsx)(MV,{children:e.description})]},t))})]})},PV=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.surface};
`,FV=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,IV=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,LV=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 1.1rem;
`,RV=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,zV=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.sm};
`,BV=L.div`
  width: 50px;
  height: 50px;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({color:e})=>e||`#F59E0B`};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  margin-bottom: ${({theme:e})=>e.spacing.md};
`,VV=L.div`
  font-size: 2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,HV=L.div`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,UV=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: ${({theme:e})=>e.spacing.md};
`,WV=L(N.button)`
  padding: ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  cursor: pointer;
  text-align: left;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: ${({theme:e})=>e.shadows.md};
  }
`,GV=L.div`
  font-size: 1.5rem;
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,KV=L.div`
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.xs};
`,qV=L.div`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,JV=()=>{let{userProfile:e}=$M(),t=[{icon:`🎯`,value:`234`,label:`Active Placements`,color:`#F59E0B`},{icon:`🏢`,value:`67`,label:`Partner Companies`,color:`#3B82F6`},{icon:`📈`,value:`89%`,label:`Placement Success`,color:`#10B981`},{icon:`⏰`,value:`15`,label:`Pending Approvals`,color:`#EF4444`}],n=[{icon:`🏢`,title:`Manage Companies`,description:`Add and manage company partnerships`},{icon:`💼`,title:`Job Postings`,description:`Create and manage job opportunities`},{icon:`👥`,title:`Student Management`,description:`Oversee student applications and profiles`},{icon:`📊`,title:`Placement Reports`,description:`Generate comprehensive placement analytics`},{icon:`✅`,title:`Approve Applications`,description:`Review and approve student applications`},{icon:`📅`,title:`Schedule Drives`,description:`Organize campus recruitment drives`}],r=()=>{alert(`🚧 Coming Soon!

This feature is currently under development and will be available in the next update.

For immediate assistance, please contact the system administrator.`)};return(0,R.jsxs)(PV,{children:[(0,R.jsxs)(FV,{children:[(0,R.jsx)(IV,{children:`Placement Dashboard`}),(0,R.jsxs)(LV,{children:[`Welcome back, `,e?.name||`Placement Officer`,`! Manage campus placements efficiently.`]})]}),(0,R.jsx)(RV,{children:t.map((e,t)=>(0,R.jsxs)(zV,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},children:[(0,R.jsx)(BV,{color:e.color,children:e.icon}),(0,R.jsx)(VV,{children:e.value}),(0,R.jsx)(HV,{children:e.label})]},t))}),(0,R.jsx)(`h2`,{style:{marginBottom:`1rem`,color:`var(--text-color)`},children:`Quick Actions`}),(0,R.jsx)(UV,{children:n.map((e,t)=>(0,R.jsxs)(WV,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,children:[(0,R.jsx)(GV,{children:e.icon}),(0,R.jsx)(KV,{children:e.title}),(0,R.jsx)(qV,{children:e.description})]},t))})]})},YV=L.div`
  min-height: calc(100vh - 70px);
  padding: ${({theme:e})=>e.spacing.xl};
  background: ${({theme:e})=>e.colors.surface};
`,XV=L.div`
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,ZV=L.h1`
  font-size: 2.5rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,QV=L.p`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 1.1rem;
`,$V=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: ${({theme:e})=>e.spacing.lg};
  margin-bottom: ${({theme:e})=>e.spacing.xl};
`,eH=L(N.div)`
  background: ${({theme:e})=>e.colors.background};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  padding: ${({theme:e})=>e.spacing.xl};
  border: 1px solid ${({theme:e})=>e.colors.border};
  box-shadow: ${({theme:e})=>e.shadows.sm};
`,tH=L.div`
  width: 50px;
  height: 50px;
  border-radius: ${({theme:e})=>e.borderRadius.md};
  background: ${({color:e})=>e||`#8B5CF6`};
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  margin-bottom: ${({theme:e})=>e.spacing.md};
`,nH=L.div`
  font-size: 2rem;
  font-weight: 700;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,rH=L.div`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,iH=L.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: ${({theme:e})=>e.spacing.md};
`,aH=L(N.button)`
  padding: ${({theme:e})=>e.spacing.lg};
  background: ${({theme:e})=>e.colors.background};
  border: 1px solid ${({theme:e})=>e.colors.border};
  border-radius: ${({theme:e})=>e.borderRadius.lg};
  cursor: pointer;
  text-align: left;
  transition: all ${({theme:e})=>e.transitions.fast};

  &:hover {
    border-color: ${({theme:e})=>e.colors.primary};
    box-shadow: ${({theme:e})=>e.shadows.md};
  }
`,oH=L.div`
  font-size: 1.5rem;
  margin-bottom: ${({theme:e})=>e.spacing.sm};
`,sH=L.div`
  font-weight: 600;
  color: ${({theme:e})=>e.colors.text};
  margin-bottom: ${({theme:e})=>e.spacing.xs};
`,cH=L.div`
  color: ${({theme:e})=>e.colors.textSecondary};
  font-size: 0.9rem;
`,lH=()=>{let{userProfile:e}=$M(),t=[{icon:`💼`,value:`8`,label:`Active Job Posts`,color:`#8B5CF6`},{icon:`📝`,value:`142`,label:`Applications Received`,color:`#3B82F6`},{icon:`👤`,value:`23`,label:`Shortlisted Candidates`,color:`#10B981`},{icon:`✅`,value:`5`,label:`Hired This Month`,color:`#F59E0B`}],n=[{icon:`💼`,title:`Post New Job`,description:`Create new job opportunities for students`},{icon:`📋`,title:`View Applications`,description:`Review student applications and resumes`},{icon:`⭐`,title:`Shortlist Candidates`,description:`Select candidates for interviews`},{icon:`📅`,title:`Schedule Interviews`,description:`Arrange interview sessions with candidates`},{icon:`📊`,title:`Recruitment Analytics`,description:`Track hiring metrics and performance`},{icon:`🏢`,title:`Company Profile`,description:`Update company information and branding`}],r=()=>{alert(`🚧 Coming Soon!

This feature is currently under development and will be available in the next update.

In the meantime, you can contact the placement office for assistance with recruitment activities.`)};return(0,R.jsxs)(YV,{children:[(0,R.jsxs)(XV,{children:[(0,R.jsx)(ZV,{children:`Recruiter Dashboard`}),(0,R.jsxs)(QV,{children:[`Welcome back, `,e?.name||`Recruiter`,`! Find the best talent for your company.`]})]}),(0,R.jsx)($V,{children:t.map((e,t)=>(0,R.jsxs)(eH,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},children:[(0,R.jsx)(tH,{color:e.color,children:e.icon}),(0,R.jsx)(nH,{children:e.value}),(0,R.jsx)(rH,{children:e.label})]},t))}),(0,R.jsx)(`h2`,{style:{marginBottom:`1rem`,color:`var(--text-color)`},children:`Quick Actions`}),(0,R.jsx)(iH,{children:n.map((e,t)=>(0,R.jsxs)(aH,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,children:[(0,R.jsx)(oH,{children:e.icon}),(0,R.jsx)(sH,{children:e.title}),(0,R.jsx)(cH,{children:e.description})]},t))})]})};function uH(){return(0,R.jsxs)(Wp,{children:[(0,R.jsx)(sN,{}),(0,R.jsx)(eN,{children:(0,R.jsx)(oN,{children:(0,R.jsx)(Ot,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,R.jsxs)(`div`,{id:`root`,children:[(0,R.jsx)(TN,{}),(0,R.jsx)(`main`,{children:(0,R.jsx)(Iu,{mode:`wait`,children:(0,R.jsxs)(yt,{children:[(0,R.jsx)(E,{path:`/`,element:(0,R.jsx)(yP,{})}),(0,R.jsx)(E,{path:`/about`,element:(0,R.jsx)(HP,{})}),(0,R.jsx)(E,{path:`/profile`,element:(0,R.jsx)(YN,{requiredRoles:[`admin`,`faculty`,`placement`,`recruiter`,`student`],children:(0,R.jsx)(pF,{})})}),(0,R.jsx)(E,{path:`/settings`,element:(0,R.jsx)(YN,{requiredRoles:[`admin`,`faculty`,`placement`,`recruiter`,`student`],children:(0,R.jsx)(DF,{})})}),(0,R.jsx)(E,{path:`/auth/login`,element:(0,R.jsx)(WF,{})}),(0,R.jsx)(E,{path:`/auth/signup`,element:(0,R.jsx)(uI,{})}),(0,R.jsx)(E,{path:`/auth/reset-password`,element:(0,R.jsx)(LI,{})}),(0,R.jsx)(E,{path:`/auth/verify-pending`,element:(0,R.jsx)(CI,{})}),(0,R.jsx)(E,{path:`/dashboard`,element:(0,R.jsx)(YN,{requiredRoles:[`student`,`faculty`,`placement`,`recruiter`,`admin`],children:(0,R.jsx)(nL,{})})}),(0,R.jsx)(E,{path:`/student/dashboard`,element:(0,R.jsx)(YN,{requiredRoles:[`student`],children:(0,R.jsx)(nL,{})})}),(0,R.jsx)(E,{path:`/student/mock-test`,element:(0,R.jsx)(YN,{requiredRoles:[`student`],children:(0,R.jsx)(bL,{})})}),(0,R.jsx)(E,{path:`/jobs`,element:(0,R.jsx)(YN,{requiredRoles:[`student`,`faculty`,`placement`,`recruiter`,`admin`],children:(0,R.jsx)(aR,{})})}),(0,R.jsx)(E,{path:`/student/resume-builder`,element:(0,R.jsx)(YN,{requiredRoles:[`student`],children:(0,R.jsx)(pz,{})})}),(0,R.jsx)(E,{path:`/student/recommended-internships`,element:(0,R.jsx)(YN,{requiredRoles:[`student`],children:(0,R.jsx)(sB,{})})}),(0,R.jsx)(E,{path:`/student/certificates`,element:(0,R.jsx)(YN,{requiredRoles:[`student`],children:(0,R.jsx)(IB,{})})}),(0,R.jsx)(E,{path:`/test-dashboard`,element:(0,R.jsx)(nL,{})}),(0,R.jsx)(E,{path:`/admin/role-approvals`,element:(0,R.jsx)(YN,{requiredRoles:[`placement`,`admin`],children:(0,R.jsx)(rV,{})})}),(0,R.jsx)(E,{path:`/admin`,element:(0,R.jsx)(YN,{requiredRoles:[`admin`],children:(0,R.jsx)(vV,{})})}),(0,R.jsx)(E,{path:`/faculty`,element:(0,R.jsx)(YN,{requiredRoles:[`faculty`],children:(0,R.jsx)(NV,{})})}),(0,R.jsx)(E,{path:`/placement`,element:(0,R.jsx)(YN,{requiredRoles:[`placement`],children:(0,R.jsx)(JV,{})})}),(0,R.jsx)(E,{path:`/recruiter`,element:(0,R.jsx)(YN,{requiredRoles:[`recruiter`],children:(0,R.jsx)(lH,{})})}),(0,R.jsx)(E,{path:`/student`,element:(0,R.jsx)(YN,{requiredRoles:[`student`],children:(0,R.jsx)(nL,{})})}),(0,R.jsx)(E,{path:`/login`,element:(0,R.jsx)(WF,{})}),(0,R.jsx)(E,{path:`/signup`,element:(0,R.jsx)(uI,{})})]})})}),(0,R.jsx)(zN,{})]})})})})]})}var dH=uH;(0,v.createRoot)(document.getElementById(`root`)).render((0,R.jsx)(b.StrictMode,{children:(0,R.jsx)(dH,{})}));